function Gg(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const r in s)if(r!=="default"&&!(r in t)){const i=Object.getOwnPropertyDescriptor(s,r);i&&Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:()=>s[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function Qg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var nf={exports:{}},ma={},sf={exports:{}},K={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ti=Symbol.for("react.element"),Yg=Symbol.for("react.portal"),Xg=Symbol.for("react.fragment"),Kg=Symbol.for("react.strict_mode"),Zg=Symbol.for("react.profiler"),Jg=Symbol.for("react.provider"),ev=Symbol.for("react.context"),tv=Symbol.for("react.forward_ref"),nv=Symbol.for("react.suspense"),sv=Symbol.for("react.memo"),rv=Symbol.for("react.lazy"),yh=Symbol.iterator;function iv(t){return t===null||typeof t!="object"?null:(t=yh&&t[yh]||t["@@iterator"],typeof t=="function"?t:null)}var rf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},of=Object.assign,af={};function Tr(t,e,n){this.props=t,this.context=e,this.refs=af,this.updater=n||rf}Tr.prototype.isReactComponent={};Tr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Tr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function lf(){}lf.prototype=Tr.prototype;function Lc(t,e,n){this.props=t,this.context=e,this.refs=af,this.updater=n||rf}var zc=Lc.prototype=new lf;zc.constructor=Lc;of(zc,Tr.prototype);zc.isPureReactComponent=!0;var _h=Array.isArray,cf=Object.prototype.hasOwnProperty,Wc={current:null},uf={key:!0,ref:!0,__self:!0,__source:!0};function hf(t,e,n){var s,r={},i=null,o=null;if(e!=null)for(s in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)cf.call(e,s)&&!uf.hasOwnProperty(s)&&(r[s]=e[s]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(t&&t.defaultProps)for(s in a=t.defaultProps,a)r[s]===void 0&&(r[s]=a[s]);return{$$typeof:Ti,type:t,key:i,ref:o,props:r,_owner:Wc.current}}function ov(t,e){return{$$typeof:Ti,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Bc(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ti}function av(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var wh=/\/+/g;function nl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?av(""+t.key):e.toString(36)}function fo(t,e,n,s,r){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ti:case Yg:o=!0}}if(o)return o=t,r=r(o),t=s===""?"."+nl(o,0):s,_h(r)?(n="",t!=null&&(n=t.replace(wh,"$&/")+"/"),fo(r,e,n,"",function(c){return c})):r!=null&&(Bc(r)&&(r=ov(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(wh,"$&/")+"/")+t)),e.push(r)),1;if(o=0,s=s===""?".":s+":",_h(t))for(var a=0;a<t.length;a++){i=t[a];var l=s+nl(i,a);o+=fo(i,e,n,l,r)}else if(l=iv(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=s+nl(i,a++),o+=fo(i,e,n,l,r);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function $i(t,e,n){if(t==null)return t;var s=[],r=0;return fo(t,s,"","",function(i){return e.call(n,i,r++)}),s}function lv(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ot={current:null},po={transition:null},cv={ReactCurrentDispatcher:ot,ReactCurrentBatchConfig:po,ReactCurrentOwner:Wc};function df(){throw Error("act(...) is not supported in production builds of React.")}K.Children={map:$i,forEach:function(t,e,n){$i(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return $i(t,function(){e++}),e},toArray:function(t){return $i(t,function(e){return e})||[]},only:function(t){if(!Bc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};K.Component=Tr;K.Fragment=Xg;K.Profiler=Zg;K.PureComponent=Lc;K.StrictMode=Kg;K.Suspense=nv;K.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cv;K.act=df;K.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var s=of({},t.props),r=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Wc.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)cf.call(e,l)&&!uf.hasOwnProperty(l)&&(s[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];s.children=a}return{$$typeof:Ti,type:t.type,key:r,ref:i,props:s,_owner:o}};K.createContext=function(t){return t={$$typeof:ev,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Jg,_context:t},t.Consumer=t};K.createElement=hf;K.createFactory=function(t){var e=hf.bind(null,t);return e.type=t,e};K.createRef=function(){return{current:null}};K.forwardRef=function(t){return{$$typeof:tv,render:t}};K.isValidElement=Bc;K.lazy=function(t){return{$$typeof:rv,_payload:{_status:-1,_result:t},_init:lv}};K.memo=function(t,e){return{$$typeof:sv,type:t,compare:e===void 0?null:e}};K.startTransition=function(t){var e=po.transition;po.transition={};try{t()}finally{po.transition=e}};K.unstable_act=df;K.useCallback=function(t,e){return ot.current.useCallback(t,e)};K.useContext=function(t){return ot.current.useContext(t)};K.useDebugValue=function(){};K.useDeferredValue=function(t){return ot.current.useDeferredValue(t)};K.useEffect=function(t,e){return ot.current.useEffect(t,e)};K.useId=function(){return ot.current.useId()};K.useImperativeHandle=function(t,e,n){return ot.current.useImperativeHandle(t,e,n)};K.useInsertionEffect=function(t,e){return ot.current.useInsertionEffect(t,e)};K.useLayoutEffect=function(t,e){return ot.current.useLayoutEffect(t,e)};K.useMemo=function(t,e){return ot.current.useMemo(t,e)};K.useReducer=function(t,e,n){return ot.current.useReducer(t,e,n)};K.useRef=function(t){return ot.current.useRef(t)};K.useState=function(t){return ot.current.useState(t)};K.useSyncExternalStore=function(t,e,n){return ot.current.useSyncExternalStore(t,e,n)};K.useTransition=function(){return ot.current.useTransition()};K.version="18.3.1";sf.exports=K;var A=sf.exports;const ff=Qg(A),uv=Gg({__proto__:null,default:ff},[A]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hv=A,dv=Symbol.for("react.element"),fv=Symbol.for("react.fragment"),pv=Object.prototype.hasOwnProperty,mv=hv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,gv={key:!0,ref:!0,__self:!0,__source:!0};function pf(t,e,n){var s,r={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(s in e)pv.call(e,s)&&!gv.hasOwnProperty(s)&&(r[s]=e[s]);if(t&&t.defaultProps)for(s in e=t.defaultProps,e)r[s]===void 0&&(r[s]=e[s]);return{$$typeof:dv,type:t,key:i,ref:o,props:r,_owner:mv.current}}ma.Fragment=fv;ma.jsx=pf;ma.jsxs=pf;nf.exports=ma;var f=nf.exports,Il={},mf={exports:{}},kt={},gf={exports:{}},vf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,P){var D=j.length;j.push(P);e:for(;0<D;){var L=D-1>>>1,q=j[L];if(0<r(q,P))j[L]=P,j[D]=q,D=L;else break e}}function n(j){return j.length===0?null:j[0]}function s(j){if(j.length===0)return null;var P=j[0],D=j.pop();if(D!==P){j[0]=D;e:for(var L=0,q=j.length,be=q>>>1;L<be;){var ke=2*(L+1)-1,Q=j[ke],J=ke+1,Ne=j[J];if(0>r(Q,D))J<q&&0>r(Ne,Q)?(j[L]=Ne,j[J]=D,L=J):(j[L]=Q,j[ke]=D,L=ke);else if(J<q&&0>r(Ne,D))j[L]=Ne,j[J]=D,L=J;else break e}}return P}function r(j,P){var D=j.sortIndex-P.sortIndex;return D!==0?D:j.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,p=3,v=!1,g=!1,_=!1,x=typeof setTimeout=="function"?setTimeout:null,d=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(j){for(var P=n(c);P!==null;){if(P.callback===null)s(c);else if(P.startTime<=j)s(c),P.sortIndex=P.expirationTime,e(l,P);else break;P=n(c)}}function T(j){if(_=!1,y(j),!g)if(n(l)!==null)g=!0,F(w);else{var P=n(c);P!==null&&W(T,P.startTime-j)}}function w(j,P){g=!1,_&&(_=!1,d(k),k=-1),v=!0;var D=p;try{for(y(P),h=n(l);h!==null&&(!(h.expirationTime>P)||j&&!O());){var L=h.callback;if(typeof L=="function"){h.callback=null,p=h.priorityLevel;var q=L(h.expirationTime<=P);P=t.unstable_now(),typeof q=="function"?h.callback=q:h===n(l)&&s(l),y(P)}else s(l);h=n(l)}if(h!==null)var be=!0;else{var ke=n(c);ke!==null&&W(T,ke.startTime-P),be=!1}return be}finally{h=null,p=D,v=!1}}var S=!1,C=null,k=-1,E=5,N=-1;function O(){return!(t.unstable_now()-N<E)}function I(){if(C!==null){var j=t.unstable_now();N=j;var P=!0;try{P=C(!0,j)}finally{P?R():(S=!1,C=null)}}else S=!1}var R;if(typeof m=="function")R=function(){m(I)};else if(typeof MessageChannel<"u"){var b=new MessageChannel,B=b.port2;b.port1.onmessage=I,R=function(){B.postMessage(null)}}else R=function(){x(I,0)};function F(j){C=j,S||(S=!0,R())}function W(j,P){k=x(function(){j(t.unstable_now())},P)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){g||v||(g=!0,F(w))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(j){switch(p){case 1:case 2:case 3:var P=3;break;default:P=p}var D=p;p=P;try{return j()}finally{p=D}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,P){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var D=p;p=j;try{return P()}finally{p=D}},t.unstable_scheduleCallback=function(j,P,D){var L=t.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?L+D:L):D=L,j){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=D+q,j={id:u++,callback:P,priorityLevel:j,startTime:D,expirationTime:q,sortIndex:-1},D>L?(j.sortIndex=D,e(c,j),n(l)===null&&j===n(c)&&(_?(d(k),k=-1):_=!0,W(T,D-L))):(j.sortIndex=q,e(l,j),g||v||(g=!0,F(w))),j},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(j){var P=p;return function(){var D=p;p=P;try{return j.apply(this,arguments)}finally{p=D}}}})(vf);gf.exports=vf;var vv=gf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yv=A,St=vv;function M(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var yf=new Set,ni={};function Os(t,e){cr(t,e),cr(t+"Capture",e)}function cr(t,e){for(ni[t]=e,t=0;t<e.length;t++)yf.add(e[t])}var vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jl=Object.prototype.hasOwnProperty,_v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xh={},Sh={};function wv(t){return jl.call(Sh,t)?!0:jl.call(xh,t)?!1:_v.test(t)?Sh[t]=!0:(xh[t]=!0,!1)}function xv(t,e,n,s){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Sv(t,e,n,s){if(e===null||typeof e>"u"||xv(t,e,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function at(t,e,n,s,r,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Ue={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ue[t]=new at(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ue[e]=new at(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ue[t]=new at(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ue[t]=new at(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ue[t]=new at(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ue[t]=new at(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ue[t]=new at(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ue[t]=new at(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ue[t]=new at(t,5,!1,t.toLowerCase(),null,!1,!1)});var Uc=/[\-:]([a-z])/g;function qc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Uc,qc);Ue[e]=new at(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Uc,qc);Ue[e]=new at(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Uc,qc);Ue[e]=new at(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ue[t]=new at(t,1,!1,t.toLowerCase(),null,!1,!1)});Ue.xlinkHref=new at("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ue[t]=new at(t,1,!1,t.toLowerCase(),null,!0,!0)});function $c(t,e,n,s){var r=Ue.hasOwnProperty(e)?Ue[e]:null;(r!==null?r.type!==0:s||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Sv(e,n,r,s)&&(n=null),s||r===null?wv(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,s=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,s?t.setAttributeNS(s,e,n):t.setAttribute(e,n))))}var Sn=yv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hi=Symbol.for("react.element"),Ws=Symbol.for("react.portal"),Bs=Symbol.for("react.fragment"),Hc=Symbol.for("react.strict_mode"),Ml=Symbol.for("react.profiler"),_f=Symbol.for("react.provider"),wf=Symbol.for("react.context"),Gc=Symbol.for("react.forward_ref"),Pl=Symbol.for("react.suspense"),Rl=Symbol.for("react.suspense_list"),Qc=Symbol.for("react.memo"),On=Symbol.for("react.lazy"),xf=Symbol.for("react.offscreen"),kh=Symbol.iterator;function Dr(t){return t===null||typeof t!="object"?null:(t=kh&&t[kh]||t["@@iterator"],typeof t=="function"?t:null)}var ge=Object.assign,sl;function Ur(t){if(sl===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);sl=e&&e[1]||""}return`
`+sl+t}var rl=!1;function il(t,e){if(!t||rl)return"";rl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var s=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){s=c}t.call(e.prototype)}else{try{throw Error()}catch(c){s=c}t()}}catch(c){if(c&&s&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),i=s.stack.split(`
`),o=r.length-1,a=i.length-1;1<=o&&0<=a&&r[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==i[a]){var l=`
`+r[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{rl=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ur(t):""}function kv(t){switch(t.tag){case 5:return Ur(t.type);case 16:return Ur("Lazy");case 13:return Ur("Suspense");case 19:return Ur("SuspenseList");case 0:case 2:case 15:return t=il(t.type,!1),t;case 11:return t=il(t.type.render,!1),t;case 1:return t=il(t.type,!0),t;default:return""}}function Dl(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Bs:return"Fragment";case Ws:return"Portal";case Ml:return"Profiler";case Hc:return"StrictMode";case Pl:return"Suspense";case Rl:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case wf:return(t.displayName||"Context")+".Consumer";case _f:return(t._context.displayName||"Context")+".Provider";case Gc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Qc:return e=t.displayName||null,e!==null?e:Dl(t.type)||"Memo";case On:e=t._payload,t=t._init;try{return Dl(t(e))}catch{}}return null}function Tv(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Dl(e);case 8:return e===Hc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Xn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Sf(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Cv(t){var e=Sf(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Gi(t){t._valueTracker||(t._valueTracker=Cv(t))}function kf(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),s="";return t&&(s=Sf(t)?t.checked?"true":"false":t.value),t=s,t!==n?(e.setValue(t),!0):!1}function Ao(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function bl(t,e){var n=e.checked;return ge({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Th(t,e){var n=e.defaultValue==null?"":e.defaultValue,s=e.checked!=null?e.checked:e.defaultChecked;n=Xn(e.value!=null?e.value:n),t._wrapperState={initialChecked:s,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Tf(t,e){e=e.checked,e!=null&&$c(t,"checked",e,!1)}function Fl(t,e){Tf(t,e);var n=Xn(e.value),s=e.type;if(n!=null)s==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(s==="submit"||s==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Vl(t,e.type,n):e.hasOwnProperty("defaultValue")&&Vl(t,e.type,Xn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ch(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!(s!=="submit"&&s!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Vl(t,e,n){(e!=="number"||Ao(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var qr=Array.isArray;function tr(t,e,n,s){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&s&&(t[n].defaultSelected=!0)}else{for(n=""+Xn(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,s&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function Ll(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(M(91));return ge({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Nh(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(M(92));if(qr(n)){if(1<n.length)throw Error(M(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Xn(n)}}function Cf(t,e){var n=Xn(e.value),s=Xn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),s!=null&&(t.defaultValue=""+s)}function Eh(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Nf(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zl(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Nf(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Qi,Ef=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,s,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,s,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Qi=Qi||document.createElement("div"),Qi.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Qi.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function si(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Gr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Nv=["Webkit","ms","Moz","O"];Object.keys(Gr).forEach(function(t){Nv.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Gr[e]=Gr[t]})});function Af(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Gr.hasOwnProperty(t)&&Gr[t]?(""+e).trim():e+"px"}function Of(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var s=n.indexOf("--")===0,r=Af(n,e[n],s);n==="float"&&(n="cssFloat"),s?t.setProperty(n,r):t[n]=r}}var Ev=ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wl(t,e){if(e){if(Ev[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(M(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(M(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(M(61))}if(e.style!=null&&typeof e.style!="object")throw Error(M(62))}}function Bl(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ul=null;function Yc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ql=null,nr=null,sr=null;function Ah(t){if(t=Ei(t)){if(typeof ql!="function")throw Error(M(280));var e=t.stateNode;e&&(e=wa(e),ql(t.stateNode,t.type,e))}}function If(t){nr?sr?sr.push(t):sr=[t]:nr=t}function jf(){if(nr){var t=nr,e=sr;if(sr=nr=null,Ah(t),e)for(t=0;t<e.length;t++)Ah(e[t])}}function Mf(t,e){return t(e)}function Pf(){}var ol=!1;function Rf(t,e,n){if(ol)return t(e,n);ol=!0;try{return Mf(t,e,n)}finally{ol=!1,(nr!==null||sr!==null)&&(Pf(),jf())}}function ri(t,e){var n=t.stateNode;if(n===null)return null;var s=wa(n);if(s===null)return null;n=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(M(231,e,typeof n));return n}var $l=!1;if(vn)try{var br={};Object.defineProperty(br,"passive",{get:function(){$l=!0}}),window.addEventListener("test",br,br),window.removeEventListener("test",br,br)}catch{$l=!1}function Av(t,e,n,s,r,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Qr=!1,Oo=null,Io=!1,Hl=null,Ov={onError:function(t){Qr=!0,Oo=t}};function Iv(t,e,n,s,r,i,o,a,l){Qr=!1,Oo=null,Av.apply(Ov,arguments)}function jv(t,e,n,s,r,i,o,a,l){if(Iv.apply(this,arguments),Qr){if(Qr){var c=Oo;Qr=!1,Oo=null}else throw Error(M(198));Io||(Io=!0,Hl=c)}}function Is(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Df(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Oh(t){if(Is(t)!==t)throw Error(M(188))}function Mv(t){var e=t.alternate;if(!e){if(e=Is(t),e===null)throw Error(M(188));return e!==t?null:t}for(var n=t,s=e;;){var r=n.return;if(r===null)break;var i=r.alternate;if(i===null){if(s=r.return,s!==null){n=s;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return Oh(r),t;if(i===s)return Oh(r),e;i=i.sibling}throw Error(M(188))}if(n.return!==s.return)n=r,s=i;else{for(var o=!1,a=r.child;a;){if(a===n){o=!0,n=r,s=i;break}if(a===s){o=!0,s=r,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,s=r;break}if(a===s){o=!0,s=i,n=r;break}a=a.sibling}if(!o)throw Error(M(189))}}if(n.alternate!==s)throw Error(M(190))}if(n.tag!==3)throw Error(M(188));return n.stateNode.current===n?t:e}function bf(t){return t=Mv(t),t!==null?Ff(t):null}function Ff(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Ff(t);if(e!==null)return e;t=t.sibling}return null}var Vf=St.unstable_scheduleCallback,Ih=St.unstable_cancelCallback,Pv=St.unstable_shouldYield,Rv=St.unstable_requestPaint,Te=St.unstable_now,Dv=St.unstable_getCurrentPriorityLevel,Xc=St.unstable_ImmediatePriority,Lf=St.unstable_UserBlockingPriority,jo=St.unstable_NormalPriority,bv=St.unstable_LowPriority,zf=St.unstable_IdlePriority,ga=null,Kt=null;function Fv(t){if(Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(ga,t,void 0,(t.current.flags&128)===128)}catch{}}var zt=Math.clz32?Math.clz32:zv,Vv=Math.log,Lv=Math.LN2;function zv(t){return t>>>=0,t===0?32:31-(Vv(t)/Lv|0)|0}var Yi=64,Xi=4194304;function $r(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Mo(t,e){var n=t.pendingLanes;if(n===0)return 0;var s=0,r=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~r;a!==0?s=$r(a):(i&=o,i!==0&&(s=$r(i)))}else o=n&~r,o!==0?s=$r(o):i!==0&&(s=$r(i));if(s===0)return 0;if(e!==0&&e!==s&&!(e&r)&&(r=s&-s,i=e&-e,r>=i||r===16&&(i&4194240)!==0))return e;if(s&4&&(s|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=s;0<e;)n=31-zt(e),r=1<<n,s|=t[n],e&=~r;return s}function Wv(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bv(t,e){for(var n=t.suspendedLanes,s=t.pingedLanes,r=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-zt(i),a=1<<o,l=r[o];l===-1?(!(a&n)||a&s)&&(r[o]=Wv(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Gl(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Wf(){var t=Yi;return Yi<<=1,!(Yi&4194240)&&(Yi=64),t}function al(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ci(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-zt(e),t[e]=n}function Uv(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var s=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-zt(n),i=1<<r;e[r]=0,s[r]=-1,t[r]=-1,n&=~i}}function Kc(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var s=31-zt(n),r=1<<s;r&e|t[s]&e&&(t[s]|=e),n&=~r}}var ne=0;function Bf(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Uf,Zc,qf,$f,Hf,Ql=!1,Ki=[],Ln=null,zn=null,Wn=null,ii=new Map,oi=new Map,Mn=[],qv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jh(t,e){switch(t){case"focusin":case"focusout":Ln=null;break;case"dragenter":case"dragleave":zn=null;break;case"mouseover":case"mouseout":Wn=null;break;case"pointerover":case"pointerout":ii.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":oi.delete(e.pointerId)}}function Fr(t,e,n,s,r,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[r]},e!==null&&(e=Ei(e),e!==null&&Zc(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function $v(t,e,n,s,r){switch(e){case"focusin":return Ln=Fr(Ln,t,e,n,s,r),!0;case"dragenter":return zn=Fr(zn,t,e,n,s,r),!0;case"mouseover":return Wn=Fr(Wn,t,e,n,s,r),!0;case"pointerover":var i=r.pointerId;return ii.set(i,Fr(ii.get(i)||null,t,e,n,s,r)),!0;case"gotpointercapture":return i=r.pointerId,oi.set(i,Fr(oi.get(i)||null,t,e,n,s,r)),!0}return!1}function Gf(t){var e=ds(t.target);if(e!==null){var n=Is(e);if(n!==null){if(e=n.tag,e===13){if(e=Df(n),e!==null){t.blockedOn=e,Hf(t.priority,function(){qf(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function mo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Yl(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var s=new n.constructor(n.type,n);Ul=s,n.target.dispatchEvent(s),Ul=null}else return e=Ei(n),e!==null&&Zc(e),t.blockedOn=n,!1;e.shift()}return!0}function Mh(t,e,n){mo(t)&&n.delete(e)}function Hv(){Ql=!1,Ln!==null&&mo(Ln)&&(Ln=null),zn!==null&&mo(zn)&&(zn=null),Wn!==null&&mo(Wn)&&(Wn=null),ii.forEach(Mh),oi.forEach(Mh)}function Vr(t,e){t.blockedOn===e&&(t.blockedOn=null,Ql||(Ql=!0,St.unstable_scheduleCallback(St.unstable_NormalPriority,Hv)))}function ai(t){function e(r){return Vr(r,t)}if(0<Ki.length){Vr(Ki[0],t);for(var n=1;n<Ki.length;n++){var s=Ki[n];s.blockedOn===t&&(s.blockedOn=null)}}for(Ln!==null&&Vr(Ln,t),zn!==null&&Vr(zn,t),Wn!==null&&Vr(Wn,t),ii.forEach(e),oi.forEach(e),n=0;n<Mn.length;n++)s=Mn[n],s.blockedOn===t&&(s.blockedOn=null);for(;0<Mn.length&&(n=Mn[0],n.blockedOn===null);)Gf(n),n.blockedOn===null&&Mn.shift()}var rr=Sn.ReactCurrentBatchConfig,Po=!0;function Gv(t,e,n,s){var r=ne,i=rr.transition;rr.transition=null;try{ne=1,Jc(t,e,n,s)}finally{ne=r,rr.transition=i}}function Qv(t,e,n,s){var r=ne,i=rr.transition;rr.transition=null;try{ne=4,Jc(t,e,n,s)}finally{ne=r,rr.transition=i}}function Jc(t,e,n,s){if(Po){var r=Yl(t,e,n,s);if(r===null)vl(t,e,s,Ro,n),jh(t,s);else if($v(r,t,e,n,s))s.stopPropagation();else if(jh(t,s),e&4&&-1<qv.indexOf(t)){for(;r!==null;){var i=Ei(r);if(i!==null&&Uf(i),i=Yl(t,e,n,s),i===null&&vl(t,e,s,Ro,n),i===r)break;r=i}r!==null&&s.stopPropagation()}else vl(t,e,s,null,n)}}var Ro=null;function Yl(t,e,n,s){if(Ro=null,t=Yc(s),t=ds(t),t!==null)if(e=Is(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Df(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ro=t,null}function Qf(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Dv()){case Xc:return 1;case Lf:return 4;case jo:case bv:return 16;case zf:return 536870912;default:return 16}default:return 16}}var Rn=null,eu=null,go=null;function Yf(){if(go)return go;var t,e=eu,n=e.length,s,r="value"in Rn?Rn.value:Rn.textContent,i=r.length;for(t=0;t<n&&e[t]===r[t];t++);var o=n-t;for(s=1;s<=o&&e[n-s]===r[i-s];s++);return go=r.slice(t,1<s?1-s:void 0)}function vo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Zi(){return!0}function Ph(){return!1}function Tt(t){function e(n,s,r,i,o){this._reactName=n,this._targetInst=r,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Zi:Ph,this.isPropagationStopped=Ph,this}return ge(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Zi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Zi)},persist:function(){},isPersistent:Zi}),e}var Cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tu=Tt(Cr),Ni=ge({},Cr,{view:0,detail:0}),Yv=Tt(Ni),ll,cl,Lr,va=ge({},Ni,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Lr&&(Lr&&t.type==="mousemove"?(ll=t.screenX-Lr.screenX,cl=t.screenY-Lr.screenY):cl=ll=0,Lr=t),ll)},movementY:function(t){return"movementY"in t?t.movementY:cl}}),Rh=Tt(va),Xv=ge({},va,{dataTransfer:0}),Kv=Tt(Xv),Zv=ge({},Ni,{relatedTarget:0}),ul=Tt(Zv),Jv=ge({},Cr,{animationName:0,elapsedTime:0,pseudoElement:0}),ey=Tt(Jv),ty=ge({},Cr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ny=Tt(ty),sy=ge({},Cr,{data:0}),Dh=Tt(sy),ry={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ay(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=oy[t])?!!e[t]:!1}function nu(){return ay}var ly=ge({},Ni,{key:function(t){if(t.key){var e=ry[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=vo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?iy[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nu,charCode:function(t){return t.type==="keypress"?vo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),cy=Tt(ly),uy=ge({},va,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bh=Tt(uy),hy=ge({},Ni,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nu}),dy=Tt(hy),fy=ge({},Cr,{propertyName:0,elapsedTime:0,pseudoElement:0}),py=Tt(fy),my=ge({},va,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),gy=Tt(my),vy=[9,13,27,32],su=vn&&"CompositionEvent"in window,Yr=null;vn&&"documentMode"in document&&(Yr=document.documentMode);var yy=vn&&"TextEvent"in window&&!Yr,Xf=vn&&(!su||Yr&&8<Yr&&11>=Yr),Fh=" ",Vh=!1;function Kf(t,e){switch(t){case"keyup":return vy.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Us=!1;function _y(t,e){switch(t){case"compositionend":return Zf(e);case"keypress":return e.which!==32?null:(Vh=!0,Fh);case"textInput":return t=e.data,t===Fh&&Vh?null:t;default:return null}}function wy(t,e){if(Us)return t==="compositionend"||!su&&Kf(t,e)?(t=Yf(),go=eu=Rn=null,Us=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Xf&&e.locale!=="ko"?null:e.data;default:return null}}var xy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!xy[t.type]:e==="textarea"}function Jf(t,e,n,s){If(s),e=Do(e,"onChange"),0<e.length&&(n=new tu("onChange","change",null,n,s),t.push({event:n,listeners:e}))}var Xr=null,li=null;function Sy(t){up(t,0)}function ya(t){var e=Hs(t);if(kf(e))return t}function ky(t,e){if(t==="change")return e}var ep=!1;if(vn){var hl;if(vn){var dl="oninput"in document;if(!dl){var zh=document.createElement("div");zh.setAttribute("oninput","return;"),dl=typeof zh.oninput=="function"}hl=dl}else hl=!1;ep=hl&&(!document.documentMode||9<document.documentMode)}function Wh(){Xr&&(Xr.detachEvent("onpropertychange",tp),li=Xr=null)}function tp(t){if(t.propertyName==="value"&&ya(li)){var e=[];Jf(e,li,t,Yc(t)),Rf(Sy,e)}}function Ty(t,e,n){t==="focusin"?(Wh(),Xr=e,li=n,Xr.attachEvent("onpropertychange",tp)):t==="focusout"&&Wh()}function Cy(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ya(li)}function Ny(t,e){if(t==="click")return ya(e)}function Ey(t,e){if(t==="input"||t==="change")return ya(e)}function Ay(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Bt=typeof Object.is=="function"?Object.is:Ay;function ci(t,e){if(Bt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var r=n[s];if(!jl.call(e,r)||!Bt(t[r],e[r]))return!1}return!0}function Bh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Uh(t,e){var n=Bh(t);t=0;for(var s;n;){if(n.nodeType===3){if(s=t+n.textContent.length,t<=e&&s>=e)return{node:n,offset:e-t};t=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Bh(n)}}function np(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?np(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function sp(){for(var t=window,e=Ao();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ao(t.document)}return e}function ru(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Oy(t){var e=sp(),n=t.focusedElem,s=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&np(n.ownerDocument.documentElement,n)){if(s!==null&&ru(n)){if(e=s.start,t=s.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,i=Math.min(s.start,r);s=s.end===void 0?i:Math.min(s.end,r),!t.extend&&i>s&&(r=s,s=i,i=r),r=Uh(n,i);var o=Uh(n,s);r&&o&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),i>s?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Iy=vn&&"documentMode"in document&&11>=document.documentMode,qs=null,Xl=null,Kr=null,Kl=!1;function qh(t,e,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Kl||qs==null||qs!==Ao(s)||(s=qs,"selectionStart"in s&&ru(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Kr&&ci(Kr,s)||(Kr=s,s=Do(Xl,"onSelect"),0<s.length&&(e=new tu("onSelect","select",null,e,n),t.push({event:e,listeners:s}),e.target=qs)))}function Ji(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var $s={animationend:Ji("Animation","AnimationEnd"),animationiteration:Ji("Animation","AnimationIteration"),animationstart:Ji("Animation","AnimationStart"),transitionend:Ji("Transition","TransitionEnd")},fl={},rp={};vn&&(rp=document.createElement("div").style,"AnimationEvent"in window||(delete $s.animationend.animation,delete $s.animationiteration.animation,delete $s.animationstart.animation),"TransitionEvent"in window||delete $s.transitionend.transition);function _a(t){if(fl[t])return fl[t];if(!$s[t])return t;var e=$s[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in rp)return fl[t]=e[n];return t}var ip=_a("animationend"),op=_a("animationiteration"),ap=_a("animationstart"),lp=_a("transitionend"),cp=new Map,$h="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ts(t,e){cp.set(t,e),Os(e,[t])}for(var pl=0;pl<$h.length;pl++){var ml=$h[pl],jy=ml.toLowerCase(),My=ml[0].toUpperCase()+ml.slice(1);ts(jy,"on"+My)}ts(ip,"onAnimationEnd");ts(op,"onAnimationIteration");ts(ap,"onAnimationStart");ts("dblclick","onDoubleClick");ts("focusin","onFocus");ts("focusout","onBlur");ts(lp,"onTransitionEnd");cr("onMouseEnter",["mouseout","mouseover"]);cr("onMouseLeave",["mouseout","mouseover"]);cr("onPointerEnter",["pointerout","pointerover"]);cr("onPointerLeave",["pointerout","pointerover"]);Os("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Os("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Os("onBeforeInput",["compositionend","keypress","textInput","paste"]);Os("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Os("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Os("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Py=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hr));function Hh(t,e,n){var s=t.type||"unknown-event";t.currentTarget=n,jv(s,e,void 0,t),t.currentTarget=null}function up(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var s=t[n],r=s.event;s=s.listeners;e:{var i=void 0;if(e)for(var o=s.length-1;0<=o;o--){var a=s[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&r.isPropagationStopped())break e;Hh(r,a,c),i=l}else for(o=0;o<s.length;o++){if(a=s[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&r.isPropagationStopped())break e;Hh(r,a,c),i=l}}}if(Io)throw t=Hl,Io=!1,Hl=null,t}function oe(t,e){var n=e[nc];n===void 0&&(n=e[nc]=new Set);var s=t+"__bubble";n.has(s)||(hp(e,t,2,!1),n.add(s))}function gl(t,e,n){var s=0;e&&(s|=4),hp(n,t,s,e)}var eo="_reactListening"+Math.random().toString(36).slice(2);function ui(t){if(!t[eo]){t[eo]=!0,yf.forEach(function(n){n!=="selectionchange"&&(Py.has(n)||gl(n,!1,t),gl(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[eo]||(e[eo]=!0,gl("selectionchange",!1,e))}}function hp(t,e,n,s){switch(Qf(e)){case 1:var r=Gv;break;case 4:r=Qv;break;default:r=Jc}n=r.bind(null,e,n,t),r=void 0,!$l||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),s?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function vl(t,e,n,s,r){var i=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var a=s.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=s.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=ds(a),o===null)return;if(l=o.tag,l===5||l===6){s=i=o;continue e}a=a.parentNode}}s=s.return}Rf(function(){var c=i,u=Yc(n),h=[];e:{var p=cp.get(t);if(p!==void 0){var v=tu,g=t;switch(t){case"keypress":if(vo(n)===0)break e;case"keydown":case"keyup":v=cy;break;case"focusin":g="focus",v=ul;break;case"focusout":g="blur",v=ul;break;case"beforeblur":case"afterblur":v=ul;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Rh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Kv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=dy;break;case ip:case op:case ap:v=ey;break;case lp:v=py;break;case"scroll":v=Yv;break;case"wheel":v=gy;break;case"copy":case"cut":case"paste":v=ny;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=bh}var _=(e&4)!==0,x=!_&&t==="scroll",d=_?p!==null?p+"Capture":null:p;_=[];for(var m=c,y;m!==null;){y=m;var T=y.stateNode;if(y.tag===5&&T!==null&&(y=T,d!==null&&(T=ri(m,d),T!=null&&_.push(hi(m,T,y)))),x)break;m=m.return}0<_.length&&(p=new v(p,g,null,n,u),h.push({event:p,listeners:_}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",p&&n!==Ul&&(g=n.relatedTarget||n.fromElement)&&(ds(g)||g[yn]))break e;if((v||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,v?(g=n.relatedTarget||n.toElement,v=c,g=g?ds(g):null,g!==null&&(x=Is(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(v=null,g=c),v!==g)){if(_=Rh,T="onMouseLeave",d="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(_=bh,T="onPointerLeave",d="onPointerEnter",m="pointer"),x=v==null?p:Hs(v),y=g==null?p:Hs(g),p=new _(T,m+"leave",v,n,u),p.target=x,p.relatedTarget=y,T=null,ds(u)===c&&(_=new _(d,m+"enter",g,n,u),_.target=y,_.relatedTarget=x,T=_),x=T,v&&g)t:{for(_=v,d=g,m=0,y=_;y;y=Vs(y))m++;for(y=0,T=d;T;T=Vs(T))y++;for(;0<m-y;)_=Vs(_),m--;for(;0<y-m;)d=Vs(d),y--;for(;m--;){if(_===d||d!==null&&_===d.alternate)break t;_=Vs(_),d=Vs(d)}_=null}else _=null;v!==null&&Gh(h,p,v,_,!1),g!==null&&x!==null&&Gh(h,x,g,_,!0)}}e:{if(p=c?Hs(c):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var w=ky;else if(Lh(p))if(ep)w=Ey;else{w=Cy;var S=Ty}else(v=p.nodeName)&&v.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(w=Ny);if(w&&(w=w(t,c))){Jf(h,w,n,u);break e}S&&S(t,p,c),t==="focusout"&&(S=p._wrapperState)&&S.controlled&&p.type==="number"&&Vl(p,"number",p.value)}switch(S=c?Hs(c):window,t){case"focusin":(Lh(S)||S.contentEditable==="true")&&(qs=S,Xl=c,Kr=null);break;case"focusout":Kr=Xl=qs=null;break;case"mousedown":Kl=!0;break;case"contextmenu":case"mouseup":case"dragend":Kl=!1,qh(h,n,u);break;case"selectionchange":if(Iy)break;case"keydown":case"keyup":qh(h,n,u)}var C;if(su)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Us?Kf(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(Xf&&n.locale!=="ko"&&(Us||k!=="onCompositionStart"?k==="onCompositionEnd"&&Us&&(C=Yf()):(Rn=u,eu="value"in Rn?Rn.value:Rn.textContent,Us=!0)),S=Do(c,k),0<S.length&&(k=new Dh(k,t,null,n,u),h.push({event:k,listeners:S}),C?k.data=C:(C=Zf(n),C!==null&&(k.data=C)))),(C=yy?_y(t,n):wy(t,n))&&(c=Do(c,"onBeforeInput"),0<c.length&&(u=new Dh("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:c}),u.data=C))}up(h,e)})}function hi(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Do(t,e){for(var n=e+"Capture",s=[];t!==null;){var r=t,i=r.stateNode;r.tag===5&&i!==null&&(r=i,i=ri(t,n),i!=null&&s.unshift(hi(t,i,r)),i=ri(t,e),i!=null&&s.push(hi(t,i,r))),t=t.return}return s}function Vs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Gh(t,e,n,s,r){for(var i=e._reactName,o=[];n!==null&&n!==s;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===s)break;a.tag===5&&c!==null&&(a=c,r?(l=ri(n,i),l!=null&&o.unshift(hi(n,l,a))):r||(l=ri(n,i),l!=null&&o.push(hi(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Ry=/\r\n?/g,Dy=/\u0000|\uFFFD/g;function Qh(t){return(typeof t=="string"?t:""+t).replace(Ry,`
`).replace(Dy,"")}function to(t,e,n){if(e=Qh(e),Qh(t)!==e&&n)throw Error(M(425))}function bo(){}var Zl=null,Jl=null;function ec(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var tc=typeof setTimeout=="function"?setTimeout:void 0,by=typeof clearTimeout=="function"?clearTimeout:void 0,Yh=typeof Promise=="function"?Promise:void 0,Fy=typeof queueMicrotask=="function"?queueMicrotask:typeof Yh<"u"?function(t){return Yh.resolve(null).then(t).catch(Vy)}:tc;function Vy(t){setTimeout(function(){throw t})}function yl(t,e){var n=e,s=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(s===0){t.removeChild(r),ai(e);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=r}while(n);ai(e)}function Bn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Xh(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Nr=Math.random().toString(36).slice(2),Xt="__reactFiber$"+Nr,di="__reactProps$"+Nr,yn="__reactContainer$"+Nr,nc="__reactEvents$"+Nr,Ly="__reactListeners$"+Nr,zy="__reactHandles$"+Nr;function ds(t){var e=t[Xt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[yn]||n[Xt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Xh(t);t!==null;){if(n=t[Xt])return n;t=Xh(t)}return e}t=n,n=t.parentNode}return null}function Ei(t){return t=t[Xt]||t[yn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Hs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(M(33))}function wa(t){return t[di]||null}var sc=[],Gs=-1;function ns(t){return{current:t}}function le(t){0>Gs||(t.current=sc[Gs],sc[Gs]=null,Gs--)}function re(t,e){Gs++,sc[Gs]=t.current,t.current=e}var Kn={},Ze=ns(Kn),ht=ns(!1),xs=Kn;function ur(t,e){var n=t.type.contextTypes;if(!n)return Kn;var s=t.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var r={},i;for(i in n)r[i]=e[i];return s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function dt(t){return t=t.childContextTypes,t!=null}function Fo(){le(ht),le(Ze)}function Kh(t,e,n){if(Ze.current!==Kn)throw Error(M(168));re(Ze,e),re(ht,n)}function dp(t,e,n){var s=t.stateNode;if(e=e.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var r in s)if(!(r in e))throw Error(M(108,Tv(t)||"Unknown",r));return ge({},n,s)}function Vo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Kn,xs=Ze.current,re(Ze,t),re(ht,ht.current),!0}function Zh(t,e,n){var s=t.stateNode;if(!s)throw Error(M(169));n?(t=dp(t,e,xs),s.__reactInternalMemoizedMergedChildContext=t,le(ht),le(Ze),re(Ze,t)):le(ht),re(ht,n)}var dn=null,xa=!1,_l=!1;function fp(t){dn===null?dn=[t]:dn.push(t)}function Wy(t){xa=!0,fp(t)}function ss(){if(!_l&&dn!==null){_l=!0;var t=0,e=ne;try{var n=dn;for(ne=1;t<n.length;t++){var s=n[t];do s=s(!0);while(s!==null)}dn=null,xa=!1}catch(r){throw dn!==null&&(dn=dn.slice(t+1)),Vf(Xc,ss),r}finally{ne=e,_l=!1}}return null}var Qs=[],Ys=0,Lo=null,zo=0,Nt=[],Et=0,Ss=null,fn=1,pn="";function us(t,e){Qs[Ys++]=zo,Qs[Ys++]=Lo,Lo=t,zo=e}function pp(t,e,n){Nt[Et++]=fn,Nt[Et++]=pn,Nt[Et++]=Ss,Ss=t;var s=fn;t=pn;var r=32-zt(s)-1;s&=~(1<<r),n+=1;var i=32-zt(e)+r;if(30<i){var o=r-r%5;i=(s&(1<<o)-1).toString(32),s>>=o,r-=o,fn=1<<32-zt(e)+r|n<<r|s,pn=i+t}else fn=1<<i|n<<r|s,pn=t}function iu(t){t.return!==null&&(us(t,1),pp(t,1,0))}function ou(t){for(;t===Lo;)Lo=Qs[--Ys],Qs[Ys]=null,zo=Qs[--Ys],Qs[Ys]=null;for(;t===Ss;)Ss=Nt[--Et],Nt[Et]=null,pn=Nt[--Et],Nt[Et]=null,fn=Nt[--Et],Nt[Et]=null}var wt=null,yt=null,he=!1,bt=null;function mp(t,e){var n=At(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Jh(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,wt=t,yt=Bn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,wt=t,yt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ss!==null?{id:fn,overflow:pn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=At(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,wt=t,yt=null,!0):!1;default:return!1}}function rc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ic(t){if(he){var e=yt;if(e){var n=e;if(!Jh(t,e)){if(rc(t))throw Error(M(418));e=Bn(n.nextSibling);var s=wt;e&&Jh(t,e)?mp(s,n):(t.flags=t.flags&-4097|2,he=!1,wt=t)}}else{if(rc(t))throw Error(M(418));t.flags=t.flags&-4097|2,he=!1,wt=t}}}function ed(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;wt=t}function no(t){if(t!==wt)return!1;if(!he)return ed(t),he=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ec(t.type,t.memoizedProps)),e&&(e=yt)){if(rc(t))throw gp(),Error(M(418));for(;e;)mp(t,e),e=Bn(e.nextSibling)}if(ed(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(M(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){yt=Bn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}yt=null}}else yt=wt?Bn(t.stateNode.nextSibling):null;return!0}function gp(){for(var t=yt;t;)t=Bn(t.nextSibling)}function hr(){yt=wt=null,he=!1}function au(t){bt===null?bt=[t]:bt.push(t)}var By=Sn.ReactCurrentBatchConfig;function zr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(M(309));var s=n.stateNode}if(!s)throw Error(M(147,t));var r=s,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=r.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(M(284));if(!n._owner)throw Error(M(290,t))}return t}function so(t,e){throw t=Object.prototype.toString.call(e),Error(M(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function td(t){var e=t._init;return e(t._payload)}function vp(t){function e(d,m){if(t){var y=d.deletions;y===null?(d.deletions=[m],d.flags|=16):y.push(m)}}function n(d,m){if(!t)return null;for(;m!==null;)e(d,m),m=m.sibling;return null}function s(d,m){for(d=new Map;m!==null;)m.key!==null?d.set(m.key,m):d.set(m.index,m),m=m.sibling;return d}function r(d,m){return d=Hn(d,m),d.index=0,d.sibling=null,d}function i(d,m,y){return d.index=y,t?(y=d.alternate,y!==null?(y=y.index,y<m?(d.flags|=2,m):y):(d.flags|=2,m)):(d.flags|=1048576,m)}function o(d){return t&&d.alternate===null&&(d.flags|=2),d}function a(d,m,y,T){return m===null||m.tag!==6?(m=Nl(y,d.mode,T),m.return=d,m):(m=r(m,y),m.return=d,m)}function l(d,m,y,T){var w=y.type;return w===Bs?u(d,m,y.props.children,T,y.key):m!==null&&(m.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===On&&td(w)===m.type)?(T=r(m,y.props),T.ref=zr(d,m,y),T.return=d,T):(T=To(y.type,y.key,y.props,null,d.mode,T),T.ref=zr(d,m,y),T.return=d,T)}function c(d,m,y,T){return m===null||m.tag!==4||m.stateNode.containerInfo!==y.containerInfo||m.stateNode.implementation!==y.implementation?(m=El(y,d.mode,T),m.return=d,m):(m=r(m,y.children||[]),m.return=d,m)}function u(d,m,y,T,w){return m===null||m.tag!==7?(m=ys(y,d.mode,T,w),m.return=d,m):(m=r(m,y),m.return=d,m)}function h(d,m,y){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Nl(""+m,d.mode,y),m.return=d,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Hi:return y=To(m.type,m.key,m.props,null,d.mode,y),y.ref=zr(d,null,m),y.return=d,y;case Ws:return m=El(m,d.mode,y),m.return=d,m;case On:var T=m._init;return h(d,T(m._payload),y)}if(qr(m)||Dr(m))return m=ys(m,d.mode,y,null),m.return=d,m;so(d,m)}return null}function p(d,m,y,T){var w=m!==null?m.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return w!==null?null:a(d,m,""+y,T);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Hi:return y.key===w?l(d,m,y,T):null;case Ws:return y.key===w?c(d,m,y,T):null;case On:return w=y._init,p(d,m,w(y._payload),T)}if(qr(y)||Dr(y))return w!==null?null:u(d,m,y,T,null);so(d,y)}return null}function v(d,m,y,T,w){if(typeof T=="string"&&T!==""||typeof T=="number")return d=d.get(y)||null,a(m,d,""+T,w);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Hi:return d=d.get(T.key===null?y:T.key)||null,l(m,d,T,w);case Ws:return d=d.get(T.key===null?y:T.key)||null,c(m,d,T,w);case On:var S=T._init;return v(d,m,y,S(T._payload),w)}if(qr(T)||Dr(T))return d=d.get(y)||null,u(m,d,T,w,null);so(m,T)}return null}function g(d,m,y,T){for(var w=null,S=null,C=m,k=m=0,E=null;C!==null&&k<y.length;k++){C.index>k?(E=C,C=null):E=C.sibling;var N=p(d,C,y[k],T);if(N===null){C===null&&(C=E);break}t&&C&&N.alternate===null&&e(d,C),m=i(N,m,k),S===null?w=N:S.sibling=N,S=N,C=E}if(k===y.length)return n(d,C),he&&us(d,k),w;if(C===null){for(;k<y.length;k++)C=h(d,y[k],T),C!==null&&(m=i(C,m,k),S===null?w=C:S.sibling=C,S=C);return he&&us(d,k),w}for(C=s(d,C);k<y.length;k++)E=v(C,d,k,y[k],T),E!==null&&(t&&E.alternate!==null&&C.delete(E.key===null?k:E.key),m=i(E,m,k),S===null?w=E:S.sibling=E,S=E);return t&&C.forEach(function(O){return e(d,O)}),he&&us(d,k),w}function _(d,m,y,T){var w=Dr(y);if(typeof w!="function")throw Error(M(150));if(y=w.call(y),y==null)throw Error(M(151));for(var S=w=null,C=m,k=m=0,E=null,N=y.next();C!==null&&!N.done;k++,N=y.next()){C.index>k?(E=C,C=null):E=C.sibling;var O=p(d,C,N.value,T);if(O===null){C===null&&(C=E);break}t&&C&&O.alternate===null&&e(d,C),m=i(O,m,k),S===null?w=O:S.sibling=O,S=O,C=E}if(N.done)return n(d,C),he&&us(d,k),w;if(C===null){for(;!N.done;k++,N=y.next())N=h(d,N.value,T),N!==null&&(m=i(N,m,k),S===null?w=N:S.sibling=N,S=N);return he&&us(d,k),w}for(C=s(d,C);!N.done;k++,N=y.next())N=v(C,d,k,N.value,T),N!==null&&(t&&N.alternate!==null&&C.delete(N.key===null?k:N.key),m=i(N,m,k),S===null?w=N:S.sibling=N,S=N);return t&&C.forEach(function(I){return e(d,I)}),he&&us(d,k),w}function x(d,m,y,T){if(typeof y=="object"&&y!==null&&y.type===Bs&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Hi:e:{for(var w=y.key,S=m;S!==null;){if(S.key===w){if(w=y.type,w===Bs){if(S.tag===7){n(d,S.sibling),m=r(S,y.props.children),m.return=d,d=m;break e}}else if(S.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===On&&td(w)===S.type){n(d,S.sibling),m=r(S,y.props),m.ref=zr(d,S,y),m.return=d,d=m;break e}n(d,S);break}else e(d,S);S=S.sibling}y.type===Bs?(m=ys(y.props.children,d.mode,T,y.key),m.return=d,d=m):(T=To(y.type,y.key,y.props,null,d.mode,T),T.ref=zr(d,m,y),T.return=d,d=T)}return o(d);case Ws:e:{for(S=y.key;m!==null;){if(m.key===S)if(m.tag===4&&m.stateNode.containerInfo===y.containerInfo&&m.stateNode.implementation===y.implementation){n(d,m.sibling),m=r(m,y.children||[]),m.return=d,d=m;break e}else{n(d,m);break}else e(d,m);m=m.sibling}m=El(y,d.mode,T),m.return=d,d=m}return o(d);case On:return S=y._init,x(d,m,S(y._payload),T)}if(qr(y))return g(d,m,y,T);if(Dr(y))return _(d,m,y,T);so(d,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,m!==null&&m.tag===6?(n(d,m.sibling),m=r(m,y),m.return=d,d=m):(n(d,m),m=Nl(y,d.mode,T),m.return=d,d=m),o(d)):n(d,m)}return x}var dr=vp(!0),yp=vp(!1),Wo=ns(null),Bo=null,Xs=null,lu=null;function cu(){lu=Xs=Bo=null}function uu(t){var e=Wo.current;le(Wo),t._currentValue=e}function oc(t,e,n){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===n)break;t=t.return}}function ir(t,e){Bo=t,lu=Xs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ut=!0),t.firstContext=null)}function jt(t){var e=t._currentValue;if(lu!==t)if(t={context:t,memoizedValue:e,next:null},Xs===null){if(Bo===null)throw Error(M(308));Xs=t,Bo.dependencies={lanes:0,firstContext:t}}else Xs=Xs.next=t;return e}var fs=null;function hu(t){fs===null?fs=[t]:fs.push(t)}function _p(t,e,n,s){var r=e.interleaved;return r===null?(n.next=n,hu(e)):(n.next=r.next,r.next=n),e.interleaved=n,_n(t,s)}function _n(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var In=!1;function du(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wp(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function mn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Un(t,e,n){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,Z&2){var r=s.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),s.pending=e,_n(t,n)}return r=s.interleaved,r===null?(e.next=e,hu(s)):(e.next=r.next,r.next=e),s.interleaved=e,_n(t,n)}function yo(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,Kc(t,n)}}function nd(t,e){var n=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var r=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?r=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?r=i=e:i=i.next=e}else r=i=e;n={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:s.shared,effects:s.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Uo(t,e,n,s){var r=t.updateQueue;In=!1;var i=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var h=r.baseState;o=0,u=c=l=null,a=i;do{var p=a.lane,v=a.eventTime;if((s&p)===p){u!==null&&(u=u.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,_=a;switch(p=e,v=n,_.tag){case 1:if(g=_.payload,typeof g=="function"){h=g.call(v,h,p);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=_.payload,p=typeof g=="function"?g.call(v,h,p):g,p==null)break e;h=ge({},h,p);break e;case 2:In=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=r.effects,p===null?r.effects=[a]:p.push(a))}else v={eventTime:v,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=v,l=h):u=u.next=v,o|=p;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;p=a,a=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(!0);if(u===null&&(l=h),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else i===null&&(r.shared.lanes=0);Ts|=o,t.lanes=o,t.memoizedState=h}}function sd(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var s=t[e],r=s.callback;if(r!==null){if(s.callback=null,s=n,typeof r!="function")throw Error(M(191,r));r.call(s)}}}var Ai={},Zt=ns(Ai),fi=ns(Ai),pi=ns(Ai);function ps(t){if(t===Ai)throw Error(M(174));return t}function fu(t,e){switch(re(pi,e),re(fi,t),re(Zt,Ai),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:zl(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=zl(e,t)}le(Zt),re(Zt,e)}function fr(){le(Zt),le(fi),le(pi)}function xp(t){ps(pi.current);var e=ps(Zt.current),n=zl(e,t.type);e!==n&&(re(fi,t),re(Zt,n))}function pu(t){fi.current===t&&(le(Zt),le(fi))}var pe=ns(0);function qo(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var wl=[];function mu(){for(var t=0;t<wl.length;t++)wl[t]._workInProgressVersionPrimary=null;wl.length=0}var _o=Sn.ReactCurrentDispatcher,xl=Sn.ReactCurrentBatchConfig,ks=0,me=null,Pe=null,Fe=null,$o=!1,Zr=!1,mi=0,Uy=0;function $e(){throw Error(M(321))}function gu(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Bt(t[n],e[n]))return!1;return!0}function vu(t,e,n,s,r,i){if(ks=i,me=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,_o.current=t===null||t.memoizedState===null?Gy:Qy,t=n(s,r),Zr){i=0;do{if(Zr=!1,mi=0,25<=i)throw Error(M(301));i+=1,Fe=Pe=null,e.updateQueue=null,_o.current=Yy,t=n(s,r)}while(Zr)}if(_o.current=Ho,e=Pe!==null&&Pe.next!==null,ks=0,Fe=Pe=me=null,$o=!1,e)throw Error(M(300));return t}function yu(){var t=mi!==0;return mi=0,t}function Yt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?me.memoizedState=Fe=t:Fe=Fe.next=t,Fe}function Mt(){if(Pe===null){var t=me.alternate;t=t!==null?t.memoizedState:null}else t=Pe.next;var e=Fe===null?me.memoizedState:Fe.next;if(e!==null)Fe=e,Pe=t;else{if(t===null)throw Error(M(310));Pe=t,t={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},Fe===null?me.memoizedState=Fe=t:Fe=Fe.next=t}return Fe}function gi(t,e){return typeof e=="function"?e(t):e}function Sl(t){var e=Mt(),n=e.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=t;var s=Pe,r=s.baseQueue,i=n.pending;if(i!==null){if(r!==null){var o=r.next;r.next=i.next,i.next=o}s.baseQueue=r=i,n.pending=null}if(r!==null){i=r.next,s=s.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((ks&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),s=c.hasEagerState?c.eagerState:t(s,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=s):l=l.next=h,me.lanes|=u,Ts|=u}c=c.next}while(c!==null&&c!==i);l===null?o=s:l.next=a,Bt(s,e.memoizedState)||(ut=!0),e.memoizedState=s,e.baseState=o,e.baseQueue=l,n.lastRenderedState=s}if(t=n.interleaved,t!==null){r=t;do i=r.lane,me.lanes|=i,Ts|=i,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function kl(t){var e=Mt(),n=e.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=t;var s=n.dispatch,r=n.pending,i=e.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do i=t(i,o.action),o=o.next;while(o!==r);Bt(i,e.memoizedState)||(ut=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,s]}function Sp(){}function kp(t,e){var n=me,s=Mt(),r=e(),i=!Bt(s.memoizedState,r);if(i&&(s.memoizedState=r,ut=!0),s=s.queue,_u(Np.bind(null,n,s,t),[t]),s.getSnapshot!==e||i||Fe!==null&&Fe.memoizedState.tag&1){if(n.flags|=2048,vi(9,Cp.bind(null,n,s,r,e),void 0,null),Ve===null)throw Error(M(349));ks&30||Tp(n,e,r)}return r}function Tp(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=me.updateQueue,e===null?(e={lastEffect:null,stores:null},me.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Cp(t,e,n,s){e.value=n,e.getSnapshot=s,Ep(e)&&Ap(t)}function Np(t,e,n){return n(function(){Ep(e)&&Ap(t)})}function Ep(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Bt(t,n)}catch{return!0}}function Ap(t){var e=_n(t,1);e!==null&&Wt(e,t,1,-1)}function rd(t){var e=Yt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:t},e.queue=t,t=t.dispatch=Hy.bind(null,me,t),[e.memoizedState,t]}function vi(t,e,n,s){return t={tag:t,create:e,destroy:n,deps:s,next:null},e=me.updateQueue,e===null?(e={lastEffect:null,stores:null},me.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,e.lastEffect=t)),t}function Op(){return Mt().memoizedState}function wo(t,e,n,s){var r=Yt();me.flags|=t,r.memoizedState=vi(1|e,n,void 0,s===void 0?null:s)}function Sa(t,e,n,s){var r=Mt();s=s===void 0?null:s;var i=void 0;if(Pe!==null){var o=Pe.memoizedState;if(i=o.destroy,s!==null&&gu(s,o.deps)){r.memoizedState=vi(e,n,i,s);return}}me.flags|=t,r.memoizedState=vi(1|e,n,i,s)}function id(t,e){return wo(8390656,8,t,e)}function _u(t,e){return Sa(2048,8,t,e)}function Ip(t,e){return Sa(4,2,t,e)}function jp(t,e){return Sa(4,4,t,e)}function Mp(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Pp(t,e,n){return n=n!=null?n.concat([t]):null,Sa(4,4,Mp.bind(null,e,t),n)}function wu(){}function Rp(t,e){var n=Mt();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&gu(e,s[1])?s[0]:(n.memoizedState=[t,e],t)}function Dp(t,e){var n=Mt();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&gu(e,s[1])?s[0]:(t=t(),n.memoizedState=[t,e],t)}function bp(t,e,n){return ks&21?(Bt(n,e)||(n=Wf(),me.lanes|=n,Ts|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ut=!0),t.memoizedState=n)}function qy(t,e){var n=ne;ne=n!==0&&4>n?n:4,t(!0);var s=xl.transition;xl.transition={};try{t(!1),e()}finally{ne=n,xl.transition=s}}function Fp(){return Mt().memoizedState}function $y(t,e,n){var s=$n(t);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},Vp(t))Lp(e,n);else if(n=_p(t,e,n,s),n!==null){var r=rt();Wt(n,t,s,r),zp(n,e,s)}}function Hy(t,e,n){var s=$n(t),r={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(Vp(t))Lp(e,r);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(r.hasEagerState=!0,r.eagerState=a,Bt(a,o)){var l=e.interleaved;l===null?(r.next=r,hu(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}n=_p(t,e,r,s),n!==null&&(r=rt(),Wt(n,t,s,r),zp(n,e,s))}}function Vp(t){var e=t.alternate;return t===me||e!==null&&e===me}function Lp(t,e){Zr=$o=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function zp(t,e,n){if(n&4194240){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,Kc(t,n)}}var Ho={readContext:jt,useCallback:$e,useContext:$e,useEffect:$e,useImperativeHandle:$e,useInsertionEffect:$e,useLayoutEffect:$e,useMemo:$e,useReducer:$e,useRef:$e,useState:$e,useDebugValue:$e,useDeferredValue:$e,useTransition:$e,useMutableSource:$e,useSyncExternalStore:$e,useId:$e,unstable_isNewReconciler:!1},Gy={readContext:jt,useCallback:function(t,e){return Yt().memoizedState=[t,e===void 0?null:e],t},useContext:jt,useEffect:id,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,wo(4194308,4,Mp.bind(null,e,t),n)},useLayoutEffect:function(t,e){return wo(4194308,4,t,e)},useInsertionEffect:function(t,e){return wo(4,2,t,e)},useMemo:function(t,e){var n=Yt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var s=Yt();return e=n!==void 0?n(e):e,s.memoizedState=s.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},s.queue=t,t=t.dispatch=$y.bind(null,me,t),[s.memoizedState,t]},useRef:function(t){var e=Yt();return t={current:t},e.memoizedState=t},useState:rd,useDebugValue:wu,useDeferredValue:function(t){return Yt().memoizedState=t},useTransition:function(){var t=rd(!1),e=t[0];return t=qy.bind(null,t[1]),Yt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var s=me,r=Yt();if(he){if(n===void 0)throw Error(M(407));n=n()}else{if(n=e(),Ve===null)throw Error(M(349));ks&30||Tp(s,e,n)}r.memoizedState=n;var i={value:n,getSnapshot:e};return r.queue=i,id(Np.bind(null,s,i,t),[t]),s.flags|=2048,vi(9,Cp.bind(null,s,i,n,e),void 0,null),n},useId:function(){var t=Yt(),e=Ve.identifierPrefix;if(he){var n=pn,s=fn;n=(s&~(1<<32-zt(s)-1)).toString(32)+n,e=":"+e+"R"+n,n=mi++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Uy++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Qy={readContext:jt,useCallback:Rp,useContext:jt,useEffect:_u,useImperativeHandle:Pp,useInsertionEffect:Ip,useLayoutEffect:jp,useMemo:Dp,useReducer:Sl,useRef:Op,useState:function(){return Sl(gi)},useDebugValue:wu,useDeferredValue:function(t){var e=Mt();return bp(e,Pe.memoizedState,t)},useTransition:function(){var t=Sl(gi)[0],e=Mt().memoizedState;return[t,e]},useMutableSource:Sp,useSyncExternalStore:kp,useId:Fp,unstable_isNewReconciler:!1},Yy={readContext:jt,useCallback:Rp,useContext:jt,useEffect:_u,useImperativeHandle:Pp,useInsertionEffect:Ip,useLayoutEffect:jp,useMemo:Dp,useReducer:kl,useRef:Op,useState:function(){return kl(gi)},useDebugValue:wu,useDeferredValue:function(t){var e=Mt();return Pe===null?e.memoizedState=t:bp(e,Pe.memoizedState,t)},useTransition:function(){var t=kl(gi)[0],e=Mt().memoizedState;return[t,e]},useMutableSource:Sp,useSyncExternalStore:kp,useId:Fp,unstable_isNewReconciler:!1};function Rt(t,e){if(t&&t.defaultProps){e=ge({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ac(t,e,n,s){e=t.memoizedState,n=n(s,e),n=n==null?e:ge({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ka={isMounted:function(t){return(t=t._reactInternals)?Is(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var s=rt(),r=$n(t),i=mn(s,r);i.payload=e,n!=null&&(i.callback=n),e=Un(t,i,r),e!==null&&(Wt(e,t,r,s),yo(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var s=rt(),r=$n(t),i=mn(s,r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Un(t,i,r),e!==null&&(Wt(e,t,r,s),yo(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=rt(),s=$n(t),r=mn(n,s);r.tag=2,e!=null&&(r.callback=e),e=Un(t,r,s),e!==null&&(Wt(e,t,s,n),yo(e,t,s))}};function od(t,e,n,s,r,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,i,o):e.prototype&&e.prototype.isPureReactComponent?!ci(n,s)||!ci(r,i):!0}function Wp(t,e,n){var s=!1,r=Kn,i=e.contextType;return typeof i=="object"&&i!==null?i=jt(i):(r=dt(e)?xs:Ze.current,s=e.contextTypes,i=(s=s!=null)?ur(t,r):Kn),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ka,t.stateNode=e,e._reactInternals=t,s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=i),e}function ad(t,e,n,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,s),e.state!==t&&ka.enqueueReplaceState(e,e.state,null)}function lc(t,e,n,s){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},du(t);var i=e.contextType;typeof i=="object"&&i!==null?r.context=jt(i):(i=dt(e)?xs:Ze.current,r.context=ur(t,i)),r.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(ac(t,e,i,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&ka.enqueueReplaceState(r,r.state,null),Uo(t,n,r,s),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function pr(t,e){try{var n="",s=e;do n+=kv(s),s=s.return;while(s);var r=n}catch(i){r=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:r,digest:null}}function Tl(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function cc(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Xy=typeof WeakMap=="function"?WeakMap:Map;function Bp(t,e,n){n=mn(-1,n),n.tag=3,n.payload={element:null};var s=e.value;return n.callback=function(){Qo||(Qo=!0,_c=s),cc(t,e)},n}function Up(t,e,n){n=mn(-1,n),n.tag=3;var s=t.type.getDerivedStateFromError;if(typeof s=="function"){var r=e.value;n.payload=function(){return s(r)},n.callback=function(){cc(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){cc(t,e),typeof s!="function"&&(qn===null?qn=new Set([this]):qn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function ld(t,e,n){var s=t.pingCache;if(s===null){s=t.pingCache=new Xy;var r=new Set;s.set(e,r)}else r=s.get(e),r===void 0&&(r=new Set,s.set(e,r));r.has(n)||(r.add(n),t=u_.bind(null,t,e,n),e.then(t,t))}function cd(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ud(t,e,n,s,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=mn(-1,1),e.tag=2,Un(n,e,1))),n.lanes|=1),t)}var Ky=Sn.ReactCurrentOwner,ut=!1;function et(t,e,n,s){e.child=t===null?yp(e,null,n,s):dr(e,t.child,n,s)}function hd(t,e,n,s,r){n=n.render;var i=e.ref;return ir(e,r),s=vu(t,e,n,s,i,r),n=yu(),t!==null&&!ut?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,wn(t,e,r)):(he&&n&&iu(e),e.flags|=1,et(t,e,s,r),e.child)}function dd(t,e,n,s,r){if(t===null){var i=n.type;return typeof i=="function"&&!Au(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,qp(t,e,i,s,r)):(t=To(n.type,null,s,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&r)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:ci,n(o,s)&&t.ref===e.ref)return wn(t,e,r)}return e.flags|=1,t=Hn(i,s),t.ref=e.ref,t.return=e,e.child=t}function qp(t,e,n,s,r){if(t!==null){var i=t.memoizedProps;if(ci(i,s)&&t.ref===e.ref)if(ut=!1,e.pendingProps=s=i,(t.lanes&r)!==0)t.flags&131072&&(ut=!0);else return e.lanes=t.lanes,wn(t,e,r)}return uc(t,e,n,s,r)}function $p(t,e,n){var s=e.pendingProps,r=s.children,i=t!==null?t.memoizedState:null;if(s.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},re(Zs,mt),mt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,re(Zs,mt),mt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:n,re(Zs,mt),mt|=s}else i!==null?(s=i.baseLanes|n,e.memoizedState=null):s=n,re(Zs,mt),mt|=s;return et(t,e,r,n),e.child}function Hp(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function uc(t,e,n,s,r){var i=dt(n)?xs:Ze.current;return i=ur(e,i),ir(e,r),n=vu(t,e,n,s,i,r),s=yu(),t!==null&&!ut?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,wn(t,e,r)):(he&&s&&iu(e),e.flags|=1,et(t,e,n,r),e.child)}function fd(t,e,n,s,r){if(dt(n)){var i=!0;Vo(e)}else i=!1;if(ir(e,r),e.stateNode===null)xo(t,e),Wp(e,n,s),lc(e,n,s,r),s=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=jt(c):(c=dt(n)?xs:Ze.current,c=ur(e,c));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==s||l!==c)&&ad(e,o,s,c),In=!1;var p=e.memoizedState;o.state=p,Uo(e,s,o,r),l=e.memoizedState,a!==s||p!==l||ht.current||In?(typeof u=="function"&&(ac(e,n,u,s),l=e.memoizedState),(a=In||od(e,n,a,s,p,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=l),o.props=s,o.state=l,o.context=c,s=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{o=e.stateNode,wp(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Rt(e.type,a),o.props=c,h=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=jt(l):(l=dt(n)?xs:Ze.current,l=ur(e,l));var v=n.getDerivedStateFromProps;(u=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&ad(e,o,s,l),In=!1,p=e.memoizedState,o.state=p,Uo(e,s,o,r);var g=e.memoizedState;a!==h||p!==g||ht.current||In?(typeof v=="function"&&(ac(e,n,v,s),g=e.memoizedState),(c=In||od(e,n,c,s,p,g,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=g),o.props=s,o.state=g,o.context=l,s=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),s=!1)}return hc(t,e,n,s,i,r)}function hc(t,e,n,s,r,i){Hp(t,e);var o=(e.flags&128)!==0;if(!s&&!o)return r&&Zh(e,n,!1),wn(t,e,i);s=e.stateNode,Ky.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return e.flags|=1,t!==null&&o?(e.child=dr(e,t.child,null,i),e.child=dr(e,null,a,i)):et(t,e,a,i),e.memoizedState=s.state,r&&Zh(e,n,!0),e.child}function Gp(t){var e=t.stateNode;e.pendingContext?Kh(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Kh(t,e.context,!1),fu(t,e.containerInfo)}function pd(t,e,n,s,r){return hr(),au(r),e.flags|=256,et(t,e,n,s),e.child}var dc={dehydrated:null,treeContext:null,retryLane:0};function fc(t){return{baseLanes:t,cachePool:null,transitions:null}}function Qp(t,e,n){var s=e.pendingProps,r=pe.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(r&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),re(pe,r&1),t===null)return ic(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=s.children,t=s.fallback,i?(s=e.mode,i=e.child,o={mode:"hidden",children:o},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Na(o,s,0,null),t=ys(t,s,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=fc(n),e.memoizedState=dc,t):xu(e,o));if(r=t.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return Zy(t,e,o,s,a,r,n);if(i){i=s.fallback,o=e.mode,r=t.child,a=r.sibling;var l={mode:"hidden",children:s.children};return!(o&1)&&e.child!==r?(s=e.child,s.childLanes=0,s.pendingProps=l,e.deletions=null):(s=Hn(r,l),s.subtreeFlags=r.subtreeFlags&14680064),a!==null?i=Hn(a,i):(i=ys(i,o,n,null),i.flags|=2),i.return=e,s.return=e,s.sibling=i,e.child=s,s=i,i=e.child,o=t.child.memoizedState,o=o===null?fc(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=dc,s}return i=t.child,t=i.sibling,s=Hn(i,{mode:"visible",children:s.children}),!(e.mode&1)&&(s.lanes=n),s.return=e,s.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=s,e.memoizedState=null,s}function xu(t,e){return e=Na({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ro(t,e,n,s){return s!==null&&au(s),dr(e,t.child,null,n),t=xu(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Zy(t,e,n,s,r,i,o){if(n)return e.flags&256?(e.flags&=-257,s=Tl(Error(M(422))),ro(t,e,o,s)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=s.fallback,r=e.mode,s=Na({mode:"visible",children:s.children},r,0,null),i=ys(i,r,o,null),i.flags|=2,s.return=e,i.return=e,s.sibling=i,e.child=s,e.mode&1&&dr(e,t.child,null,o),e.child.memoizedState=fc(o),e.memoizedState=dc,i);if(!(e.mode&1))return ro(t,e,o,null);if(r.data==="$!"){if(s=r.nextSibling&&r.nextSibling.dataset,s)var a=s.dgst;return s=a,i=Error(M(419)),s=Tl(i,s,void 0),ro(t,e,o,s)}if(a=(o&t.childLanes)!==0,ut||a){if(s=Ve,s!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(s.suspendedLanes|o)?0:r,r!==0&&r!==i.retryLane&&(i.retryLane=r,_n(t,r),Wt(s,t,r,-1))}return Eu(),s=Tl(Error(M(421))),ro(t,e,o,s)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=h_.bind(null,t),r._reactRetry=e,null):(t=i.treeContext,yt=Bn(r.nextSibling),wt=e,he=!0,bt=null,t!==null&&(Nt[Et++]=fn,Nt[Et++]=pn,Nt[Et++]=Ss,fn=t.id,pn=t.overflow,Ss=e),e=xu(e,s.children),e.flags|=4096,e)}function md(t,e,n){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),oc(t.return,e,n)}function Cl(t,e,n,s,r){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:r}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=r)}function Yp(t,e,n){var s=e.pendingProps,r=s.revealOrder,i=s.tail;if(et(t,e,s.children,n),s=pe.current,s&2)s=s&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&md(t,n,e);else if(t.tag===19)md(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}if(re(pe,s),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&qo(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Cl(e,!1,r,n,i);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&qo(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Cl(e,!0,n,null,i);break;case"together":Cl(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function xo(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function wn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ts|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(M(153));if(e.child!==null){for(t=e.child,n=Hn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Hn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Jy(t,e,n){switch(e.tag){case 3:Gp(e),hr();break;case 5:xp(e);break;case 1:dt(e.type)&&Vo(e);break;case 4:fu(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,r=e.memoizedProps.value;re(Wo,s._currentValue),s._currentValue=r;break;case 13:if(s=e.memoizedState,s!==null)return s.dehydrated!==null?(re(pe,pe.current&1),e.flags|=128,null):n&e.child.childLanes?Qp(t,e,n):(re(pe,pe.current&1),t=wn(t,e,n),t!==null?t.sibling:null);re(pe,pe.current&1);break;case 19:if(s=(n&e.childLanes)!==0,t.flags&128){if(s)return Yp(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),re(pe,pe.current),s)break;return null;case 22:case 23:return e.lanes=0,$p(t,e,n)}return wn(t,e,n)}var Xp,pc,Kp,Zp;Xp=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};pc=function(){};Kp=function(t,e,n,s){var r=t.memoizedProps;if(r!==s){t=e.stateNode,ps(Zt.current);var i=null;switch(n){case"input":r=bl(t,r),s=bl(t,s),i=[];break;case"select":r=ge({},r,{value:void 0}),s=ge({},s,{value:void 0}),i=[];break;case"textarea":r=Ll(t,r),s=Ll(t,s),i=[];break;default:typeof r.onClick!="function"&&typeof s.onClick=="function"&&(t.onclick=bo)}Wl(n,s);var o;n=null;for(c in r)if(!s.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ni.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in s){var l=s[c];if(a=r!=null?r[c]:void 0,s.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ni.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&oe("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};Zp=function(t,e,n,s){n!==s&&(e.flags|=4)};function Wr(t,e){if(!he)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function He(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,s=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags&14680064,s|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=s,t.childLanes=n,e}function e_(t,e,n){var s=e.pendingProps;switch(ou(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(e),null;case 1:return dt(e.type)&&Fo(),He(e),null;case 3:return s=e.stateNode,fr(),le(ht),le(Ze),mu(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(no(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,bt!==null&&(Sc(bt),bt=null))),pc(t,e),He(e),null;case 5:pu(e);var r=ps(pi.current);if(n=e.type,t!==null&&e.stateNode!=null)Kp(t,e,n,s,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(e.stateNode===null)throw Error(M(166));return He(e),null}if(t=ps(Zt.current),no(e)){s=e.stateNode,n=e.type;var i=e.memoizedProps;switch(s[Xt]=e,s[di]=i,t=(e.mode&1)!==0,n){case"dialog":oe("cancel",s),oe("close",s);break;case"iframe":case"object":case"embed":oe("load",s);break;case"video":case"audio":for(r=0;r<Hr.length;r++)oe(Hr[r],s);break;case"source":oe("error",s);break;case"img":case"image":case"link":oe("error",s),oe("load",s);break;case"details":oe("toggle",s);break;case"input":Th(s,i),oe("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},oe("invalid",s);break;case"textarea":Nh(s,i),oe("invalid",s)}Wl(n,i),r=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?s.textContent!==a&&(i.suppressHydrationWarning!==!0&&to(s.textContent,a,t),r=["children",a]):typeof a=="number"&&s.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&to(s.textContent,a,t),r=["children",""+a]):ni.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&oe("scroll",s)}switch(n){case"input":Gi(s),Ch(s,i,!0);break;case"textarea":Gi(s),Eh(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=bo)}s=r,e.updateQueue=s,s!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Nf(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof s.is=="string"?t=o.createElement(n,{is:s.is}):(t=o.createElement(n),n==="select"&&(o=t,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):t=o.createElementNS(t,n),t[Xt]=e,t[di]=s,Xp(t,e,!1,!1),e.stateNode=t;e:{switch(o=Bl(n,s),n){case"dialog":oe("cancel",t),oe("close",t),r=s;break;case"iframe":case"object":case"embed":oe("load",t),r=s;break;case"video":case"audio":for(r=0;r<Hr.length;r++)oe(Hr[r],t);r=s;break;case"source":oe("error",t),r=s;break;case"img":case"image":case"link":oe("error",t),oe("load",t),r=s;break;case"details":oe("toggle",t),r=s;break;case"input":Th(t,s),r=bl(t,s),oe("invalid",t);break;case"option":r=s;break;case"select":t._wrapperState={wasMultiple:!!s.multiple},r=ge({},s,{value:void 0}),oe("invalid",t);break;case"textarea":Nh(t,s),r=Ll(t,s),oe("invalid",t);break;default:r=s}Wl(n,r),a=r;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Of(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Ef(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&si(t,l):typeof l=="number"&&si(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ni.hasOwnProperty(i)?l!=null&&i==="onScroll"&&oe("scroll",t):l!=null&&$c(t,i,l,o))}switch(n){case"input":Gi(t),Ch(t,s,!1);break;case"textarea":Gi(t),Eh(t);break;case"option":s.value!=null&&t.setAttribute("value",""+Xn(s.value));break;case"select":t.multiple=!!s.multiple,i=s.value,i!=null?tr(t,!!s.multiple,i,!1):s.defaultValue!=null&&tr(t,!!s.multiple,s.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=bo)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return He(e),null;case 6:if(t&&e.stateNode!=null)Zp(t,e,t.memoizedProps,s);else{if(typeof s!="string"&&e.stateNode===null)throw Error(M(166));if(n=ps(pi.current),ps(Zt.current),no(e)){if(s=e.stateNode,n=e.memoizedProps,s[Xt]=e,(i=s.nodeValue!==n)&&(t=wt,t!==null))switch(t.tag){case 3:to(s.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&to(s.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[Xt]=e,e.stateNode=s}return He(e),null;case 13:if(le(pe),s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(he&&yt!==null&&e.mode&1&&!(e.flags&128))gp(),hr(),e.flags|=98560,i=!1;else if(i=no(e),s!==null&&s.dehydrated!==null){if(t===null){if(!i)throw Error(M(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(M(317));i[Xt]=e}else hr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;He(e),i=!1}else bt!==null&&(Sc(bt),bt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(s=s!==null,s!==(t!==null&&t.memoizedState!==null)&&s&&(e.child.flags|=8192,e.mode&1&&(t===null||pe.current&1?Re===0&&(Re=3):Eu())),e.updateQueue!==null&&(e.flags|=4),He(e),null);case 4:return fr(),pc(t,e),t===null&&ui(e.stateNode.containerInfo),He(e),null;case 10:return uu(e.type._context),He(e),null;case 17:return dt(e.type)&&Fo(),He(e),null;case 19:if(le(pe),i=e.memoizedState,i===null)return He(e),null;if(s=(e.flags&128)!==0,o=i.rendering,o===null)if(s)Wr(i,!1);else{if(Re!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=qo(t),o!==null){for(e.flags|=128,Wr(i,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=n,n=e.child;n!==null;)i=n,t=s,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return re(pe,pe.current&1|2),e.child}t=t.sibling}i.tail!==null&&Te()>mr&&(e.flags|=128,s=!0,Wr(i,!1),e.lanes=4194304)}else{if(!s)if(t=qo(o),t!==null){if(e.flags|=128,s=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Wr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!he)return He(e),null}else 2*Te()-i.renderingStartTime>mr&&n!==1073741824&&(e.flags|=128,s=!0,Wr(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Te(),e.sibling=null,n=pe.current,re(pe,s?n&1|2:n&1),e):(He(e),null);case 22:case 23:return Nu(),s=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==s&&(e.flags|=8192),s&&e.mode&1?mt&1073741824&&(He(e),e.subtreeFlags&6&&(e.flags|=8192)):He(e),null;case 24:return null;case 25:return null}throw Error(M(156,e.tag))}function t_(t,e){switch(ou(e),e.tag){case 1:return dt(e.type)&&Fo(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return fr(),le(ht),le(Ze),mu(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return pu(e),null;case 13:if(le(pe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(M(340));hr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return le(pe),null;case 4:return fr(),null;case 10:return uu(e.type._context),null;case 22:case 23:return Nu(),null;case 24:return null;default:return null}}var io=!1,Qe=!1,n_=typeof WeakSet=="function"?WeakSet:Set,z=null;function Ks(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){_e(t,e,s)}else n.current=null}function mc(t,e,n){try{n()}catch(s){_e(t,e,s)}}var gd=!1;function s_(t,e){if(Zl=Po,t=sp(),ru(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var r=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=t,p=null;t:for(;;){for(var v;h!==n||r!==0&&h.nodeType!==3||(a=o+r),h!==i||s!==0&&h.nodeType!==3||(l=o+s),h.nodeType===3&&(o+=h.nodeValue.length),(v=h.firstChild)!==null;)p=h,h=v;for(;;){if(h===t)break t;if(p===n&&++c===r&&(a=o),p===i&&++u===s&&(l=o),(v=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=v}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Jl={focusedElem:t,selectionRange:n},Po=!1,z=e;z!==null;)if(e=z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,z=t;else for(;z!==null;){e=z;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var _=g.memoizedProps,x=g.memoizedState,d=e.stateNode,m=d.getSnapshotBeforeUpdate(e.elementType===e.type?_:Rt(e.type,_),x);d.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(M(163))}}catch(T){_e(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,z=t;break}z=e.return}return g=gd,gd=!1,g}function Jr(t,e,n){var s=e.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&t)===t){var i=r.destroy;r.destroy=void 0,i!==void 0&&mc(e,n,i)}r=r.next}while(r!==s)}}function Ta(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var s=n.create;n.destroy=s()}n=n.next}while(n!==e)}}function gc(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Jp(t){var e=t.alternate;e!==null&&(t.alternate=null,Jp(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Xt],delete e[di],delete e[nc],delete e[Ly],delete e[zy])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function em(t){return t.tag===5||t.tag===3||t.tag===4}function vd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||em(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vc(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=bo));else if(s!==4&&(t=t.child,t!==null))for(vc(t,e,n),t=t.sibling;t!==null;)vc(t,e,n),t=t.sibling}function yc(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(s!==4&&(t=t.child,t!==null))for(yc(t,e,n),t=t.sibling;t!==null;)yc(t,e,n),t=t.sibling}var ze=null,Dt=!1;function En(t,e,n){for(n=n.child;n!==null;)tm(t,e,n),n=n.sibling}function tm(t,e,n){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(ga,n)}catch{}switch(n.tag){case 5:Qe||Ks(n,e);case 6:var s=ze,r=Dt;ze=null,En(t,e,n),ze=s,Dt=r,ze!==null&&(Dt?(t=ze,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ze.removeChild(n.stateNode));break;case 18:ze!==null&&(Dt?(t=ze,n=n.stateNode,t.nodeType===8?yl(t.parentNode,n):t.nodeType===1&&yl(t,n),ai(t)):yl(ze,n.stateNode));break;case 4:s=ze,r=Dt,ze=n.stateNode.containerInfo,Dt=!0,En(t,e,n),ze=s,Dt=r;break;case 0:case 11:case 14:case 15:if(!Qe&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){r=s=s.next;do{var i=r,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&mc(n,e,o),r=r.next}while(r!==s)}En(t,e,n);break;case 1:if(!Qe&&(Ks(n,e),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(a){_e(n,e,a)}En(t,e,n);break;case 21:En(t,e,n);break;case 22:n.mode&1?(Qe=(s=Qe)||n.memoizedState!==null,En(t,e,n),Qe=s):En(t,e,n);break;default:En(t,e,n)}}function yd(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new n_),e.forEach(function(s){var r=d_.bind(null,t,s);n.has(s)||(n.add(s),s.then(r,r))})}}function Pt(t,e){var n=e.deletions;if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ze=a.stateNode,Dt=!1;break e;case 3:ze=a.stateNode.containerInfo,Dt=!0;break e;case 4:ze=a.stateNode.containerInfo,Dt=!0;break e}a=a.return}if(ze===null)throw Error(M(160));tm(i,o,r),ze=null,Dt=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){_e(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)nm(e,t),e=e.sibling}function nm(t,e){var n=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Pt(e,t),Gt(t),s&4){try{Jr(3,t,t.return),Ta(3,t)}catch(_){_e(t,t.return,_)}try{Jr(5,t,t.return)}catch(_){_e(t,t.return,_)}}break;case 1:Pt(e,t),Gt(t),s&512&&n!==null&&Ks(n,n.return);break;case 5:if(Pt(e,t),Gt(t),s&512&&n!==null&&Ks(n,n.return),t.flags&32){var r=t.stateNode;try{si(r,"")}catch(_){_e(t,t.return,_)}}if(s&4&&(r=t.stateNode,r!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Tf(r,i),Bl(a,o);var c=Bl(a,i);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?Of(r,h):u==="dangerouslySetInnerHTML"?Ef(r,h):u==="children"?si(r,h):$c(r,u,h,c)}switch(a){case"input":Fl(r,i);break;case"textarea":Cf(r,i);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?tr(r,!!i.multiple,v,!1):p!==!!i.multiple&&(i.defaultValue!=null?tr(r,!!i.multiple,i.defaultValue,!0):tr(r,!!i.multiple,i.multiple?[]:"",!1))}r[di]=i}catch(_){_e(t,t.return,_)}}break;case 6:if(Pt(e,t),Gt(t),s&4){if(t.stateNode===null)throw Error(M(162));r=t.stateNode,i=t.memoizedProps;try{r.nodeValue=i}catch(_){_e(t,t.return,_)}}break;case 3:if(Pt(e,t),Gt(t),s&4&&n!==null&&n.memoizedState.isDehydrated)try{ai(e.containerInfo)}catch(_){_e(t,t.return,_)}break;case 4:Pt(e,t),Gt(t);break;case 13:Pt(e,t),Gt(t),r=t.child,r.flags&8192&&(i=r.memoizedState!==null,r.stateNode.isHidden=i,!i||r.alternate!==null&&r.alternate.memoizedState!==null||(Tu=Te())),s&4&&yd(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Qe=(c=Qe)||u,Pt(e,t),Qe=c):Pt(e,t),Gt(t),s&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(z=t,u=t.child;u!==null;){for(h=z=u;z!==null;){switch(p=z,v=p.child,p.tag){case 0:case 11:case 14:case 15:Jr(4,p,p.return);break;case 1:Ks(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){s=p,n=p.return;try{e=s,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(_){_e(s,n,_)}}break;case 5:Ks(p,p.return);break;case 22:if(p.memoizedState!==null){wd(h);continue}}v!==null?(v.return=p,z=v):wd(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{r=h.stateNode,c?(i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Af("display",o))}catch(_){_e(t,t.return,_)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(_){_e(t,t.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Pt(e,t),Gt(t),s&4&&yd(t);break;case 21:break;default:Pt(e,t),Gt(t)}}function Gt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(em(n)){var s=n;break e}n=n.return}throw Error(M(160))}switch(s.tag){case 5:var r=s.stateNode;s.flags&32&&(si(r,""),s.flags&=-33);var i=vd(t);yc(t,i,r);break;case 3:case 4:var o=s.stateNode.containerInfo,a=vd(t);vc(t,a,o);break;default:throw Error(M(161))}}catch(l){_e(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function r_(t,e,n){z=t,sm(t)}function sm(t,e,n){for(var s=(t.mode&1)!==0;z!==null;){var r=z,i=r.child;if(r.tag===22&&s){var o=r.memoizedState!==null||io;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||Qe;a=io;var c=Qe;if(io=o,(Qe=l)&&!c)for(z=r;z!==null;)o=z,l=o.child,o.tag===22&&o.memoizedState!==null?xd(r):l!==null?(l.return=o,z=l):xd(r);for(;i!==null;)z=i,sm(i),i=i.sibling;z=r,io=a,Qe=c}_d(t)}else r.subtreeFlags&8772&&i!==null?(i.return=r,z=i):_d(t)}}function _d(t){for(;z!==null;){var e=z;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Qe||Ta(5,e);break;case 1:var s=e.stateNode;if(e.flags&4&&!Qe)if(n===null)s.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:Rt(e.type,n.memoizedProps);s.componentDidUpdate(r,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&sd(e,i,s);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}sd(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&ai(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(M(163))}Qe||e.flags&512&&gc(e)}catch(p){_e(e,e.return,p)}}if(e===t){z=null;break}if(n=e.sibling,n!==null){n.return=e.return,z=n;break}z=e.return}}function wd(t){for(;z!==null;){var e=z;if(e===t){z=null;break}var n=e.sibling;if(n!==null){n.return=e.return,z=n;break}z=e.return}}function xd(t){for(;z!==null;){var e=z;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ta(4,e)}catch(l){_e(e,n,l)}break;case 1:var s=e.stateNode;if(typeof s.componentDidMount=="function"){var r=e.return;try{s.componentDidMount()}catch(l){_e(e,r,l)}}var i=e.return;try{gc(e)}catch(l){_e(e,i,l)}break;case 5:var o=e.return;try{gc(e)}catch(l){_e(e,o,l)}}}catch(l){_e(e,e.return,l)}if(e===t){z=null;break}var a=e.sibling;if(a!==null){a.return=e.return,z=a;break}z=e.return}}var i_=Math.ceil,Go=Sn.ReactCurrentDispatcher,Su=Sn.ReactCurrentOwner,Ot=Sn.ReactCurrentBatchConfig,Z=0,Ve=null,Oe=null,We=0,mt=0,Zs=ns(0),Re=0,yi=null,Ts=0,Ca=0,ku=0,ei=null,ct=null,Tu=0,mr=1/0,un=null,Qo=!1,_c=null,qn=null,oo=!1,Dn=null,Yo=0,ti=0,wc=null,So=-1,ko=0;function rt(){return Z&6?Te():So!==-1?So:So=Te()}function $n(t){return t.mode&1?Z&2&&We!==0?We&-We:By.transition!==null?(ko===0&&(ko=Wf()),ko):(t=ne,t!==0||(t=window.event,t=t===void 0?16:Qf(t.type)),t):1}function Wt(t,e,n,s){if(50<ti)throw ti=0,wc=null,Error(M(185));Ci(t,n,s),(!(Z&2)||t!==Ve)&&(t===Ve&&(!(Z&2)&&(Ca|=n),Re===4&&Pn(t,We)),ft(t,s),n===1&&Z===0&&!(e.mode&1)&&(mr=Te()+500,xa&&ss()))}function ft(t,e){var n=t.callbackNode;Bv(t,e);var s=Mo(t,t===Ve?We:0);if(s===0)n!==null&&Ih(n),t.callbackNode=null,t.callbackPriority=0;else if(e=s&-s,t.callbackPriority!==e){if(n!=null&&Ih(n),e===1)t.tag===0?Wy(Sd.bind(null,t)):fp(Sd.bind(null,t)),Fy(function(){!(Z&6)&&ss()}),n=null;else{switch(Bf(s)){case 1:n=Xc;break;case 4:n=Lf;break;case 16:n=jo;break;case 536870912:n=zf;break;default:n=jo}n=hm(n,rm.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function rm(t,e){if(So=-1,ko=0,Z&6)throw Error(M(327));var n=t.callbackNode;if(or()&&t.callbackNode!==n)return null;var s=Mo(t,t===Ve?We:0);if(s===0)return null;if(s&30||s&t.expiredLanes||e)e=Xo(t,s);else{e=s;var r=Z;Z|=2;var i=om();(Ve!==t||We!==e)&&(un=null,mr=Te()+500,vs(t,e));do try{l_();break}catch(a){im(t,a)}while(!0);cu(),Go.current=i,Z=r,Oe!==null?e=0:(Ve=null,We=0,e=Re)}if(e!==0){if(e===2&&(r=Gl(t),r!==0&&(s=r,e=xc(t,r))),e===1)throw n=yi,vs(t,0),Pn(t,s),ft(t,Te()),n;if(e===6)Pn(t,s);else{if(r=t.current.alternate,!(s&30)&&!o_(r)&&(e=Xo(t,s),e===2&&(i=Gl(t),i!==0&&(s=i,e=xc(t,i))),e===1))throw n=yi,vs(t,0),Pn(t,s),ft(t,Te()),n;switch(t.finishedWork=r,t.finishedLanes=s,e){case 0:case 1:throw Error(M(345));case 2:hs(t,ct,un);break;case 3:if(Pn(t,s),(s&130023424)===s&&(e=Tu+500-Te(),10<e)){if(Mo(t,0)!==0)break;if(r=t.suspendedLanes,(r&s)!==s){rt(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=tc(hs.bind(null,t,ct,un),e);break}hs(t,ct,un);break;case 4:if(Pn(t,s),(s&4194240)===s)break;for(e=t.eventTimes,r=-1;0<s;){var o=31-zt(s);i=1<<o,o=e[o],o>r&&(r=o),s&=~i}if(s=r,s=Te()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*i_(s/1960))-s,10<s){t.timeoutHandle=tc(hs.bind(null,t,ct,un),s);break}hs(t,ct,un);break;case 5:hs(t,ct,un);break;default:throw Error(M(329))}}}return ft(t,Te()),t.callbackNode===n?rm.bind(null,t):null}function xc(t,e){var n=ei;return t.current.memoizedState.isDehydrated&&(vs(t,e).flags|=256),t=Xo(t,e),t!==2&&(e=ct,ct=n,e!==null&&Sc(e)),t}function Sc(t){ct===null?ct=t:ct.push.apply(ct,t)}function o_(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var r=n[s],i=r.getSnapshot;r=r.value;try{if(!Bt(i(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Pn(t,e){for(e&=~ku,e&=~Ca,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-zt(e),s=1<<n;t[n]=-1,e&=~s}}function Sd(t){if(Z&6)throw Error(M(327));or();var e=Mo(t,0);if(!(e&1))return ft(t,Te()),null;var n=Xo(t,e);if(t.tag!==0&&n===2){var s=Gl(t);s!==0&&(e=s,n=xc(t,s))}if(n===1)throw n=yi,vs(t,0),Pn(t,e),ft(t,Te()),n;if(n===6)throw Error(M(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,hs(t,ct,un),ft(t,Te()),null}function Cu(t,e){var n=Z;Z|=1;try{return t(e)}finally{Z=n,Z===0&&(mr=Te()+500,xa&&ss())}}function Cs(t){Dn!==null&&Dn.tag===0&&!(Z&6)&&or();var e=Z;Z|=1;var n=Ot.transition,s=ne;try{if(Ot.transition=null,ne=1,t)return t()}finally{ne=s,Ot.transition=n,Z=e,!(Z&6)&&ss()}}function Nu(){mt=Zs.current,le(Zs)}function vs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,by(n)),Oe!==null)for(n=Oe.return;n!==null;){var s=n;switch(ou(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Fo();break;case 3:fr(),le(ht),le(Ze),mu();break;case 5:pu(s);break;case 4:fr();break;case 13:le(pe);break;case 19:le(pe);break;case 10:uu(s.type._context);break;case 22:case 23:Nu()}n=n.return}if(Ve=t,Oe=t=Hn(t.current,null),We=mt=e,Re=0,yi=null,ku=Ca=Ts=0,ct=ei=null,fs!==null){for(e=0;e<fs.length;e++)if(n=fs[e],s=n.interleaved,s!==null){n.interleaved=null;var r=s.next,i=n.pending;if(i!==null){var o=i.next;i.next=r,s.next=o}n.pending=s}fs=null}return t}function im(t,e){do{var n=Oe;try{if(cu(),_o.current=Ho,$o){for(var s=me.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}$o=!1}if(ks=0,Fe=Pe=me=null,Zr=!1,mi=0,Su.current=null,n===null||n.return===null){Re=1,yi=e,Oe=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=We,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var v=cd(o);if(v!==null){v.flags&=-257,ud(v,o,a,i,e),v.mode&1&&ld(i,c,e),e=v,l=c;var g=e.updateQueue;if(g===null){var _=new Set;_.add(l),e.updateQueue=_}else g.add(l);break e}else{if(!(e&1)){ld(i,c,e),Eu();break e}l=Error(M(426))}}else if(he&&a.mode&1){var x=cd(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),ud(x,o,a,i,e),au(pr(l,a));break e}}i=l=pr(l,a),Re!==4&&(Re=2),ei===null?ei=[i]:ei.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var d=Bp(i,l,e);nd(i,d);break e;case 1:a=l;var m=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(qn===null||!qn.has(y)))){i.flags|=65536,e&=-e,i.lanes|=e;var T=Up(i,a,e);nd(i,T);break e}}i=i.return}while(i!==null)}lm(n)}catch(w){e=w,Oe===n&&n!==null&&(Oe=n=n.return);continue}break}while(!0)}function om(){var t=Go.current;return Go.current=Ho,t===null?Ho:t}function Eu(){(Re===0||Re===3||Re===2)&&(Re=4),Ve===null||!(Ts&268435455)&&!(Ca&268435455)||Pn(Ve,We)}function Xo(t,e){var n=Z;Z|=2;var s=om();(Ve!==t||We!==e)&&(un=null,vs(t,e));do try{a_();break}catch(r){im(t,r)}while(!0);if(cu(),Z=n,Go.current=s,Oe!==null)throw Error(M(261));return Ve=null,We=0,Re}function a_(){for(;Oe!==null;)am(Oe)}function l_(){for(;Oe!==null&&!Pv();)am(Oe)}function am(t){var e=um(t.alternate,t,mt);t.memoizedProps=t.pendingProps,e===null?lm(t):Oe=e,Su.current=null}function lm(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=t_(n,e),n!==null){n.flags&=32767,Oe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Re=6,Oe=null;return}}else if(n=e_(n,e,mt),n!==null){Oe=n;return}if(e=e.sibling,e!==null){Oe=e;return}Oe=e=t}while(e!==null);Re===0&&(Re=5)}function hs(t,e,n){var s=ne,r=Ot.transition;try{Ot.transition=null,ne=1,c_(t,e,n,s)}finally{Ot.transition=r,ne=s}return null}function c_(t,e,n,s){do or();while(Dn!==null);if(Z&6)throw Error(M(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(M(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Uv(t,i),t===Ve&&(Oe=Ve=null,We=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||oo||(oo=!0,hm(jo,function(){return or(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ot.transition,Ot.transition=null;var o=ne;ne=1;var a=Z;Z|=4,Su.current=null,s_(t,n),nm(n,t),Oy(Jl),Po=!!Zl,Jl=Zl=null,t.current=n,r_(n),Rv(),Z=a,ne=o,Ot.transition=i}else t.current=n;if(oo&&(oo=!1,Dn=t,Yo=r),i=t.pendingLanes,i===0&&(qn=null),Fv(n.stateNode),ft(t,Te()),e!==null)for(s=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],s(r.value,{componentStack:r.stack,digest:r.digest});if(Qo)throw Qo=!1,t=_c,_c=null,t;return Yo&1&&t.tag!==0&&or(),i=t.pendingLanes,i&1?t===wc?ti++:(ti=0,wc=t):ti=0,ss(),null}function or(){if(Dn!==null){var t=Bf(Yo),e=Ot.transition,n=ne;try{if(Ot.transition=null,ne=16>t?16:t,Dn===null)var s=!1;else{if(t=Dn,Dn=null,Yo=0,Z&6)throw Error(M(331));var r=Z;for(Z|=4,z=t.current;z!==null;){var i=z,o=i.child;if(z.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(z=c;z!==null;){var u=z;switch(u.tag){case 0:case 11:case 15:Jr(8,u,i)}var h=u.child;if(h!==null)h.return=u,z=h;else for(;z!==null;){u=z;var p=u.sibling,v=u.return;if(Jp(u),u===c){z=null;break}if(p!==null){p.return=v,z=p;break}z=v}}}var g=i.alternate;if(g!==null){var _=g.child;if(_!==null){g.child=null;do{var x=_.sibling;_.sibling=null,_=x}while(_!==null)}}z=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,z=o;else e:for(;z!==null;){if(i=z,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Jr(9,i,i.return)}var d=i.sibling;if(d!==null){d.return=i.return,z=d;break e}z=i.return}}var m=t.current;for(z=m;z!==null;){o=z;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,z=y;else e:for(o=m;z!==null;){if(a=z,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ta(9,a)}}catch(w){_e(a,a.return,w)}if(a===o){z=null;break e}var T=a.sibling;if(T!==null){T.return=a.return,z=T;break e}z=a.return}}if(Z=r,ss(),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(ga,t)}catch{}s=!0}return s}finally{ne=n,Ot.transition=e}}return!1}function kd(t,e,n){e=pr(n,e),e=Bp(t,e,1),t=Un(t,e,1),e=rt(),t!==null&&(Ci(t,1,e),ft(t,e))}function _e(t,e,n){if(t.tag===3)kd(t,t,n);else for(;e!==null;){if(e.tag===3){kd(e,t,n);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(qn===null||!qn.has(s))){t=pr(n,t),t=Up(e,t,1),e=Un(e,t,1),t=rt(),e!==null&&(Ci(e,1,t),ft(e,t));break}}e=e.return}}function u_(t,e,n){var s=t.pingCache;s!==null&&s.delete(e),e=rt(),t.pingedLanes|=t.suspendedLanes&n,Ve===t&&(We&n)===n&&(Re===4||Re===3&&(We&130023424)===We&&500>Te()-Tu?vs(t,0):ku|=n),ft(t,e)}function cm(t,e){e===0&&(t.mode&1?(e=Xi,Xi<<=1,!(Xi&130023424)&&(Xi=4194304)):e=1);var n=rt();t=_n(t,e),t!==null&&(Ci(t,e,n),ft(t,n))}function h_(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),cm(t,n)}function d_(t,e){var n=0;switch(t.tag){case 13:var s=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:s=t.stateNode;break;default:throw Error(M(314))}s!==null&&s.delete(e),cm(t,n)}var um;um=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ht.current)ut=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ut=!1,Jy(t,e,n);ut=!!(t.flags&131072)}else ut=!1,he&&e.flags&1048576&&pp(e,zo,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;xo(t,e),t=e.pendingProps;var r=ur(e,Ze.current);ir(e,n),r=vu(null,e,s,t,r,n);var i=yu();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,dt(s)?(i=!0,Vo(e)):i=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,du(e),r.updater=ka,e.stateNode=r,r._reactInternals=e,lc(e,s,t,n),e=hc(null,e,s,!0,i,n)):(e.tag=0,he&&i&&iu(e),et(null,e,r,n),e=e.child),e;case 16:s=e.elementType;e:{switch(xo(t,e),t=e.pendingProps,r=s._init,s=r(s._payload),e.type=s,r=e.tag=p_(s),t=Rt(s,t),r){case 0:e=uc(null,e,s,t,n);break e;case 1:e=fd(null,e,s,t,n);break e;case 11:e=hd(null,e,s,t,n);break e;case 14:e=dd(null,e,s,Rt(s.type,t),n);break e}throw Error(M(306,s,""))}return e;case 0:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:Rt(s,r),uc(t,e,s,r,n);case 1:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:Rt(s,r),fd(t,e,s,r,n);case 3:e:{if(Gp(e),t===null)throw Error(M(387));s=e.pendingProps,i=e.memoizedState,r=i.element,wp(t,e),Uo(e,s,null,n);var o=e.memoizedState;if(s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){r=pr(Error(M(423)),e),e=pd(t,e,s,n,r);break e}else if(s!==r){r=pr(Error(M(424)),e),e=pd(t,e,s,n,r);break e}else for(yt=Bn(e.stateNode.containerInfo.firstChild),wt=e,he=!0,bt=null,n=yp(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(hr(),s===r){e=wn(t,e,n);break e}et(t,e,s,n)}e=e.child}return e;case 5:return xp(e),t===null&&ic(e),s=e.type,r=e.pendingProps,i=t!==null?t.memoizedProps:null,o=r.children,ec(s,r)?o=null:i!==null&&ec(s,i)&&(e.flags|=32),Hp(t,e),et(t,e,o,n),e.child;case 6:return t===null&&ic(e),null;case 13:return Qp(t,e,n);case 4:return fu(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=dr(e,null,s,n):et(t,e,s,n),e.child;case 11:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:Rt(s,r),hd(t,e,s,r,n);case 7:return et(t,e,e.pendingProps,n),e.child;case 8:return et(t,e,e.pendingProps.children,n),e.child;case 12:return et(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(s=e.type._context,r=e.pendingProps,i=e.memoizedProps,o=r.value,re(Wo,s._currentValue),s._currentValue=o,i!==null)if(Bt(i.value,o)){if(i.children===r.children&&!ht.current){e=wn(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===s){if(i.tag===1){l=mn(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),oc(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(M(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),oc(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}et(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,s=e.pendingProps.children,ir(e,n),r=jt(r),s=s(r),e.flags|=1,et(t,e,s,n),e.child;case 14:return s=e.type,r=Rt(s,e.pendingProps),r=Rt(s.type,r),dd(t,e,s,r,n);case 15:return qp(t,e,e.type,e.pendingProps,n);case 17:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:Rt(s,r),xo(t,e),e.tag=1,dt(s)?(t=!0,Vo(e)):t=!1,ir(e,n),Wp(e,s,r),lc(e,s,r,n),hc(null,e,s,!0,t,n);case 19:return Yp(t,e,n);case 22:return $p(t,e,n)}throw Error(M(156,e.tag))};function hm(t,e){return Vf(t,e)}function f_(t,e,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function At(t,e,n,s){return new f_(t,e,n,s)}function Au(t){return t=t.prototype,!(!t||!t.isReactComponent)}function p_(t){if(typeof t=="function")return Au(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Gc)return 11;if(t===Qc)return 14}return 2}function Hn(t,e){var n=t.alternate;return n===null?(n=At(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function To(t,e,n,s,r,i){var o=2;if(s=t,typeof t=="function")Au(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Bs:return ys(n.children,r,i,e);case Hc:o=8,r|=8;break;case Ml:return t=At(12,n,e,r|2),t.elementType=Ml,t.lanes=i,t;case Pl:return t=At(13,n,e,r),t.elementType=Pl,t.lanes=i,t;case Rl:return t=At(19,n,e,r),t.elementType=Rl,t.lanes=i,t;case xf:return Na(n,r,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _f:o=10;break e;case wf:o=9;break e;case Gc:o=11;break e;case Qc:o=14;break e;case On:o=16,s=null;break e}throw Error(M(130,t==null?t:typeof t,""))}return e=At(o,n,e,r),e.elementType=t,e.type=s,e.lanes=i,e}function ys(t,e,n,s){return t=At(7,t,s,e),t.lanes=n,t}function Na(t,e,n,s){return t=At(22,t,s,e),t.elementType=xf,t.lanes=n,t.stateNode={isHidden:!1},t}function Nl(t,e,n){return t=At(6,t,null,e),t.lanes=n,t}function El(t,e,n){return e=At(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function m_(t,e,n,s,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=al(0),this.expirationTimes=al(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=al(0),this.identifierPrefix=s,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Ou(t,e,n,s,r,i,o,a,l){return t=new m_(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=At(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},du(i),t}function g_(t,e,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ws,key:s==null?null:""+s,children:t,containerInfo:e,implementation:n}}function dm(t){if(!t)return Kn;t=t._reactInternals;e:{if(Is(t)!==t||t.tag!==1)throw Error(M(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(dt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(M(171))}if(t.tag===1){var n=t.type;if(dt(n))return dp(t,n,e)}return e}function fm(t,e,n,s,r,i,o,a,l){return t=Ou(n,s,!0,t,r,i,o,a,l),t.context=dm(null),n=t.current,s=rt(),r=$n(n),i=mn(s,r),i.callback=e??null,Un(n,i,r),t.current.lanes=r,Ci(t,r,s),ft(t,s),t}function Ea(t,e,n,s){var r=e.current,i=rt(),o=$n(r);return n=dm(n),e.context===null?e.context=n:e.pendingContext=n,e=mn(i,o),e.payload={element:t},s=s===void 0?null:s,s!==null&&(e.callback=s),t=Un(r,e,o),t!==null&&(Wt(t,r,o,i),yo(t,r,o)),o}function Ko(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Td(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Iu(t,e){Td(t,e),(t=t.alternate)&&Td(t,e)}function v_(){return null}var pm=typeof reportError=="function"?reportError:function(t){console.error(t)};function ju(t){this._internalRoot=t}Aa.prototype.render=ju.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(M(409));Ea(t,e,null,null)};Aa.prototype.unmount=ju.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Cs(function(){Ea(null,t,null,null)}),e[yn]=null}};function Aa(t){this._internalRoot=t}Aa.prototype.unstable_scheduleHydration=function(t){if(t){var e=$f();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Mn.length&&e!==0&&e<Mn[n].priority;n++);Mn.splice(n,0,t),n===0&&Gf(t)}};function Mu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Oa(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Cd(){}function y_(t,e,n,s,r){if(r){if(typeof s=="function"){var i=s;s=function(){var c=Ko(o);i.call(c)}}var o=fm(e,s,t,0,null,!1,!1,"",Cd);return t._reactRootContainer=o,t[yn]=o.current,ui(t.nodeType===8?t.parentNode:t),Cs(),o}for(;r=t.lastChild;)t.removeChild(r);if(typeof s=="function"){var a=s;s=function(){var c=Ko(l);a.call(c)}}var l=Ou(t,0,!1,null,null,!1,!1,"",Cd);return t._reactRootContainer=l,t[yn]=l.current,ui(t.nodeType===8?t.parentNode:t),Cs(function(){Ea(e,l,n,s)}),l}function Ia(t,e,n,s,r){var i=n._reactRootContainer;if(i){var o=i;if(typeof r=="function"){var a=r;r=function(){var l=Ko(o);a.call(l)}}Ea(e,o,t,r)}else o=y_(n,e,t,r,s);return Ko(o)}Uf=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=$r(e.pendingLanes);n!==0&&(Kc(e,n|1),ft(e,Te()),!(Z&6)&&(mr=Te()+500,ss()))}break;case 13:Cs(function(){var s=_n(t,1);if(s!==null){var r=rt();Wt(s,t,1,r)}}),Iu(t,1)}};Zc=function(t){if(t.tag===13){var e=_n(t,134217728);if(e!==null){var n=rt();Wt(e,t,134217728,n)}Iu(t,134217728)}};qf=function(t){if(t.tag===13){var e=$n(t),n=_n(t,e);if(n!==null){var s=rt();Wt(n,t,e,s)}Iu(t,e)}};$f=function(){return ne};Hf=function(t,e){var n=ne;try{return ne=t,e()}finally{ne=n}};ql=function(t,e,n){switch(e){case"input":if(Fl(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var s=n[e];if(s!==t&&s.form===t.form){var r=wa(s);if(!r)throw Error(M(90));kf(s),Fl(s,r)}}}break;case"textarea":Cf(t,n);break;case"select":e=n.value,e!=null&&tr(t,!!n.multiple,e,!1)}};Mf=Cu;Pf=Cs;var __={usingClientEntryPoint:!1,Events:[Ei,Hs,wa,If,jf,Cu]},Br={findFiberByHostInstance:ds,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},w_={bundleType:Br.bundleType,version:Br.version,rendererPackageName:Br.rendererPackageName,rendererConfig:Br.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Sn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=bf(t),t===null?null:t.stateNode},findFiberByHostInstance:Br.findFiberByHostInstance||v_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ao=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ao.isDisabled&&ao.supportsFiber)try{ga=ao.inject(w_),Kt=ao}catch{}}kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=__;kt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mu(e))throw Error(M(200));return g_(t,e,null,n)};kt.createRoot=function(t,e){if(!Mu(t))throw Error(M(299));var n=!1,s="",r=pm;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=Ou(t,1,!1,null,null,n,!1,s,r),t[yn]=e.current,ui(t.nodeType===8?t.parentNode:t),new ju(e)};kt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(M(188)):(t=Object.keys(t).join(","),Error(M(268,t)));return t=bf(e),t=t===null?null:t.stateNode,t};kt.flushSync=function(t){return Cs(t)};kt.hydrate=function(t,e,n){if(!Oa(e))throw Error(M(200));return Ia(null,t,e,!0,n)};kt.hydrateRoot=function(t,e,n){if(!Mu(t))throw Error(M(405));var s=n!=null&&n.hydratedSources||null,r=!1,i="",o=pm;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=fm(e,null,t,1,n??null,r,!1,i,o),t[yn]=e.current,ui(t),s)for(t=0;t<s.length;t++)n=s[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Aa(e)};kt.render=function(t,e,n){if(!Oa(e))throw Error(M(200));return Ia(null,t,e,!1,n)};kt.unmountComponentAtNode=function(t){if(!Oa(t))throw Error(M(40));return t._reactRootContainer?(Cs(function(){Ia(null,null,t,!1,function(){t._reactRootContainer=null,t[yn]=null})}),!0):!1};kt.unstable_batchedUpdates=Cu;kt.unstable_renderSubtreeIntoContainer=function(t,e,n,s){if(!Oa(n))throw Error(M(200));if(t==null||t._reactInternals===void 0)throw Error(M(38));return Ia(t,e,n,!1,s)};kt.version="18.3.1-next-f1338f8080-20240426";function mm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mm)}catch(t){console.error(t)}}mm(),mf.exports=kt;var x_=mf.exports,Nd=x_;Il.createRoot=Nd.createRoot,Il.hydrateRoot=Nd.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _i(){return _i=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},_i.apply(this,arguments)}var bn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(bn||(bn={}));const Ed="popstate";function S_(t){t===void 0&&(t={});function e(r,i){let{pathname:o="/",search:a="",hash:l=""}=js(r.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),kc("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){let o=r.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=r.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof i=="string"?i:Zo(i))}function s(r,i){Pu(r.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return T_(e,n,s,t)}function Se(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Pu(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function k_(){return Math.random().toString(36).substr(2,8)}function Ad(t,e){return{usr:t.state,key:t.key,idx:e}}function kc(t,e,n,s){return n===void 0&&(n=null),_i({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?js(e):e,{state:n,key:e&&e.key||s||k_()})}function Zo(t){let{pathname:e="/",search:n="",hash:s=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function js(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substr(s),t=t.substr(0,s)),t&&(e.pathname=t)}return e}function T_(t,e,n,s){s===void 0&&(s={});let{window:r=document.defaultView,v5Compat:i=!1}=s,o=r.history,a=bn.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(_i({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function h(){a=bn.Pop;let x=u(),d=x==null?null:x-c;c=x,l&&l({action:a,location:_.location,delta:d})}function p(x,d){a=bn.Push;let m=kc(_.location,x,d);n&&n(m,x),c=u()+1;let y=Ad(m,c),T=_.createHref(m);try{o.pushState(y,"",T)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;r.location.assign(T)}i&&l&&l({action:a,location:_.location,delta:1})}function v(x,d){a=bn.Replace;let m=kc(_.location,x,d);n&&n(m,x),c=u();let y=Ad(m,c),T=_.createHref(m);o.replaceState(y,"",T),i&&l&&l({action:a,location:_.location,delta:0})}function g(x){let d=r.location.origin!=="null"?r.location.origin:r.location.href,m=typeof x=="string"?x:Zo(x);return m=m.replace(/ $/,"%20"),Se(d,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,d)}let _={get action(){return a},get location(){return t(r,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(Ed,h),l=x,()=>{r.removeEventListener(Ed,h),l=null}},createHref(x){return e(r,x)},createURL:g,encodeLocation(x){let d=g(x);return{pathname:d.pathname,search:d.search,hash:d.hash}},push:p,replace:v,go(x){return o.go(x)}};return _}var Od;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Od||(Od={}));function C_(t,e,n){return n===void 0&&(n="/"),N_(t,e,n)}function N_(t,e,n,s){let r=typeof e=="string"?js(e):e,i=gr(r.pathname||"/",n);if(i==null)return null;let o=gm(t);E_(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=V_(i);a=b_(o[l],c)}return a}function gm(t,e,n,s){e===void 0&&(e=[]),n===void 0&&(n=[]),s===void 0&&(s="");let r=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Se(l.relativePath.startsWith(s),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(s.length));let c=Gn([s,l.relativePath]),u=n.concat(l);i.children&&i.children.length>0&&(Se(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),gm(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:R_(c,i.index),routesMeta:u})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))r(i,o);else for(let l of vm(i.path))r(i,o,l)}),e}function vm(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,r=n.endsWith("?"),i=n.replace(/\?$/,"");if(s.length===0)return r?[i,""]:[i];let o=vm(s.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),r&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function E_(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:D_(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const A_=/^:[\w-]+$/,O_=3,I_=2,j_=1,M_=10,P_=-2,Id=t=>t==="*";function R_(t,e){let n=t.split("/"),s=n.length;return n.some(Id)&&(s+=P_),e&&(s+=I_),n.filter(r=>!Id(r)).reduce((r,i)=>r+(A_.test(i)?O_:i===""?j_:M_),s)}function D_(t,e){return t.length===e.length&&t.slice(0,-1).every((s,r)=>s===e[r])?t[t.length-1]-e[e.length-1]:0}function b_(t,e,n){let{routesMeta:s}=t,r={},i="/",o=[];for(let a=0;a<s.length;++a){let l=s[a],c=a===s.length-1,u=i==="/"?e:e.slice(i.length)||"/",h=Tc({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),p=l.route;if(!h)return null;Object.assign(r,h.params),o.push({params:r,pathname:Gn([i,h.pathname]),pathnameBase:B_(Gn([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=Gn([i,h.pathnameBase]))}return o}function Tc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=F_(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let i=r[0],o=i.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:s.reduce((c,u,h)=>{let{paramName:p,isOptional:v}=u;if(p==="*"){let _=a[h]||"";o=i.slice(0,i.length-_.length).replace(/(.)\/+$/,"$1")}const g=a[h];return v&&!g?c[p]=void 0:c[p]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function F_(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Pu(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let s=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(s.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),s]}function V_(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Pu(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function gr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function L_(t,e){e===void 0&&(e="/");let{pathname:n,search:s="",hash:r=""}=typeof t=="string"?js(t):t;return{pathname:n?n.startsWith("/")?n:z_(n,e):e,search:U_(s),hash:q_(r)}}function z_(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Al(t,e,n,s){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function W_(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ym(t,e){let n=W_(t);return e?n.map((s,r)=>r===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function _m(t,e,n,s){s===void 0&&(s=!1);let r;typeof t=="string"?r=js(t):(r=_i({},t),Se(!r.pathname||!r.pathname.includes("?"),Al("?","pathname","search",r)),Se(!r.pathname||!r.pathname.includes("#"),Al("#","pathname","hash",r)),Se(!r.search||!r.search.includes("#"),Al("#","search","hash",r)));let i=t===""||r.pathname==="",o=i?"/":r.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!s&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;r.pathname=p.join("/")}a=h>=0?e[h]:"/"}let l=L_(r,a),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Gn=t=>t.join("/").replace(/\/\/+/g,"/"),B_=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),U_=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,q_=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function $_(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const wm=["post","put","patch","delete"];new Set(wm);const H_=["get",...wm];new Set(H_);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wi(){return wi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},wi.apply(this,arguments)}const ja=A.createContext(null),xm=A.createContext(null),rs=A.createContext(null),Ma=A.createContext(null),Ms=A.createContext({outlet:null,matches:[],isDataRoute:!1}),Sm=A.createContext(null);function G_(t,e){let{relative:n}=e===void 0?{}:e;Oi()||Se(!1);let{basename:s,navigator:r}=A.useContext(rs),{hash:i,pathname:o,search:a}=Pa(t,{relative:n}),l=o;return s!=="/"&&(l=o==="/"?s:Gn([s,o])),r.createHref({pathname:l,search:a,hash:i})}function Oi(){return A.useContext(Ma)!=null}function Ii(){return Oi()||Se(!1),A.useContext(Ma).location}function km(t){A.useContext(rs).static||A.useLayoutEffect(t)}function Q_(){let{isDataRoute:t}=A.useContext(Ms);return t?a0():Y_()}function Y_(){Oi()||Se(!1);let t=A.useContext(ja),{basename:e,future:n,navigator:s}=A.useContext(rs),{matches:r}=A.useContext(Ms),{pathname:i}=Ii(),o=JSON.stringify(ym(r,n.v7_relativeSplatPath)),a=A.useRef(!1);return km(()=>{a.current=!0}),A.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){s.go(c);return}let h=_m(c,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Gn([e,h.pathname])),(u.replace?s.replace:s.push)(h,u.state,u)},[e,s,o,i,t])}function Pa(t,e){let{relative:n}=e===void 0?{}:e,{future:s}=A.useContext(rs),{matches:r}=A.useContext(Ms),{pathname:i}=Ii(),o=JSON.stringify(ym(r,s.v7_relativeSplatPath));return A.useMemo(()=>_m(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function X_(t,e){return K_(t,e)}function K_(t,e,n,s){Oi()||Se(!1);let{navigator:r,static:i}=A.useContext(rs),{matches:o}=A.useContext(Ms),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=Ii(),h;if(e){var p;let d=typeof e=="string"?js(e):e;c==="/"||(p=d.pathname)!=null&&p.startsWith(c)||Se(!1),h=d}else h=u;let v=h.pathname||"/",g=v;if(c!=="/"){let d=c.replace(/^\//,"").split("/");g="/"+v.replace(/^\//,"").split("/").slice(d.length).join("/")}let _=C_(t,{pathname:g}),x=n0(_&&_.map(d=>Object.assign({},d,{params:Object.assign({},l,d.params),pathname:Gn([c,r.encodeLocation?r.encodeLocation(d.pathname).pathname:d.pathname]),pathnameBase:d.pathnameBase==="/"?c:Gn([c,r.encodeLocation?r.encodeLocation(d.pathnameBase).pathname:d.pathnameBase])})),o,n,s);return e&&x?A.createElement(Ma.Provider,{value:{location:wi({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:bn.Pop}},x):x}function Z_(){let t=o0(),e=$_(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),n?A.createElement("pre",{style:r},n):null,null)}const J_=A.createElement(Z_,null);class e0 extends A.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?A.createElement(Ms.Provider,{value:this.props.routeContext},A.createElement(Sm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function t0(t){let{routeContext:e,match:n,children:s}=t,r=A.useContext(ja);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),A.createElement(Ms.Provider,{value:e},s)}function n0(t,e,n,s){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),s===void 0&&(s=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=s)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(r=n)==null?void 0:r.errors;if(a!=null){let u=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);u>=0||Se(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&s&&s.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:p,errors:v}=n,g=h.route.loader&&p[h.route.id]===void 0&&(!v||v[h.route.id]===void 0);if(h.route.lazy||g){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,h,p)=>{let v,g=!1,_=null,x=null;n&&(v=a&&h.route.id?a[h.route.id]:void 0,_=h.route.errorElement||J_,l&&(c<0&&p===0?(l0("route-fallback"),g=!0,x=null):c===p&&(g=!0,x=h.route.hydrateFallbackElement||null)));let d=e.concat(o.slice(0,p+1)),m=()=>{let y;return v?y=_:g?y=x:h.route.Component?y=A.createElement(h.route.Component,null):h.route.element?y=h.route.element:y=u,A.createElement(t0,{match:h,routeContext:{outlet:u,matches:d,isDataRoute:n!=null},children:y})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?A.createElement(e0,{location:n.location,revalidation:n.revalidation,component:_,error:v,children:m(),routeContext:{outlet:null,matches:d,isDataRoute:!0}}):m()},null)}var Tm=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Tm||{}),Cm=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Cm||{});function s0(t){let e=A.useContext(ja);return e||Se(!1),e}function r0(t){let e=A.useContext(xm);return e||Se(!1),e}function i0(t){let e=A.useContext(Ms);return e||Se(!1),e}function Nm(t){let e=i0(),n=e.matches[e.matches.length-1];return n.route.id||Se(!1),n.route.id}function o0(){var t;let e=A.useContext(Sm),n=r0(),s=Nm();return e!==void 0?e:(t=n.errors)==null?void 0:t[s]}function a0(){let{router:t}=s0(Tm.UseNavigateStable),e=Nm(Cm.UseNavigateStable),n=A.useRef(!1);return km(()=>{n.current=!0}),A.useCallback(function(r,i){i===void 0&&(i={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,wi({fromRouteId:e},i)))},[t,e])}const jd={};function l0(t,e,n){jd[t]||(jd[t]=!0)}function c0(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Qt(t){Se(!1)}function u0(t){let{basename:e="/",children:n=null,location:s,navigationType:r=bn.Pop,navigator:i,static:o=!1,future:a}=t;Oi()&&Se(!1);let l=e.replace(/^\/*/,"/"),c=A.useMemo(()=>({basename:l,navigator:i,static:o,future:wi({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof s=="string"&&(s=js(s));let{pathname:u="/",search:h="",hash:p="",state:v=null,key:g="default"}=s,_=A.useMemo(()=>{let x=gr(u,l);return x==null?null:{location:{pathname:x,search:h,hash:p,state:v,key:g},navigationType:r}},[l,u,h,p,v,g,r]);return _==null?null:A.createElement(rs.Provider,{value:c},A.createElement(Ma.Provider,{children:n,value:_}))}function h0(t){let{children:e,location:n}=t;return X_(Cc(e),n)}new Promise(()=>{});function Cc(t,e){e===void 0&&(e=[]);let n=[];return A.Children.forEach(t,(s,r)=>{if(!A.isValidElement(s))return;let i=[...e,r];if(s.type===A.Fragment){n.push.apply(n,Cc(s.props.children,i));return}s.type!==Qt&&Se(!1),!s.props.index||!s.props.children||Se(!1);let o={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=Cc(s.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jo(){return Jo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Jo.apply(this,arguments)}function Em(t,e){if(t==null)return{};var n={},s=Object.keys(t),r,i;for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function d0(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function f0(t,e){return t.button===0&&(!e||e==="_self")&&!d0(t)}const p0=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],m0=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],g0="6";try{window.__reactRouterVersion=g0}catch{}const v0=A.createContext({isTransitioning:!1}),y0="startTransition",Md=uv[y0];function _0(t){let{basename:e,children:n,future:s,window:r}=t,i=A.useRef();i.current==null&&(i.current=S_({window:r,v5Compat:!0}));let o=i.current,[a,l]=A.useState({action:o.action,location:o.location}),{v7_startTransition:c}=s||{},u=A.useCallback(h=>{c&&Md?Md(()=>l(h)):l(h)},[l,c]);return A.useLayoutEffect(()=>o.listen(u),[o,u]),A.useEffect(()=>c0(s),[s]),A.createElement(u0,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:s})}const w0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",x0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_s=A.forwardRef(function(e,n){let{onClick:s,relative:r,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:h}=e,p=Em(e,p0),{basename:v}=A.useContext(rs),g,_=!1;if(typeof c=="string"&&x0.test(c)&&(g=c,w0))try{let y=new URL(window.location.href),T=c.startsWith("//")?new URL(y.protocol+c):new URL(c),w=gr(T.pathname,v);T.origin===y.origin&&w!=null?c=w+T.search+T.hash:_=!0}catch{}let x=G_(c,{relative:r}),d=k0(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:r,viewTransition:h});function m(y){s&&s(y),y.defaultPrevented||d(y)}return A.createElement("a",Jo({},p,{href:g||x,onClick:_||i?s:m,ref:n,target:l}))}),Ls=A.forwardRef(function(e,n){let{"aria-current":s="page",caseSensitive:r=!1,className:i="",end:o=!1,style:a,to:l,viewTransition:c,children:u}=e,h=Em(e,m0),p=Pa(l,{relative:h.relative}),v=Ii(),g=A.useContext(xm),{navigator:_,basename:x}=A.useContext(rs),d=g!=null&&T0(p)&&c===!0,m=_.encodeLocation?_.encodeLocation(p).pathname:p.pathname,y=v.pathname,T=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;r||(y=y.toLowerCase(),T=T?T.toLowerCase():null,m=m.toLowerCase()),T&&x&&(T=gr(T,x)||T);const w=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let S=y===m||!o&&y.startsWith(m)&&y.charAt(w)==="/",C=T!=null&&(T===m||!o&&T.startsWith(m)&&T.charAt(m.length)==="/"),k={isActive:S,isPending:C,isTransitioning:d},E=S?s:void 0,N;typeof i=="function"?N=i(k):N=[i,S?"active":null,C?"pending":null,d?"transitioning":null].filter(Boolean).join(" ");let O=typeof a=="function"?a(k):a;return A.createElement(_s,Jo({},h,{"aria-current":E,className:N,ref:n,style:O,to:l,viewTransition:c}),typeof u=="function"?u(k):u)});var Nc;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Nc||(Nc={}));var Pd;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Pd||(Pd={}));function S0(t){let e=A.useContext(ja);return e||Se(!1),e}function k0(t,e){let{target:n,replace:s,state:r,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=Q_(),c=Ii(),u=Pa(t,{relative:o});return A.useCallback(h=>{if(f0(h,n)){h.preventDefault();let p=s!==void 0?s:Zo(c)===Zo(u);l(t,{replace:p,state:r,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,u,s,r,n,t,i,o,a])}function T0(t,e){e===void 0&&(e={});let n=A.useContext(v0);n==null&&Se(!1);let{basename:s}=S0(Nc.useViewTransitionState),r=Pa(t,{relative:e.relative});if(!n.isTransitioning)return!1;let i=gr(n.currentLocation.pathname,s)||n.currentLocation.pathname,o=gr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Tc(r.pathname,o)!=null||Tc(r.pathname,i)!=null}const C0=A.createContext(),N0=({children:t})=>{const e=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,[n,s]=A.useState(()=>{const a=localStorage.getItem("themePreference");return a!==null?a==="dark":e});A.useEffect(()=>{n?(document.body.classList.add("dark-theme"),document.body.classList.remove("light-theme")):(document.body.classList.add("light-theme"),document.body.classList.remove("dark-theme")),localStorage.setItem("themePreference",n?"dark":"light")},[n]),A.useEffect(()=>{const a=window.matchMedia("(prefers-color-scheme: dark)"),l=c=>{localStorage.getItem("themePreference")===null&&s(c.matches)};return a.addEventListener?a.addEventListener("change",l):a.addListener(l),()=>{a.removeEventListener?a.removeEventListener("change",l):a.removeListener(l)}},[]);const o={isDarkMode:n,toggleTheme:()=>{s(a=>!a)},setTheme:a=>{s(a==="dark")}};return f.jsx(C0.Provider,{value:o,children:t})},en=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],Ec={major:[0,2,4,5,7,9,11],minor:[0,2,3,5,7,8,10],dorian:[0,2,3,5,7,9,10],phrygian:[0,1,3,5,7,8,10],lydian:[0,2,4,6,7,9,11],mixolydian:[0,2,4,5,7,9,10],locrian:[0,1,3,5,6,8,10],minorPentatonic:[0,3,5,7,10],majorPentatonic:[0,2,4,7,9],blues:[0,3,5,6,7,10],harmonicMinor:[0,2,3,5,7,8,11],melodicMinor:[0,2,3,5,7,9,11]},E0={maj:[0,4,7],min:[0,3,7],dim:[0,3,6],aug:[0,4,8],maj7:[0,4,7,11],min7:[0,3,7,10],7:[0,4,7,10],dim7:[0,3,6,9],m7b5:[0,3,6,10],maj9:[0,4,7,11,14],min9:[0,3,7,10,14],9:[0,4,7,10,14],maj6:[0,4,7,9],min6:[0,3,7,9],add9:[0,4,7,14],sus2:[0,2,7],sus4:[0,5,7]},A0={0:"Unison",1:"Minor 2nd",2:"Major 2nd",3:"Minor 3rd",4:"Major 3rd",5:"Perfect 4th",6:"Tritone",7:"Perfect 5th",8:"Minor 6th",9:"Major 6th",10:"Minor 7th",11:"Major 7th",12:"Octave"},O0={0:"Perfect consonance, foundation for harmony",1:"Strong dissonance, creates tension and urgency",2:"Mild dissonance, used for stepwise motion and creating movement",3:"Imperfect consonance, dark and somber quality",4:"Imperfect consonance, bright and happy quality",5:"Perfect consonance with a suspended quality, seeking resolution",6:`Strong dissonance, historically the "devil's interval"`,7:"Perfect consonance, stable and grounding",8:"Imperfect consonance with melancholic quality",9:"Imperfect consonance, warm and bright",10:"Mild dissonance, creates tension that resolves to the tonic",11:"Strong dissonance, creates anticipation for resolution",12:"Perfect consonance, emphasizes stability"},I0={0:"1:1",1:"16:15",2:"9:8",3:"6:5",4:"5:4",5:"4:3",6:"45:32",7:"3:2",8:"8:5",9:"5:3",10:"9:5",11:"15:8",12:"2:1"},Ac={major:["Tonic","Supertonic","Mediant","Subdominant","Dominant","Submediant","Leading Tone"],minor:["Tonic","Supertonic","Mediant","Subdominant","Dominant","Submediant","Subtonic"]},nt=t=>{const e=t.replace(/\d/g,"");return en.indexOf(e)},vr=(t,e="major")=>{const n=nt(t),s=Ec[e];return n===-1||!s?[]:s.map(r=>{const i=(n+r)%12;return en[i]})},Am=(t,e="maj")=>{const n=nt(t),s=E0[e];return n===-1||!s?[]:s.map(r=>{const i=(n+r)%12;return en[i]})},Rd=(t,e="maj",n=4)=>{const s=Am(t,e);if(s.length===0)return[];let r=n,i=nt(s[0]);return s.map((o,a)=>{const l=nt(o);return a>0&&l<=i&&(r+=1),i=l,`${o}${r}`})},j0=(t,e)=>{const n=nt(t),s=nt(e);if(n===-1||s===-1)return null;const r=(s-n+12)%12;return{semitones:r,name:A0[r],character:O0[r],ratio:I0[r]}},ea=(t,e="major")=>{const n=vr(t,e);if(n.length===0)return[];const s={major:["maj","min","min","maj","maj","min","dim"],minor:["min","dim","maj","min","min","maj","maj"]},r={major:["I","ii","iii","IV","V","vi","vii°"],minor:["i","ii°","III","iv","v","VI","VII"]},i=s[e]||s.major,o=r[e]||r.major;return n.map((a,l)=>({root:a,type:i[l],chord:Am(a,i[l]),numeral:o[l],degree:l+1,function:Ac[e][l]}))},Dd=(t,e="major")=>{var n;return t<0||t>6?null:((n=Ac[e])==null?void 0:n[t])||Ac.major[t]},ta=(t,e)=>{const n=nt(t);if(n===-1)return null;if(e==="major"){const s=(n+9)%12;return{root:en[s],type:"minor"}}else if(e==="minor"){const s=(n+3)%12;return{root:en[s],type:"major"}}return null},M0=(t,e="major")=>{const n=vr(t,e);if(n.length===0)return[];const s=["Ionian","Dorian","Phrygian","Lydian","Mixolydian","Aeolian","Locrian"];return n.map((r,i)=>{const o=[...n.slice(i),...n.slice(0,i)];return{root:r,name:s[i],scale:o,pattern:o.map((a,l)=>l===o.length-1?null:(nt(o[l+1])-nt(o[l])+12)%12===1?"H":"W").filter(a=>a!==null)}})},P0=()=>{const t={keys:[],innerKeys:[]};let e="C";for(let n=0;n<12;n++){const s=nt(e),r=ta(e,"major");t.keys.push({note:e,keySignature:na(e,"major"),relativeMinor:r.root});const i=(s+7)%12;e=en[i]}return t.innerKeys=t.keys.map(n=>({note:ta(n.note,"major").root,keySignature:na(n.note,"major"),relativeMajor:n.note})),t},na=(t,e)=>{const s=["C","G","D","A","E","B","F#","C#","G#","D#","A#","F"].indexOf(t);if(s===-1)return{sharps:0,flats:0};if(e==="major")return s<=6?{sharps:s}:{flats:12-s};if(e==="minor"){const r=ta(t,"minor").root;return na(r,"major")}return{sharps:0,flats:0}},R0=A.createContext(),D0=({children:t})=>{const[e,n]=A.useState([]),[s,r]=A.useState({root:"C",type:"major"}),[i,o]=A.useState([]),[a,l]=A.useState([]);A.useEffect(()=>{const m=localStorage.getItem("savedProgressions");if(m)try{l(JSON.parse(m))}catch(y){console.error("Error loading saved progressions:",y)}},[]),A.useEffect(()=>{localStorage.setItem("savedProgressions",JSON.stringify(a))},[a]),A.useEffect(()=>{const m=ea(s.root,s.type);o(m)},[s]);const d={currentProgression:e,currentKey:s,setCurrentKey:r,diatonicChords:i,addChord:m=>{n(y=>[...y,m])},removeChord:m=>{n(y=>y.filter((T,w)=>w!==m))},updateChord:(m,y)=>{n(T=>{const w=[...T];return w[m]=y,w})},clearProgression:()=>{n([])},saveProgression:m=>{const y={id:Date.now().toString(),name:m||`Progression ${a.length+1}`,key:s,chords:e,createdAt:new Date().toISOString()};return l(T=>[...T,y]),y.id},loadProgression:m=>{const y=a.find(T=>T.id===m);return y?(r(y.key),n(y.chords),!0):!1},deleteProgression:m=>{l(y=>y.filter(T=>T.id!==m))},savedProgressions:a,generateProgression:(m="basic")=>{const y={basic:[0,3,4,0],pop:[0,4,5,3],fifties:[0,5,3,4],jazz:[1,4,0,5],blues:[0,0,0,0,3,3,0,0,4,3,0,0]},T=y[m]||y.basic;if(i.length===0)return;const w=T.map(S=>S<i.length?i[S]:i[0]);return n(w),w}};return f.jsx(R0.Provider,{value:d,children:t})},Om="15.0.4",bd=(t,e,n)=>({endTime:e,insertTime:n,type:"exponentialRampToValue",value:t}),Fd=(t,e,n)=>({endTime:e,insertTime:n,type:"linearRampToValue",value:t}),Oc=(t,e)=>({startTime:e,type:"setValue",value:t}),Im=(t,e,n)=>({duration:n,startTime:e,type:"setValueCurve",values:t}),jm=(t,e,{startTime:n,target:s,timeConstant:r})=>s+(e-s)*Math.exp((n-t)/r),Js=t=>t.type==="exponentialRampToValue",sa=t=>t.type==="linearRampToValue",jn=t=>Js(t)||sa(t),Ru=t=>t.type==="setValue",hn=t=>t.type==="setValueCurve",ra=(t,e,n,s)=>{const r=t[e];return r===void 0?s:jn(r)||Ru(r)?r.value:hn(r)?r.values[r.values.length-1]:jm(n,ra(t,e-1,r.startTime,s),r)},Vd=(t,e,n,s,r)=>n===void 0?[s.insertTime,r]:jn(n)?[n.endTime,n.value]:Ru(n)?[n.startTime,n.value]:hn(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,ra(t,e-1,n.startTime,r)],Ic=t=>t.type==="cancelAndHold",jc=t=>t.type==="cancelScheduledValues",An=t=>Ic(t)||jc(t)?t.cancelTime:Js(t)||sa(t)?t.endTime:t.startTime,Ld=(t,e,n,{endTime:s,value:r})=>n===r?r:0<n&&0<r||n<0&&r<0?n*(r/n)**((t-e)/(s-e)):0,zd=(t,e,n,{endTime:s,value:r})=>n+(t-e)/(s-e)*(r-n),b0=(t,e)=>{const n=Math.floor(e),s=Math.ceil(e);return n===s?t[n]:(1-(e-n))*t[n]+(1-(s-e))*t[s]},F0=(t,{duration:e,startTime:n,values:s})=>{const r=(t-n)/e*(s.length-1);return b0(s,r)},lo=t=>t.type==="setTarget";class V0{constructor(e){this._automationEvents=[],this._currenTime=0,this._defaultValue=e}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(e){const n=An(e);if(Ic(e)||jc(e)){const s=this._automationEvents.findIndex(i=>jc(e)&&hn(i)?i.startTime+i.duration>=n:An(i)>=n),r=this._automationEvents[s];if(s!==-1&&(this._automationEvents=this._automationEvents.slice(0,s)),Ic(e)){const i=this._automationEvents[this._automationEvents.length-1];if(r!==void 0&&jn(r)){if(i!==void 0&&lo(i))throw new Error("The internal list is malformed.");const o=i===void 0?r.insertTime:hn(i)?i.startTime+i.duration:An(i),a=i===void 0?this._defaultValue:hn(i)?i.values[i.values.length-1]:i.value,l=Js(r)?Ld(n,o,a,r):zd(n,o,a,r),c=Js(r)?bd(l,n,this._currenTime):Fd(l,n,this._currenTime);this._automationEvents.push(c)}if(i!==void 0&&lo(i)&&this._automationEvents.push(Oc(this.getValue(n),n)),i!==void 0&&hn(i)&&i.startTime+i.duration>n){const o=n-i.startTime,a=(i.values.length-1)/i.duration,l=Math.max(2,1+Math.ceil(o*a)),c=o/(l-1)*a,u=i.values.slice(0,l);if(c<1)for(let h=1;h<l;h+=1){const p=c*h%1;u[h]=i.values[h-1]*(1-p)+i.values[h]*p}this._automationEvents[this._automationEvents.length-1]=Im(u,i.startTime,o)}}}else{const s=this._automationEvents.findIndex(o=>An(o)>n),r=s===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[s-1];if(r!==void 0&&hn(r)&&An(r)+r.duration>n)return!1;const i=Js(e)?bd(e.value,e.endTime,this._currenTime):sa(e)?Fd(e.value,n,this._currenTime):e;if(s===-1)this._automationEvents.push(i);else{if(hn(e)&&n+e.duration>An(this._automationEvents[s]))return!1;this._automationEvents.splice(s,0,i)}}return!0}flush(e){const n=this._automationEvents.findIndex(s=>An(s)>e);if(n>1){const s=this._automationEvents.slice(n-1),r=s[0];lo(r)&&s.unshift(Oc(ra(this._automationEvents,n-2,r.startTime,this._defaultValue),r.startTime)),this._automationEvents=s}}getValue(e){if(this._automationEvents.length===0)return this._defaultValue;const n=this._automationEvents.findIndex(o=>An(o)>e),s=this._automationEvents[n],r=(n===-1?this._automationEvents.length:n)-1,i=this._automationEvents[r];if(i!==void 0&&lo(i)&&(s===void 0||!jn(s)||s.insertTime>e))return jm(e,ra(this._automationEvents,r-1,i.startTime,this._defaultValue),i);if(i!==void 0&&Ru(i)&&(s===void 0||!jn(s)))return i.value;if(i!==void 0&&hn(i)&&(s===void 0||!jn(s)||i.startTime+i.duration>e))return e<i.startTime+i.duration?F0(e,i):i.values[i.values.length-1];if(i!==void 0&&jn(i)&&(s===void 0||!jn(s)))return i.value;if(s!==void 0&&Js(s)){const[o,a]=Vd(this._automationEvents,r,i,s,this._defaultValue);return Ld(e,o,a,s)}if(s!==void 0&&sa(s)){const[o,a]=Vd(this._automationEvents,r,i,s,this._defaultValue);return zd(e,o,a,s)}return this._defaultValue}}const L0=t=>({cancelTime:t,type:"cancelAndHold"}),z0=t=>({cancelTime:t,type:"cancelScheduledValues"}),W0=(t,e)=>({endTime:e,type:"exponentialRampToValue",value:t}),B0=(t,e)=>({endTime:e,type:"linearRampToValue",value:t}),U0=(t,e,n)=>({startTime:e,target:t,timeConstant:n,type:"setTarget"}),q0=()=>new DOMException("","AbortError"),$0=t=>(e,n,[s,r,i],o)=>{t(e[r],[n,s,i],a=>a[0]===n&&a[1]===s,o)},H0=t=>(e,n,s)=>{const r=[];for(let i=0;i<s.numberOfInputs;i+=1)r.push(new Set);t.set(e,{activeInputs:r,outputs:new Set,passiveInputs:new WeakMap,renderer:n})},G0=t=>(e,n)=>{t.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:n})},yr=new WeakSet,Mm=new WeakMap,Du=new WeakMap,Pm=new WeakMap,bu=new WeakMap,Ra=new WeakMap,Rm=new WeakMap,Mc=new WeakMap,Pc=new WeakMap,Rc=new WeakMap,Dm={construct(){return Dm}},Q0=t=>{try{const e=new Proxy(t,Dm);new e}catch{return!1}return!0},Wd=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,Bd=(t,e)=>{const n=[];let s=t.replace(/^[\s]+/,""),r=s.match(Wd);for(;r!==null;){const i=r[1].slice(1,-1),o=r[0].replace(/([\s]+)?;?$/,"").replace(i,new URL(i,e).toString());n.push(o),s=s.slice(r[0].length).replace(/^[\s]+/,""),r=s.match(Wd)}return[n.join(";"),s]},Ud=t=>{if(t!==void 0&&!Array.isArray(t))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},qd=t=>{if(!Q0(t))throw new TypeError("The given value for processorCtor should be a constructor.");if(t.prototype===null||typeof t.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},Y0=(t,e,n,s,r,i,o,a,l,c,u,h,p)=>{let v=0;return(g,_,x={credentials:"omit"})=>{const d=u.get(g);if(d!==void 0&&d.has(_))return Promise.resolve();const m=c.get(g);if(m!==void 0){const w=m.get(_);if(w!==void 0)return w}const y=i(g),T=y.audioWorklet===void 0?r(_).then(([w,S])=>{const[C,k]=Bd(w,S),E=`${C};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${k}
})})(window,'_AWGS')`;return n(E)}).then(()=>{const w=p._AWGS.pop();if(w===void 0)throw new SyntaxError;s(y.currentTime,y.sampleRate,()=>w(class{},void 0,(S,C)=>{if(S.trim()==="")throw e();const k=Pc.get(y);if(k!==void 0){if(k.has(S))throw e();qd(C),Ud(C.parameterDescriptors),k.set(S,C)}else qd(C),Ud(C.parameterDescriptors),Pc.set(y,new Map([[S,C]]))},y.sampleRate,void 0,void 0))}):Promise.all([r(_),Promise.resolve(t(h,h))]).then(([[w,S],C])=>{const k=v+1;v=k;const[E,N]=Bd(w,S),b=`${E};((AudioWorkletProcessor,registerProcessor)=>{${N}
})(${C?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${C?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${C?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${k}',class extends AudioWorkletProcessor{process(){return !1}})`,B=new Blob([b],{type:"application/javascript; charset=utf-8"}),F=URL.createObjectURL(B);return y.audioWorklet.addModule(F,x).then(()=>{if(a(y))return y;const W=o(y);return W.audioWorklet.addModule(F,x).then(()=>W)}).then(W=>{if(l===null)throw new SyntaxError;try{new l(W,`__sac${k}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(F))});return m===void 0?c.set(g,new Map([[_,T]])):m.set(_,T),T.then(()=>{const w=u.get(g);w===void 0?u.set(g,new Set([_])):w.add(_)}).finally(()=>{const w=c.get(g);w!==void 0&&w.delete(_)}),T}},Ut=(t,e)=>{const n=t.get(e);if(n===void 0)throw new Error("A value with the given key could not be found.");return n},Da=(t,e)=>{const n=Array.from(t).filter(e);if(n.length>1)throw Error("More than one element was found.");if(n.length===0)throw Error("No element was found.");const[s]=n;return t.delete(s),s},bm=(t,e,n,s)=>{const r=Ut(t,e),i=Da(r,o=>o[0]===n&&o[1]===s);return r.size===0&&t.delete(e),i},ji=t=>Ut(Rm,t),_r=t=>{if(yr.has(t))throw new Error("The AudioNode is already stored.");yr.add(t),ji(t).forEach(e=>e(!0))},Fm=t=>"port"in t,Mi=t=>{if(!yr.has(t))throw new Error("The AudioNode is not stored.");yr.delete(t),ji(t).forEach(e=>e(!1))},Dc=(t,e)=>{!Fm(t)&&e.every(n=>n.size===0)&&Mi(t)},X0=(t,e,n,s,r,i,o,a,l,c,u,h,p)=>{const v=new WeakMap;return(g,_,x,d,m)=>{const{activeInputs:y,passiveInputs:T}=i(_),{outputs:w}=i(g),S=a(g),C=k=>{const E=l(_),N=l(g);if(k){const O=bm(T,g,x,d);t(y,g,O,!1),!m&&!h(g)&&n(N,E,x,d),p(_)&&_r(_)}else{const O=s(y,g,x,d);e(T,d,O,!1),!m&&!h(g)&&r(N,E,x,d);const I=o(_);if(I===0)u(_)&&Dc(_,y);else{const R=v.get(_);R!==void 0&&clearTimeout(R),v.set(_,setTimeout(()=>{u(_)&&Dc(_,y)},I*1e3))}}};return c(w,[_,x,d],k=>k[0]===_&&k[1]===x&&k[2]===d,!0)?(S.add(C),u(g)?t(y,g,[x,d,C],!0):e(T,d,[g,x,C],!0),!0):!1}},K0=t=>(e,n,[s,r,i],o)=>{const a=e.get(s);a===void 0?e.set(s,new Set([[r,n,i]])):t(a,[r,n,i],l=>l[0]===r&&l[1]===n,o)},Z0=t=>(e,n)=>{const s=t(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(s).connect(e.destination);const r=()=>{n.removeEventListener("ended",r),n.disconnect(s),s.disconnect()};n.addEventListener("ended",r)},J0=t=>(e,n)=>{t(e).add(n)},ew={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},tw=(t,e,n,s,r,i)=>class extends t{constructor(a,l){const c=r(a),u={...ew,...l},h=s(c,u),p=i(c)?e():null;super(a,!1,h,p),this._nativeAnalyserNode=h}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(a){this._nativeAnalyserNode.fftSize=a}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(a){const l=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=a,!(a>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=l,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(a){const l=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=a,!(this._nativeAnalyserNode.maxDecibels>a))throw this._nativeAnalyserNode.minDecibels=l,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(a){this._nativeAnalyserNode.smoothingTimeConstant=a}getByteFrequencyData(a){this._nativeAnalyserNode.getByteFrequencyData(a)}getByteTimeDomainData(a){this._nativeAnalyserNode.getByteTimeDomainData(a)}getFloatFrequencyData(a){this._nativeAnalyserNode.getFloatFrequencyData(a)}getFloatTimeDomainData(a){this._nativeAnalyserNode.getFloatTimeDomainData(a)}},Je=(t,e)=>t.context===e,nw=(t,e,n)=>()=>{const s=new WeakMap,r=async(i,o)=>{let a=e(i);if(!Je(a,o)){const c={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,fftSize:a.fftSize,maxDecibels:a.maxDecibels,minDecibels:a.minDecibels,smoothingTimeConstant:a.smoothingTimeConstant};a=t(o,c)}return s.set(o,a),await n(i,o,a),a};return{render(i,o){const a=s.get(o);return a!==void 0?Promise.resolve(a):r(i,o)}}},ia=t=>{try{t.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},an=()=>new DOMException("","IndexSizeError"),Fu=t=>{t.getChannelData=(e=>n=>{try{return e.call(t,n)}catch(s){throw s.code===12?an():s}})(t.getChannelData)},sw={numberOfChannels:1},rw=(t,e,n,s,r,i,o,a)=>{let l=null;return class Vm{constructor(u){if(r===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:h,numberOfChannels:p,sampleRate:v}={...sw,...u};l===null&&(l=new r(1,1,44100));const g=s!==null&&e(i,i)?new s({length:h,numberOfChannels:p,sampleRate:v}):l.createBuffer(p,h,v);if(g.numberOfChannels===0)throw n();return typeof g.copyFromChannel!="function"?(o(g),Fu(g)):e(ia,()=>ia(g))||a(g),t.add(g),g}static[Symbol.hasInstance](u){return u!==null&&typeof u=="object"&&Object.getPrototypeOf(u)===Vm.prototype||t.has(u)}}},gt=-34028234663852886e22,tt=34028234663852886e22,gn=t=>yr.has(t),iw={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},ow=(t,e,n,s,r,i,o,a)=>class extends t{constructor(c,u){const h=i(c),p={...iw,...u},v=r(h,p),g=o(h),_=g?e():null;super(c,!1,v,_),this._audioBufferSourceNodeRenderer=_,this._isBufferNullified=!1,this._isBufferSet=p.buffer!==null,this._nativeAudioBufferSourceNode=v,this._onended=null,this._playbackRate=n(this,g,v.playbackRate,tt,gt)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(c){if(this._nativeAudioBufferSourceNode.buffer=c,c!==null){if(this._isBufferSet)throw s();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(c){this._nativeAudioBufferSourceNode.loop=c}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(c){this._nativeAudioBufferSourceNode.loopEnd=c}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(c){this._nativeAudioBufferSourceNode.loopStart=c}get onended(){return this._onended}set onended(c){const u=typeof c=="function"?a(this,c):null;this._nativeAudioBufferSourceNode.onended=u;const h=this._nativeAudioBufferSourceNode.onended;this._onended=h!==null&&h===u?c:h}get playbackRate(){return this._playbackRate}start(c=0,u=0,h){if(this._nativeAudioBufferSourceNode.start(c,u,h),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=h===void 0?[c,u]:[c,u,h]),this.context.state!=="closed"){_r(this);const p=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",p),gn(this)&&Mi(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",p)}}stop(c=0){this._nativeAudioBufferSourceNode.stop(c),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=c)}},aw=(t,e,n,s,r)=>()=>{const i=new WeakMap;let o=null,a=null;const l=async(c,u)=>{let h=n(c);const p=Je(h,u);if(!p){const v={buffer:h.buffer,channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,loop:h.loop,loopEnd:h.loopEnd,loopStart:h.loopStart,playbackRate:h.playbackRate.value};h=e(u,v),o!==null&&h.start(...o),a!==null&&h.stop(a)}return i.set(u,h),p?await t(u,c.playbackRate,h.playbackRate):await s(u,c.playbackRate,h.playbackRate),await r(c,u,h),h};return{set start(c){o=c},set stop(c){a=c},render(c,u){const h=i.get(u);return h!==void 0?Promise.resolve(h):l(c,u)}}},lw=t=>"playbackRate"in t,cw=t=>"frequency"in t&&"gain"in t,uw=t=>"offset"in t,hw=t=>!("frequency"in t)&&"gain"in t,dw=t=>"detune"in t&&"frequency"in t&&!("gain"in t),fw=t=>"pan"in t,st=t=>Ut(Mm,t),Pi=t=>Ut(Pm,t),bc=(t,e)=>{const{activeInputs:n}=st(t);n.forEach(r=>r.forEach(([i])=>{e.includes(t)||bc(i,[...e,t])}));const s=lw(t)?[t.playbackRate]:Fm(t)?Array.from(t.parameters.values()):cw(t)?[t.Q,t.detune,t.frequency,t.gain]:uw(t)?[t.offset]:hw(t)?[t.gain]:dw(t)?[t.detune,t.frequency]:fw(t)?[t.pan]:[];for(const r of s){const i=Pi(r);i!==void 0&&i.activeInputs.forEach(([o])=>bc(o,e))}gn(t)&&Mi(t)},Lm=t=>{bc(t.destination,[])},pw=t=>t===void 0||typeof t=="number"||typeof t=="string"&&(t==="balanced"||t==="interactive"||t==="playback"),mw=(t,e,n,s,r,i,o,a,l)=>class extends t{constructor(u={}){if(l===null)throw new Error("Missing the native AudioContext constructor.");let h;try{h=new l(u)}catch(g){throw g.code===12&&g.message==="sampleRate is not in range"?n():g}if(h===null)throw s();if(!pw(u.latencyHint))throw new TypeError(`The provided value '${u.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(u.sampleRate!==void 0&&h.sampleRate!==u.sampleRate)throw n();super(h,2);const{latencyHint:p}=u,{sampleRate:v}=h;if(this._baseLatency=typeof h.baseLatency=="number"?h.baseLatency:p==="balanced"?512/v:p==="interactive"||p===void 0?256/v:p==="playback"?1024/v:Math.max(2,Math.min(128,Math.round(p*v/128)))*128/v,this._nativeAudioContext=h,l.name==="webkitAudioContext"?(this._nativeGainNode=h.createGain(),this._nativeOscillatorNode=h.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(h.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,h.state==="running"){this._state="suspended";const g=()=>{this._state==="suspended"&&(this._state=null),h.removeEventListener("statechange",g)};h.addEventListener("statechange",g)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw e()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),Lm(this)}))}createMediaElementSource(u){return new r(this,{mediaElement:u})}createMediaStreamDestination(){return new i(this)}createMediaStreamSource(u){return new o(this,{mediaStream:u})}createMediaStreamTrackSource(u){return new a(this,{mediaStreamTrack:u})}resume(){return this._state==="suspended"?new Promise((u,h)=>{const p=()=>{this._nativeAudioContext.removeEventListener("statechange",p),this._nativeAudioContext.state==="running"?u():this.resume().then(u,h)};this._nativeAudioContext.addEventListener("statechange",p)}):this._nativeAudioContext.resume().catch(u=>{throw u===void 0||u.code===15?e():u})}suspend(){return this._nativeAudioContext.suspend().catch(u=>{throw u===void 0?e():u})}},gw=(t,e,n,s,r,i,o,a)=>class extends t{constructor(c,u){const h=i(c),p=o(h),v=r(h,u,p),g=p?e(a):null;super(c,!1,v,g),this._isNodeOfNativeOfflineAudioContext=p,this._nativeAudioDestinationNode=v}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(c){if(this._isNodeOfNativeOfflineAudioContext)throw s();if(c>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=c}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(c){if(this._isNodeOfNativeOfflineAudioContext)throw s();this._nativeAudioDestinationNode.channelCountMode=c}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},vw=t=>{const e=new WeakMap,n=async(s,r)=>{const i=r.destination;return e.set(r,i),await t(s,r,i),i};return{render(s,r){const i=e.get(r);return i!==void 0?Promise.resolve(i):n(s,r)}}},yw=(t,e,n,s,r,i,o,a)=>(l,c)=>{const u=c.listener,h=()=>{const w=new Float32Array(1),S=e(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),C=o(c);let k=!1,E=[0,0,-1,0,1,0],N=[0,0,0];const O=()=>{if(k)return;k=!0;const B=s(c,256,9,0);B.onaudioprocess=({inputBuffer:F})=>{const W=[i(F,w,0),i(F,w,1),i(F,w,2),i(F,w,3),i(F,w,4),i(F,w,5)];W.some((P,D)=>P!==E[D])&&(u.setOrientation(...W),E=W);const j=[i(F,w,6),i(F,w,7),i(F,w,8)];j.some((P,D)=>P!==N[D])&&(u.setPosition(...j),N=j)},S.connect(B)},I=B=>F=>{F!==E[B]&&(E[B]=F,u.setOrientation(...E))},R=B=>F=>{F!==N[B]&&(N[B]=F,u.setPosition(...N))},b=(B,F,W)=>{const j=n(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:F});j.connect(S,0,B),j.start(),Object.defineProperty(j.offset,"defaultValue",{get(){return F}});const P=t({context:l},C,j.offset,tt,gt);return a(P,"value",D=>()=>D.call(P),D=>L=>{try{D.call(P,L)}catch(q){if(q.code!==9)throw q}O(),C&&W(L)}),P.cancelAndHoldAtTime=(D=>C?()=>{throw r()}:(...L)=>{const q=D.apply(P,L);return O(),q})(P.cancelAndHoldAtTime),P.cancelScheduledValues=(D=>C?()=>{throw r()}:(...L)=>{const q=D.apply(P,L);return O(),q})(P.cancelScheduledValues),P.exponentialRampToValueAtTime=(D=>C?()=>{throw r()}:(...L)=>{const q=D.apply(P,L);return O(),q})(P.exponentialRampToValueAtTime),P.linearRampToValueAtTime=(D=>C?()=>{throw r()}:(...L)=>{const q=D.apply(P,L);return O(),q})(P.linearRampToValueAtTime),P.setTargetAtTime=(D=>C?()=>{throw r()}:(...L)=>{const q=D.apply(P,L);return O(),q})(P.setTargetAtTime),P.setValueAtTime=(D=>C?()=>{throw r()}:(...L)=>{const q=D.apply(P,L);return O(),q})(P.setValueAtTime),P.setValueCurveAtTime=(D=>C?()=>{throw r()}:(...L)=>{const q=D.apply(P,L);return O(),q})(P.setValueCurveAtTime),P};return{forwardX:b(0,0,I(0)),forwardY:b(1,0,I(1)),forwardZ:b(2,-1,I(2)),positionX:b(6,0,R(0)),positionY:b(7,0,R(1)),positionZ:b(8,0,R(2)),upX:b(3,0,I(3)),upY:b(4,1,I(4)),upZ:b(5,0,I(5))}},{forwardX:p,forwardY:v,forwardZ:g,positionX:_,positionY:x,positionZ:d,upX:m,upY:y,upZ:T}=u.forwardX===void 0?h():u;return{get forwardX(){return p},get forwardY(){return v},get forwardZ(){return g},get positionX(){return _},get positionY(){return x},get positionZ(){return d},get upX(){return m},get upY(){return y},get upZ(){return T}}},oa=t=>"context"in t,Ri=t=>oa(t[0]),Ps=(t,e,n,s)=>{for(const r of t)if(n(r)){if(s)return!1;throw Error("The set contains at least one similar element.")}return t.add(e),!0},$d=(t,e,[n,s],r)=>{Ps(t,[e,n,s],i=>i[0]===e&&i[1]===n,r)},Hd=(t,[e,n,s],r)=>{const i=t.get(e);i===void 0?t.set(e,new Set([[n,s]])):Ps(i,[n,s],o=>o[0]===n,r)},Er=t=>"inputs"in t,aa=(t,e,n,s)=>{if(Er(e)){const r=e.inputs[s];return t.connect(r,n,0),[r,n,0]}return t.connect(e,n,s),[e,n,s]},zm=(t,e,n)=>{for(const s of t)if(s[0]===e&&s[1]===n)return t.delete(s),s;return null},_w=(t,e,n)=>Da(t,s=>s[0]===e&&s[1]===n),Wm=(t,e)=>{if(!ji(t).delete(e))throw new Error("Missing the expected event listener.")},Bm=(t,e,n)=>{const s=Ut(t,e),r=Da(s,i=>i[0]===n);return s.size===0&&t.delete(e),r},la=(t,e,n,s)=>{Er(e)?t.disconnect(e.inputs[s],n,0):t.disconnect(e,n,s)},ce=t=>Ut(Du,t),xi=t=>Ut(bu,t),Ns=t=>Mc.has(t),Co=t=>!yr.has(t),Gd=(t,e)=>new Promise(n=>{if(e!==null)n(!0);else{const s=t.createScriptProcessor(256,1,1),r=t.createGain(),i=t.createBuffer(1,2,44100),o=i.getChannelData(0);o[0]=1,o[1]=1;const a=t.createBufferSource();a.buffer=i,a.loop=!0,a.connect(s).connect(t.destination),a.connect(r),a.disconnect(r),s.onaudioprocess=l=>{const c=l.inputBuffer.getChannelData(0);Array.prototype.some.call(c,u=>u===1)?n(!0):n(!1),a.stop(),s.onaudioprocess=null,a.disconnect(s),s.disconnect(t.destination)},a.start()}}),Ol=(t,e)=>{const n=new Map;for(const s of t)for(const r of s){const i=n.get(r);n.set(r,i===void 0?1:i+1)}n.forEach((s,r)=>e(r,s))},ca=t=>"context"in t,ww=t=>{const e=new Map;t.connect=(n=>(s,r=0,i=0)=>{const o=ca(s)?n(s,r,i):n(s,r),a=e.get(s);return a===void 0?e.set(s,[{input:i,output:r}]):a.every(l=>l.input!==i||l.output!==r)&&a.push({input:i,output:r}),o})(t.connect.bind(t)),t.disconnect=(n=>(s,r,i)=>{if(n.apply(t),s===void 0)e.clear();else if(typeof s=="number")for(const[o,a]of e){const l=a.filter(c=>c.output!==s);l.length===0?e.delete(o):e.set(o,l)}else if(e.has(s))if(r===void 0)e.delete(s);else{const o=e.get(s);if(o!==void 0){const a=o.filter(l=>l.output!==r&&(l.input!==i||i===void 0));a.length===0?e.delete(s):e.set(s,a)}}for(const[o,a]of e)a.forEach(l=>{ca(o)?t.connect(o,l.output,l.input):t.connect(o,l.output)})})(t.disconnect)},xw=(t,e,n,s)=>{const{activeInputs:r,passiveInputs:i}=Pi(e),{outputs:o}=st(t),a=ji(t),l=c=>{const u=ce(t),h=xi(e);if(c){const p=Bm(i,t,n);$d(r,t,p,!1),!s&&!Ns(t)&&u.connect(h,n)}else{const p=_w(r,t,n);Hd(i,p,!1),!s&&!Ns(t)&&u.disconnect(h,n)}};return Ps(o,[e,n],c=>c[0]===e&&c[1]===n,!0)?(a.add(l),gn(t)?$d(r,t,[n,l],!0):Hd(i,[t,n,l],!0),!0):!1},Sw=(t,e,n,s)=>{const{activeInputs:r,passiveInputs:i}=st(e),o=zm(r[s],t,n);return o===null?[bm(i,t,n,s)[2],!1]:[o[2],!0]},kw=(t,e,n)=>{const{activeInputs:s,passiveInputs:r}=Pi(e),i=zm(s,t,n);return i===null?[Bm(r,t,n)[1],!1]:[i[2],!0]},Vu=(t,e,n,s,r)=>{const[i,o]=Sw(t,n,s,r);if(i!==null&&(Wm(t,i),o&&!e&&!Ns(t)&&la(ce(t),ce(n),s,r)),gn(n)){const{activeInputs:a}=st(n);Dc(n,a)}},Lu=(t,e,n,s)=>{const[r,i]=kw(t,n,s);r!==null&&(Wm(t,r),i&&!e&&!Ns(t)&&ce(t).disconnect(xi(n),s))},Tw=(t,e)=>{const n=st(t),s=[];for(const r of n.outputs)Ri(r)?Vu(t,e,...r):Lu(t,e,...r),s.push(r[0]);return n.outputs.clear(),s},Cw=(t,e,n)=>{const s=st(t),r=[];for(const i of s.outputs)i[1]===n&&(Ri(i)?Vu(t,e,...i):Lu(t,e,...i),r.push(i[0]),s.outputs.delete(i));return r},Nw=(t,e,n,s,r)=>{const i=st(t);return Array.from(i.outputs).filter(o=>o[0]===n&&(s===void 0||o[1]===s)&&(r===void 0||o[2]===r)).map(o=>(Ri(o)?Vu(t,e,...o):Lu(t,e,...o),i.outputs.delete(o),o[0]))},Ew=(t,e,n,s,r,i,o,a,l,c,u,h,p,v,g,_)=>class extends c{constructor(d,m,y,T){super(y),this._context=d,this._nativeAudioNode=y;const w=u(d);h(w)&&n(Gd,()=>Gd(w,_))!==!0&&ww(y),Du.set(this,y),Rm.set(this,new Set),d.state!=="closed"&&m&&_r(this),t(this,T,y)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(d){this._nativeAudioNode.channelCount=d}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(d){this._nativeAudioNode.channelCountMode=d}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(d){this._nativeAudioNode.channelInterpretation=d}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(d,m=0,y=0){if(m<0||m>=this._nativeAudioNode.numberOfOutputs)throw r();const T=u(this._context),w=g(T);if(p(d)||v(d))throw i();if(oa(d)){const k=ce(d);try{const N=aa(this._nativeAudioNode,k,m,y),O=Co(this);(w||O)&&this._nativeAudioNode.disconnect(...N),this.context.state!=="closed"&&!O&&Co(d)&&_r(d)}catch(N){throw N.code===12?i():N}if(e(this,d,m,y,w)){const N=l([this],d);Ol(N,s(w))}return d}const S=xi(d);if(S.name==="playbackRate"&&S.maxValue===1024)throw o();try{this._nativeAudioNode.connect(S,m),(w||Co(this))&&this._nativeAudioNode.disconnect(S,m)}catch(k){throw k.code===12?i():k}if(xw(this,d,m,w)){const k=l([this],d);Ol(k,s(w))}}disconnect(d,m,y){let T;const w=u(this._context),S=g(w);if(d===void 0)T=Tw(this,S);else if(typeof d=="number"){if(d<0||d>=this.numberOfOutputs)throw r();T=Cw(this,S,d)}else{if(m!==void 0&&(m<0||m>=this.numberOfOutputs)||oa(d)&&y!==void 0&&(y<0||y>=d.numberOfInputs))throw r();if(T=Nw(this,S,d,m,y),T.length===0)throw i()}for(const C of T){const k=l([this],C);Ol(k,a)}}},Aw=(t,e,n,s,r,i,o,a,l,c,u,h,p)=>(v,g,_,x=null,d=null)=>{const m=_.value,y=new V0(m),T=g?s(y):null,w={get defaultValue(){return m},get maxValue(){return x===null?_.maxValue:x},get minValue(){return d===null?_.minValue:d},get value(){return _.value},set value(S){_.value=S,w.setValueAtTime(S,v.context.currentTime)},cancelAndHoldAtTime(S){if(typeof _.cancelAndHoldAtTime=="function")T===null&&y.flush(v.context.currentTime),y.add(r(S)),_.cancelAndHoldAtTime(S);else{const C=Array.from(y).pop();T===null&&y.flush(v.context.currentTime),y.add(r(S));const k=Array.from(y).pop();_.cancelScheduledValues(S),C!==k&&k!==void 0&&(k.type==="exponentialRampToValue"?_.exponentialRampToValueAtTime(k.value,k.endTime):k.type==="linearRampToValue"?_.linearRampToValueAtTime(k.value,k.endTime):k.type==="setValue"?_.setValueAtTime(k.value,k.startTime):k.type==="setValueCurve"&&_.setValueCurveAtTime(k.values,k.startTime,k.duration))}return w},cancelScheduledValues(S){return T===null&&y.flush(v.context.currentTime),y.add(i(S)),_.cancelScheduledValues(S),w},exponentialRampToValueAtTime(S,C){if(S===0)throw new RangeError;if(!Number.isFinite(C)||C<0)throw new RangeError;const k=v.context.currentTime;return T===null&&y.flush(k),Array.from(y).length===0&&(y.add(c(m,k)),_.setValueAtTime(m,k)),y.add(o(S,C)),_.exponentialRampToValueAtTime(S,C),w},linearRampToValueAtTime(S,C){const k=v.context.currentTime;return T===null&&y.flush(k),Array.from(y).length===0&&(y.add(c(m,k)),_.setValueAtTime(m,k)),y.add(a(S,C)),_.linearRampToValueAtTime(S,C),w},setTargetAtTime(S,C,k){return T===null&&y.flush(v.context.currentTime),y.add(l(S,C,k)),_.setTargetAtTime(S,C,k),w},setValueAtTime(S,C){return T===null&&y.flush(v.context.currentTime),y.add(c(S,C)),_.setValueAtTime(S,C),w},setValueCurveAtTime(S,C,k){const E=S instanceof Float32Array?S:new Float32Array(S);if(h!==null&&h.name==="webkitAudioContext"){const N=C+k,O=v.context.sampleRate,I=Math.ceil(C*O),R=Math.floor(N*O),b=R-I,B=new Float32Array(b);for(let W=0;W<b;W+=1){const j=(E.length-1)/k*((I+W)/O-C),P=Math.floor(j),D=Math.ceil(j);B[W]=P===D?E[P]:(1-(j-P))*E[P]+(1-(D-j))*E[D]}T===null&&y.flush(v.context.currentTime),y.add(u(B,C,k)),_.setValueCurveAtTime(B,C,k);const F=R/O;F<N&&p(w,B[B.length-1],F),p(w,E[E.length-1],N)}else T===null&&y.flush(v.context.currentTime),y.add(u(E,C,k)),_.setValueCurveAtTime(E,C,k);return w}};return n.set(w,_),e.set(w,v),t(w,T),w},Ow=t=>({replay(e){for(const n of t)if(n.type==="exponentialRampToValue"){const{endTime:s,value:r}=n;e.exponentialRampToValueAtTime(r,s)}else if(n.type==="linearRampToValue"){const{endTime:s,value:r}=n;e.linearRampToValueAtTime(r,s)}else if(n.type==="setTarget"){const{startTime:s,target:r,timeConstant:i}=n;e.setTargetAtTime(r,s,i)}else if(n.type==="setValue"){const{startTime:s,value:r}=n;e.setValueAtTime(r,s)}else if(n.type==="setValueCurve"){const{duration:s,startTime:r,values:i}=n;e.setValueCurveAtTime(i,r,s)}else throw new Error("Can't apply an unknown automation.")}});class Um{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,n=null){return this._map.forEach((s,r)=>e.call(n,s,r,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const Iw={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},jw=(t,e,n,s,r,i,o,a,l,c,u,h,p,v)=>class extends e{constructor(_,x,d){var m;const y=a(_),T=l(y),w=u({...Iw,...d});p(w);const S=Pc.get(y),C=S==null?void 0:S.get(x),k=T||y.state!=="closed"?y:(m=o(y))!==null&&m!==void 0?m:y,E=r(k,T?null:_.baseLatency,c,x,C,w),N=T?s(x,w,C):null;super(_,!0,E,N);const O=[];E.parameters.forEach((R,b)=>{const B=n(this,T,R);O.push([b,B])}),this._nativeAudioWorkletNode=E,this._onprocessorerror=null,this._parameters=new Um(O),T&&t(y,this);const{activeInputs:I}=i(this);h(E,I)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(_){const x=typeof _=="function"?v(this,_):null;this._nativeAudioWorkletNode.onprocessorerror=x;const d=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=d!==null&&d===x?_:d}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function ua(t,e,n,s,r){if(typeof t.copyFromChannel=="function")e[n].byteLength===0&&(e[n]=new Float32Array(128)),t.copyFromChannel(e[n],s,r);else{const i=t.getChannelData(s);if(e[n].byteLength===0)e[n]=i.slice(r,r+128);else{const o=new Float32Array(i.buffer,r*Float32Array.BYTES_PER_ELEMENT,128);e[n].set(o)}}}const qm=(t,e,n,s,r)=>{typeof t.copyToChannel=="function"?e[n].byteLength!==0&&t.copyToChannel(e[n],s,r):e[n].byteLength!==0&&t.getChannelData(s).set(e[n],r)},ha=(t,e)=>{const n=[];for(let s=0;s<t;s+=1){const r=[],i=typeof e=="number"?e:e[s];for(let o=0;o<i;o+=1)r.push(new Float32Array(128));n.push(r)}return n},Mw=(t,e)=>{const n=Ut(Rc,t),s=ce(e);return Ut(n,s)},Pw=async(t,e,n,s,r,i,o)=>{const a=e===null?Math.ceil(t.context.length/128)*128:e.length,l=s.channelCount*s.numberOfInputs,c=r.reduce((x,d)=>x+d,0),u=c===0?null:n.createBuffer(c,a,n.sampleRate);if(i===void 0)throw new Error("Missing the processor constructor.");const h=st(t),p=await Mw(n,t),v=ha(s.numberOfInputs,s.channelCount),g=ha(s.numberOfOutputs,r),_=Array.from(t.parameters.keys()).reduce((x,d)=>({...x,[d]:new Float32Array(128)}),{});for(let x=0;x<a;x+=128){if(s.numberOfInputs>0&&e!==null)for(let d=0;d<s.numberOfInputs;d+=1)for(let m=0;m<s.channelCount;m+=1)ua(e,v[d],m,m,x);i.parameterDescriptors!==void 0&&e!==null&&i.parameterDescriptors.forEach(({name:d},m)=>{ua(e,_,d,l+m,x)});for(let d=0;d<s.numberOfInputs;d+=1)for(let m=0;m<r[d];m+=1)g[d][m].byteLength===0&&(g[d][m]=new Float32Array(128));try{const d=v.map((y,T)=>h.activeInputs[T].size===0?[]:y),m=o(x/n.sampleRate,n.sampleRate,()=>p.process(d,g,_));if(u!==null)for(let y=0,T=0;y<s.numberOfOutputs;y+=1){for(let w=0;w<r[y];w+=1)qm(u,g[y],w,T+w,x);T+=r[y]}if(!m)break}catch(d){t.dispatchEvent(new ErrorEvent("processorerror",{colno:d.colno,filename:d.filename,lineno:d.lineno,message:d.message}));break}}return u},Rw=(t,e,n,s,r,i,o,a,l,c,u,h,p,v,g,_)=>(x,d,m)=>{const y=new WeakMap;let T=null;const w=async(S,C)=>{let k=u(S),E=null;const N=Je(k,C),O=Array.isArray(d.outputChannelCount)?d.outputChannelCount:Array.from(d.outputChannelCount);if(h===null){const I=O.reduce((F,W)=>F+W,0),R=r(C,{channelCount:Math.max(1,I),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,I)}),b=[];for(let F=0;F<S.numberOfOutputs;F+=1)b.push(s(C,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:O[F]}));const B=o(C,{channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,gain:1});B.connect=e.bind(null,b),B.disconnect=l.bind(null,b),E=[R,b,B]}else N||(k=new h(C,x));if(y.set(C,E===null?k:E[2]),E!==null){if(T===null){if(m===void 0)throw new Error("Missing the processor constructor.");if(p===null)throw new Error("Missing the native OfflineAudioContext constructor.");const W=S.channelCount*S.numberOfInputs,j=m.parameterDescriptors===void 0?0:m.parameterDescriptors.length,P=W+j;T=Pw(S,P===0?null:await(async()=>{const L=new p(P,Math.ceil(S.context.length/128)*128,C.sampleRate),q=[],be=[];for(let J=0;J<d.numberOfInputs;J+=1)q.push(o(L,{channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,gain:1})),be.push(r(L,{channelCount:d.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:d.channelCount}));const ke=await Promise.all(Array.from(S.parameters.values()).map(async J=>{const Ne=i(L,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:J.value});return await v(L,J,Ne.offset),Ne})),Q=s(L,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,W+j)});for(let J=0;J<d.numberOfInputs;J+=1){q[J].connect(be[J]);for(let Ne=0;Ne<d.channelCount;Ne+=1)be[J].connect(Q,Ne,J*d.channelCount+Ne)}for(const[J,Ne]of ke.entries())Ne.connect(Q,0,W+J),Ne.start(0);return Q.connect(L.destination),await Promise.all(q.map(J=>g(S,L,J))),_(L)})(),C,d,O,m,c)}const I=await T,R=n(C,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[b,B,F]=E;I!==null&&(R.buffer=I,R.start(0)),R.connect(b);for(let W=0,j=0;W<S.numberOfOutputs;W+=1){const P=B[W];for(let D=0;D<O[W];D+=1)b.connect(P,j+D,D);j+=O[W]}return F}if(N)for(const[I,R]of S.parameters.entries())await t(C,R,k.parameters.get(I));else for(const[I,R]of S.parameters.entries())await v(C,R,k.parameters.get(I));return await g(S,C,k),k};return{render(S,C){a(C,S);const k=y.get(C);return k!==void 0?Promise.resolve(k):w(S,C)}}},Dw=(t,e,n,s,r,i,o,a,l,c,u,h,p,v,g,_,x,d,m,y)=>class extends g{constructor(w,S){super(w,S),this._nativeContext=w,this._audioWorklet=t===void 0?void 0:{addModule:(C,k)=>t(this,C,k)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new r(this)}createBuffer(w,S,C){return new n({length:S,numberOfChannels:w,sampleRate:C})}createBufferSource(){return new s(this)}createChannelMerger(w=6){return new i(this,{numberOfInputs:w})}createChannelSplitter(w=6){return new o(this,{numberOfOutputs:w})}createConstantSource(){return new a(this)}createConvolver(){return new l(this)}createDelay(w=1){return new u(this,{maxDelayTime:w})}createDynamicsCompressor(){return new h(this)}createGain(){return new p(this)}createIIRFilter(w,S){return new v(this,{feedback:S,feedforward:w})}createOscillator(){return new _(this)}createPanner(){return new x(this)}createPeriodicWave(w,S,C={disableNormalization:!1}){return new d(this,{...C,imag:S,real:w})}createStereoPanner(){return new m(this)}createWaveShaper(){return new y(this)}decodeAudioData(w,S,C){return c(this._nativeContext,w).then(k=>(typeof S=="function"&&S(k),k),k=>{throw typeof C=="function"&&C(k),k})}},bw={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},Fw=(t,e,n,s,r,i,o,a)=>class extends t{constructor(c,u){const h=i(c),p={...bw,...u},v=r(h,p),g=o(h),_=g?n():null;super(c,!1,v,_),this._Q=e(this,g,v.Q,tt,gt),this._detune=e(this,g,v.detune,1200*Math.log2(tt),-1200*Math.log2(tt)),this._frequency=e(this,g,v.frequency,c.sampleRate/2,0),this._gain=e(this,g,v.gain,40*Math.log10(tt),gt),this._nativeBiquadFilterNode=v,a(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(c){this._nativeBiquadFilterNode.type=c}getFrequencyResponse(c,u,h){try{this._nativeBiquadFilterNode.getFrequencyResponse(c,u,h)}catch(p){throw p.code===11?s():p}if(c.length!==u.length||u.length!==h.length)throw s()}},Vw=(t,e,n,s,r)=>()=>{const i=new WeakMap,o=async(a,l)=>{let c=n(a);const u=Je(c,l);if(!u){const h={Q:c.Q.value,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,detune:c.detune.value,frequency:c.frequency.value,gain:c.gain.value,type:c.type};c=e(l,h)}return i.set(l,c),u?(await t(l,a.Q,c.Q),await t(l,a.detune,c.detune),await t(l,a.frequency,c.frequency),await t(l,a.gain,c.gain)):(await s(l,a.Q,c.Q),await s(l,a.detune,c.detune),await s(l,a.frequency,c.frequency),await s(l,a.gain,c.gain)),await r(a,l,c),c};return{render(a,l){const c=i.get(l);return c!==void 0?Promise.resolve(c):o(a,l)}}},Lw=(t,e)=>(n,s)=>{const r=e.get(n);if(r!==void 0)return r;const i=t.get(n);if(i!==void 0)return i;try{const o=s();return o instanceof Promise?(t.set(n,o),o.catch(()=>!1).then(a=>(t.delete(n),e.set(n,a),a))):(e.set(n,o),o)}catch{return e.set(n,!1),!1}},zw={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},Ww=(t,e,n,s,r)=>class extends t{constructor(o,a){const l=s(o),c={...zw,...a},u=n(l,c),h=r(l)?e():null;super(o,!1,u,h)}},Bw=(t,e,n)=>()=>{const s=new WeakMap,r=async(i,o)=>{let a=e(i);if(!Je(a,o)){const c={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfInputs:a.numberOfInputs};a=t(o,c)}return s.set(o,a),await n(i,o,a),a};return{render(i,o){const a=s.get(o);return a!==void 0?Promise.resolve(a):r(i,o)}}},Uw={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},qw=(t,e,n,s,r,i)=>class extends t{constructor(a,l){const c=s(a),u=i({...Uw,...l}),h=n(c,u),p=r(c)?e():null;super(a,!1,h,p)}},$w=(t,e,n)=>()=>{const s=new WeakMap,r=async(i,o)=>{let a=e(i);if(!Je(a,o)){const c={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfOutputs:a.numberOfOutputs};a=t(o,c)}return s.set(o,a),await n(i,o,a),a};return{render(i,o){const a=s.get(o);return a!==void 0?Promise.resolve(a):r(i,o)}}},Hw=t=>(e,n,s)=>t(n,e,s),Gw=t=>(e,n,s=0,r=0)=>{const i=e[s];if(i===void 0)throw t();return ca(n)?i.connect(n,0,r):i.connect(n,0)},Qw=t=>(e,n)=>{const s=t(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),r=e.createBuffer(1,2,44100);return s.buffer=r,s.loop=!0,s.connect(n),s.start(),()=>{s.stop(),s.disconnect(n)}},Yw={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},Xw=(t,e,n,s,r,i,o)=>class extends t{constructor(l,c){const u=r(l),h={...Yw,...c},p=s(u,h),v=i(u),g=v?n():null;super(l,!1,p,g),this._constantSourceNodeRenderer=g,this._nativeConstantSourceNode=p,this._offset=e(this,v,p.offset,tt,gt),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(l){const c=typeof l=="function"?o(this,l):null;this._nativeConstantSourceNode.onended=c;const u=this._nativeConstantSourceNode.onended;this._onended=u!==null&&u===c?l:u}start(l=0){if(this._nativeConstantSourceNode.start(l),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=l),this.context.state!=="closed"){_r(this);const c=()=>{this._nativeConstantSourceNode.removeEventListener("ended",c),gn(this)&&Mi(this)};this._nativeConstantSourceNode.addEventListener("ended",c)}}stop(l=0){this._nativeConstantSourceNode.stop(l),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=l)}},Kw=(t,e,n,s,r)=>()=>{const i=new WeakMap;let o=null,a=null;const l=async(c,u)=>{let h=n(c);const p=Je(h,u);if(!p){const v={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,offset:h.offset.value};h=e(u,v),o!==null&&h.start(o),a!==null&&h.stop(a)}return i.set(u,h),p?await t(u,c.offset,h.offset):await s(u,c.offset,h.offset),await r(c,u,h),h};return{set start(c){o=c},set stop(c){a=c},render(c,u){const h=i.get(u);return h!==void 0?Promise.resolve(h):l(c,u)}}},Zw=t=>e=>(t[0]=e,t[0]),Jw={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},e1=(t,e,n,s,r,i)=>class extends t{constructor(a,l){const c=s(a),u={...Jw,...l},h=n(c,u),v=r(c)?e():null;super(a,!1,h,v),this._isBufferNullified=!1,this._nativeConvolverNode=h,u.buffer!==null&&i(this,u.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(a){if(this._nativeConvolverNode.buffer=a,a===null&&this._nativeConvolverNode.buffer!==null){const l=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=l.createBuffer(1,1,l.sampleRate),this._isBufferNullified=!0,i(this,0)}else this._isBufferNullified=!1,i(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(a){this._nativeConvolverNode.normalize=a}},t1=(t,e,n)=>()=>{const s=new WeakMap,r=async(i,o)=>{let a=e(i);if(!Je(a,o)){const c={buffer:a.buffer,channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,disableNormalization:!a.normalize};a=t(o,c)}return s.set(o,a),Er(a)?await n(i,o,a.inputs[0]):await n(i,o,a),a};return{render(i,o){const a=s.get(o);return a!==void 0?Promise.resolve(a):r(i,o)}}},n1=(t,e)=>(n,s,r)=>{if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(n,s,r)}catch(i){throw i.name==="SyntaxError"?t():i}},s1=()=>new DOMException("","DataCloneError"),Qd=t=>{const{port1:e,port2:n}=new MessageChannel;return new Promise(s=>{const r=()=>{n.onmessage=null,e.close(),n.close(),s()};n.onmessage=()=>r();try{e.postMessage(t,[t])}catch{}finally{r()}})},r1=(t,e,n,s,r,i,o,a,l,c,u)=>(h,p)=>{const v=o(h)?h:i(h);if(r.has(p)){const g=n();return Promise.reject(g)}try{r.add(p)}catch{}return e(l,()=>l(v))?v.decodeAudioData(p).then(g=>(Qd(p).catch(()=>{}),e(a,()=>a(g))||u(g),t.add(g),g)):new Promise((g,_)=>{const x=async()=>{try{await Qd(p)}catch{}},d=m=>{_(m),x()};try{v.decodeAudioData(p,m=>{typeof m.copyFromChannel!="function"&&(c(m),Fu(m)),t.add(m),x().then(()=>g(m))},m=>{d(m===null?s():m)})}catch(m){d(m)}})},i1=(t,e,n,s,r,i,o,a)=>(l,c)=>{const u=e.get(l);if(u===void 0)throw new Error("Missing the expected cycle count.");const h=i(l.context),p=a(h);if(u===c){if(e.delete(l),!p&&o(l)){const v=s(l),{outputs:g}=n(l);for(const _ of g)if(Ri(_)){const x=s(_[0]);t(v,x,_[1],_[2])}else{const x=r(_[0]);v.connect(x,_[1])}}}else e.set(l,u-c)},o1={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},a1=(t,e,n,s,r,i,o)=>class extends t{constructor(l,c){const u=r(l),h={...o1,...c},p=s(u,h),v=i(u),g=v?n(h.maxDelayTime):null;super(l,!1,p,g),this._delayTime=e(this,v,p.delayTime),o(this,h.maxDelayTime)}get delayTime(){return this._delayTime}},l1=(t,e,n,s,r)=>i=>{const o=new WeakMap,a=async(l,c)=>{let u=n(l);const h=Je(u,c);if(!h){const p={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,delayTime:u.delayTime.value,maxDelayTime:i};u=e(c,p)}return o.set(c,u),h?await t(c,l.delayTime,u.delayTime):await s(c,l.delayTime,u.delayTime),await r(l,c,u),u};return{render(l,c){const u=o.get(c);return u!==void 0?Promise.resolve(u):a(l,c)}}},c1=t=>(e,n,s,r)=>t(e[r],i=>i[0]===n&&i[1]===s),u1=t=>(e,n)=>{t(e).delete(n)},h1=t=>"delayTime"in t,d1=(t,e,n)=>function s(r,i){const o=oa(i)?i:n(t,i);if(h1(o))return[];if(r[0]===o)return[r];if(r.includes(o))return[];const{outputs:a}=e(o);return Array.from(a).map(l=>s([...r,o],l[0])).reduce((l,c)=>l.concat(c),[])},co=(t,e,n)=>{const s=e[n];if(s===void 0)throw t();return s},f1=t=>(e,n=void 0,s=void 0,r=0)=>n===void 0?e.forEach(i=>i.disconnect()):typeof n=="number"?co(t,e,n).disconnect():ca(n)?s===void 0?e.forEach(i=>i.disconnect(n)):r===void 0?co(t,e,s).disconnect(n,0):co(t,e,s).disconnect(n,0,r):s===void 0?e.forEach(i=>i.disconnect(n)):co(t,e,s).disconnect(n,0),p1={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},m1=(t,e,n,s,r,i,o,a)=>class extends t{constructor(c,u){const h=i(c),p={...p1,...u},v=s(h,p),g=o(h),_=g?n():null;super(c,!1,v,_),this._attack=e(this,g,v.attack),this._knee=e(this,g,v.knee),this._nativeDynamicsCompressorNode=v,this._ratio=e(this,g,v.ratio),this._release=e(this,g,v.release),this._threshold=e(this,g,v.threshold),a(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(c){const u=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=c,c>2)throw this._nativeDynamicsCompressorNode.channelCount=u,r()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(c){const u=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=c,c==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=u,r()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},g1=(t,e,n,s,r)=>()=>{const i=new WeakMap,o=async(a,l)=>{let c=n(a);const u=Je(c,l);if(!u){const h={attack:c.attack.value,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,knee:c.knee.value,ratio:c.ratio.value,release:c.release.value,threshold:c.threshold.value};c=e(l,h)}return i.set(l,c),u?(await t(l,a.attack,c.attack),await t(l,a.knee,c.knee),await t(l,a.ratio,c.ratio),await t(l,a.release,c.release),await t(l,a.threshold,c.threshold)):(await s(l,a.attack,c.attack),await s(l,a.knee,c.knee),await s(l,a.ratio,c.ratio),await s(l,a.release,c.release),await s(l,a.threshold,c.threshold)),await r(a,l,c),c};return{render(a,l){const c=i.get(l);return c!==void 0?Promise.resolve(c):o(a,l)}}},v1=()=>new DOMException("","EncodingError"),y1=t=>e=>new Promise((n,s)=>{if(t===null){s(new SyntaxError);return}const r=t.document.head;if(r===null)s(new SyntaxError);else{const i=t.document.createElement("script"),o=new Blob([e],{type:"application/javascript"}),a=URL.createObjectURL(o),l=t.onerror,c=()=>{t.onerror=l,URL.revokeObjectURL(a)};t.onerror=(u,h,p,v,g)=>{if(h===a||h===t.location.href&&p===1&&v===1)return c(),s(g),!1;if(l!==null)return l(u,h,p,v,g)},i.onerror=()=>{c(),s(new SyntaxError)},i.onload=()=>{c(),n()},i.src=a,i.type="module",r.appendChild(i)}}),_1=t=>class{constructor(n){this._nativeEventTarget=n,this._listeners=new WeakMap}addEventListener(n,s,r){if(s!==null){let i=this._listeners.get(s);i===void 0&&(i=t(this,s),typeof s=="function"&&this._listeners.set(s,i)),this._nativeEventTarget.addEventListener(n,i,r)}}dispatchEvent(n){return this._nativeEventTarget.dispatchEvent(n)}removeEventListener(n,s,r){const i=s===null?void 0:this._listeners.get(s);this._nativeEventTarget.removeEventListener(n,i===void 0?null:i,r)}},w1=t=>(e,n,s)=>{Object.defineProperties(t,{currentFrame:{configurable:!0,get(){return Math.round(e*n)}},currentTime:{configurable:!0,get(){return e}}});try{return s()}finally{t!==null&&(delete t.currentFrame,delete t.currentTime)}},x1=t=>async e=>{try{const n=await fetch(e);if(n.ok)return[await n.text(),n.url]}catch{}throw t()},S1={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},k1=(t,e,n,s,r,i)=>class extends t{constructor(a,l){const c=r(a),u={...S1,...l},h=s(c,u),p=i(c),v=p?n():null;super(a,!1,h,v),this._gain=e(this,p,h.gain,tt,gt)}get gain(){return this._gain}},T1=(t,e,n,s,r)=>()=>{const i=new WeakMap,o=async(a,l)=>{let c=n(a);const u=Je(c,l);if(!u){const h={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,gain:c.gain.value};c=e(l,h)}return i.set(l,c),u?await t(l,a.gain,c.gain):await s(l,a.gain,c.gain),await r(a,l,c),c};return{render(a,l){const c=i.get(l);return c!==void 0?Promise.resolve(c):o(a,l)}}},C1=(t,e)=>n=>e(t,n),N1=t=>e=>{const n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer},E1=t=>e=>{var n;return(n=t.get(e))!==null&&n!==void 0?n:0},A1=t=>e=>{const n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer},O1=t=>e=>t.get(e),Le=()=>new DOMException("","InvalidStateError"),I1=t=>e=>{const n=t.get(e);if(n===void 0)throw Le();return n},j1=(t,e)=>n=>{let s=t.get(n);if(s!==void 0)return s;if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");return s=new e(1,1,44100),t.set(n,s),s},M1=t=>e=>{const n=t.get(e);if(n===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return n},ba=()=>new DOMException("","InvalidAccessError"),P1=t=>{t.getFrequencyResponse=(e=>(n,s,r)=>{if(n.length!==s.length||s.length!==r.length)throw ba();return e.call(t,n,s,r)})(t.getFrequencyResponse)},R1={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},D1=(t,e,n,s,r,i)=>class extends t{constructor(a,l){const c=s(a),u=r(c),h={...R1,...l},p=e(c,u?null:a.baseLatency,h),v=u?n(h.feedback,h.feedforward):null;super(a,!1,p,v),P1(p),this._nativeIIRFilterNode=p,i(this,1)}getFrequencyResponse(a,l,c){return this._nativeIIRFilterNode.getFrequencyResponse(a,l,c)}},$m=(t,e,n,s,r,i,o,a,l,c,u)=>{const h=c.length;let p=a;for(let v=0;v<h;v+=1){let g=n[0]*c[v];for(let _=1;_<r;_+=1){const x=p-_&l-1;g+=n[_]*i[x],g-=t[_]*o[x]}for(let _=r;_<s;_+=1)g+=n[_]*i[p-_&l-1];for(let _=r;_<e;_+=1)g-=t[_]*o[p-_&l-1];i[p]=c[v],o[p]=g,p=p+1&l-1,u[v]=g}return p},b1=(t,e,n,s)=>{const r=n instanceof Float64Array?n:new Float64Array(n),i=s instanceof Float64Array?s:new Float64Array(s),o=r.length,a=i.length,l=Math.min(o,a);if(r[0]!==1){for(let g=0;g<o;g+=1)i[g]/=r[0];for(let g=1;g<a;g+=1)r[g]/=r[0]}const c=32,u=new Float32Array(c),h=new Float32Array(c),p=e.createBuffer(t.numberOfChannels,t.length,t.sampleRate),v=t.numberOfChannels;for(let g=0;g<v;g+=1){const _=t.getChannelData(g),x=p.getChannelData(g);u.fill(0),h.fill(0),$m(r,o,i,a,l,u,h,0,c,_,x)}return p},F1=(t,e,n,s,r)=>(i,o)=>{const a=new WeakMap;let l=null;const c=async(u,h)=>{let p=null,v=e(u);const g=Je(v,h);if(h.createIIRFilter===void 0?p=t(h,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):g||(v=h.createIIRFilter(o,i)),a.set(h,p===null?v:p),p!==null){if(l===null){if(n===null)throw new Error("Missing the native OfflineAudioContext constructor.");const x=new n(u.context.destination.channelCount,u.context.length,h.sampleRate);l=(async()=>{await s(u,x,x.destination);const d=await r(x);return b1(d,h,i,o)})()}const _=await l;return p.buffer=_,p.start(0),p}return await s(u,h,v),v};return{render(u,h){const p=a.get(h);return p!==void 0?Promise.resolve(p):c(u,h)}}},V1=(t,e,n,s,r,i)=>o=>(a,l)=>{const c=t.get(a);if(c===void 0){if(!o&&i(a)){const u=s(a),{outputs:h}=n(a);for(const p of h)if(Ri(p)){const v=s(p[0]);e(u,v,p[1],p[2])}else{const v=r(p[0]);u.disconnect(v,p[1])}}t.set(a,l)}else t.set(a,c+l)},L1=(t,e)=>n=>{const s=t.get(n);return e(s)||e(n)},z1=(t,e)=>n=>t.has(n)||e(n),W1=(t,e)=>n=>t.has(n)||e(n),B1=(t,e)=>n=>{const s=t.get(n);return e(s)||e(n)},U1=t=>e=>t!==null&&e instanceof t,q1=t=>e=>t!==null&&typeof t.AudioNode=="function"&&e instanceof t.AudioNode,$1=t=>e=>t!==null&&typeof t.AudioParam=="function"&&e instanceof t.AudioParam,H1=(t,e)=>n=>t(n)||e(n),G1=t=>e=>t!==null&&e instanceof t,Q1=t=>t!==null&&t.isSecureContext,Y1=(t,e,n,s)=>class extends t{constructor(i,o){const a=n(i),l=e(a,o);if(s(a))throw TypeError();super(i,!0,l,null),this._nativeMediaElementAudioSourceNode=l}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},X1={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},K1=(t,e,n,s)=>class extends t{constructor(i,o){const a=n(i);if(s(a))throw new TypeError;const l={...X1,...o},c=e(a,l);super(i,!1,c,null),this._nativeMediaStreamAudioDestinationNode=c}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},Z1=(t,e,n,s)=>class extends t{constructor(i,o){const a=n(i),l=e(a,o);if(s(a))throw new TypeError;super(i,!0,l,null),this._nativeMediaStreamAudioSourceNode=l}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},J1=(t,e,n)=>class extends t{constructor(r,i){const o=n(r),a=e(o,i);super(r,!0,a,null)}},ex=(t,e,n,s,r,i)=>class extends n{constructor(a,l){super(a),this._nativeContext=a,Ra.set(this,a),s(a)&&r.set(a,new Set),this._destination=new t(this,l),this._listener=e(this,a),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(a){const l=typeof a=="function"?i(this,a):null;this._nativeContext.onstatechange=l;const c=this._nativeContext.onstatechange;this._onstatechange=c!==null&&c===l?a:c}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},Si=t=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=t.decodeAudioData(e.buffer,()=>{});return n===void 0?!1:(n.catch(()=>{}),!0)}catch{}return!1},tx=(t,e)=>(n,s,r)=>{const i=new Set;return n.connect=(o=>(a,l=0,c=0)=>{const u=i.size===0;if(e(a))return o.call(n,a,l,c),t(i,[a,l,c],h=>h[0]===a&&h[1]===l&&h[2]===c,!0),u&&s(),a;o.call(n,a,l),t(i,[a,l],h=>h[0]===a&&h[1]===l,!0),u&&s()})(n.connect),n.disconnect=(o=>(a,l,c)=>{const u=i.size>0;if(a===void 0)o.apply(n),i.clear();else if(typeof a=="number"){o.call(n,a);for(const p of i)p[1]===a&&i.delete(p)}else{e(a)?o.call(n,a,l,c):o.call(n,a,l);for(const p of i)p[0]===a&&(l===void 0||p[1]===l)&&(c===void 0||p[2]===c)&&i.delete(p)}const h=i.size===0;u&&h&&r()})(n.disconnect),n},ue=(t,e,n)=>{const s=e[n];s!==void 0&&s!==t[n]&&(t[n]=s)},De=(t,e)=>{ue(t,e,"channelCount"),ue(t,e,"channelCountMode"),ue(t,e,"channelInterpretation")},Yd=t=>typeof t.getFloatTimeDomainData=="function",nx=t=>{t.getFloatTimeDomainData=e=>{const n=new Uint8Array(e.length);t.getByteTimeDomainData(n);const s=Math.max(n.length,t.fftSize);for(let r=0;r<s;r+=1)e[r]=(n[r]-128)*.0078125;return e}},sx=(t,e)=>(n,s)=>{const r=n.createAnalyser();if(De(r,s),!(s.maxDecibels>s.minDecibels))throw e();return ue(r,s,"fftSize"),ue(r,s,"maxDecibels"),ue(r,s,"minDecibels"),ue(r,s,"smoothingTimeConstant"),t(Yd,()=>Yd(r))||nx(r),r},rx=t=>t===null?null:t.hasOwnProperty("AudioBuffer")?t.AudioBuffer:null,xe=(t,e,n)=>{const s=e[n];s!==void 0&&s!==t[n].value&&(t[n].value=s)},ix=t=>{t.start=(e=>{let n=!1;return(s=0,r=0,i)=>{if(n)throw Le();e.call(t,s,r,i),n=!0}})(t.start)},zu=t=>{t.start=(e=>(n=0,s=0,r)=>{if(typeof r=="number"&&r<0||s<0||n<0)throw new RangeError("The parameters can't be negative.");e.call(t,n,s,r)})(t.start)},Wu=t=>{t.stop=(e=>(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");e.call(t,n)})(t.stop)},ox=(t,e,n,s,r,i,o,a,l,c,u)=>(h,p)=>{const v=h.createBufferSource();return De(v,p),xe(v,p,"playbackRate"),ue(v,p,"buffer"),ue(v,p,"loop"),ue(v,p,"loopEnd"),ue(v,p,"loopStart"),e(n,()=>n(h))||ix(v),e(s,()=>s(h))||l(v),e(r,()=>r(h))||c(v,h),e(i,()=>i(h))||zu(v),e(o,()=>o(h))||u(v,h),e(a,()=>a(h))||Wu(v),t(h,v),v},ax=t=>t===null?null:t.hasOwnProperty("AudioContext")?t.AudioContext:t.hasOwnProperty("webkitAudioContext")?t.webkitAudioContext:null,lx=(t,e)=>(n,s,r)=>{const i=n.destination;if(i.channelCount!==s)try{i.channelCount=s}catch{}r&&i.channelCountMode!=="explicit"&&(i.channelCountMode="explicit"),i.maxChannelCount===0&&Object.defineProperty(i,"maxChannelCount",{value:s});const o=t(n,{channelCount:s,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,gain:1});return e(o,"channelCount",a=>()=>a.call(o),a=>l=>{a.call(o,l);try{i.channelCount=l}catch(c){if(l>i.maxChannelCount)throw c}}),e(o,"channelCountMode",a=>()=>a.call(o),a=>l=>{a.call(o,l),i.channelCountMode=l}),e(o,"channelInterpretation",a=>()=>a.call(o),a=>l=>{a.call(o,l),i.channelInterpretation=l}),Object.defineProperty(o,"maxChannelCount",{get:()=>i.maxChannelCount}),o.connect(i),o},cx=t=>t===null?null:t.hasOwnProperty("AudioWorkletNode")?t.AudioWorkletNode:null,ux=t=>{const{port1:e}=new MessageChannel;try{e.postMessage(t)}finally{e.close()}},hx=(t,e,n,s,r)=>(i,o,a,l,c,u)=>{if(a!==null)try{const h=new a(i,l,u),p=new Map;let v=null;if(Object.defineProperties(h,{channelCount:{get:()=>u.channelCount,set:()=>{throw t()}},channelCountMode:{get:()=>"explicit",set:()=>{throw t()}},onprocessorerror:{get:()=>v,set:g=>{typeof v=="function"&&h.removeEventListener("processorerror",v),v=typeof g=="function"?g:null,typeof v=="function"&&h.addEventListener("processorerror",v)}}}),h.addEventListener=(g=>(..._)=>{if(_[0]==="processorerror"){const x=typeof _[1]=="function"?_[1]:typeof _[1]=="object"&&_[1]!==null&&typeof _[1].handleEvent=="function"?_[1].handleEvent:null;if(x!==null){const d=p.get(_[1]);d!==void 0?_[1]=d:(_[1]=m=>{m.type==="error"?(Object.defineProperties(m,{type:{value:"processorerror"}}),x(m)):x(new ErrorEvent(_[0],{...m}))},p.set(x,_[1]))}}return g.call(h,"error",_[1],_[2]),g.call(h,..._)})(h.addEventListener),h.removeEventListener=(g=>(..._)=>{if(_[0]==="processorerror"){const x=p.get(_[1]);x!==void 0&&(p.delete(_[1]),_[1]=x)}return g.call(h,"error",_[1],_[2]),g.call(h,_[0],_[1],_[2])})(h.removeEventListener),u.numberOfOutputs!==0){const g=n(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return h.connect(g).connect(i.destination),r(h,()=>g.disconnect(),()=>g.connect(i.destination))}return h}catch(h){throw h.code===11?s():h}if(c===void 0)throw s();return ux(u),e(i,o,c,u)},Hm=(t,e)=>t===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(t*e))))),dx=t=>new Promise((e,n)=>{const{port1:s,port2:r}=new MessageChannel;s.onmessage=({data:i})=>{s.close(),r.close(),e(i)},s.onmessageerror=({data:i})=>{s.close(),r.close(),n(i)},r.postMessage(t)}),fx=async(t,e)=>{const n=await dx(e);return new t(n)},px=(t,e,n,s)=>{let r=Rc.get(t);r===void 0&&(r=new WeakMap,Rc.set(t,r));const i=fx(n,s);return r.set(e,i),i},mx=(t,e,n,s,r,i,o,a,l,c,u,h,p)=>(v,g,_,x)=>{if(x.numberOfInputs===0&&x.numberOfOutputs===0)throw l();const d=Array.isArray(x.outputChannelCount)?x.outputChannelCount:Array.from(x.outputChannelCount);if(d.some(V=>V<1))throw l();if(d.length!==x.numberOfOutputs)throw e();if(x.channelCountMode!=="explicit")throw l();const m=x.channelCount*x.numberOfInputs,y=d.reduce((V,$)=>V+$,0),T=_.parameterDescriptors===void 0?0:_.parameterDescriptors.length;if(m+T>6||y>6)throw l();const w=new MessageChannel,S=[],C=[];for(let V=0;V<x.numberOfInputs;V+=1)S.push(o(v,{channelCount:x.channelCount,channelCountMode:x.channelCountMode,channelInterpretation:x.channelInterpretation,gain:1})),C.push(r(v,{channelCount:x.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:x.channelCount}));const k=[];if(_.parameterDescriptors!==void 0)for(const{defaultValue:V,maxValue:$,minValue:Me,name:de}of _.parameterDescriptors){const ee=i(v,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:x.parameterData[de]!==void 0?x.parameterData[de]:V===void 0?0:V});Object.defineProperties(ee.offset,{defaultValue:{get:()=>V===void 0?0:V},maxValue:{get:()=>$===void 0?tt:$},minValue:{get:()=>Me===void 0?gt:Me}}),k.push(ee)}const E=s(v,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,m+T)}),N=Hm(g,v.sampleRate),O=a(v,N,m+T,Math.max(1,y)),I=r(v,{channelCount:Math.max(1,y),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,y)}),R=[];for(let V=0;V<x.numberOfOutputs;V+=1)R.push(s(v,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:d[V]}));for(let V=0;V<x.numberOfInputs;V+=1){S[V].connect(C[V]);for(let $=0;$<x.channelCount;$+=1)C[V].connect(E,$,V*x.channelCount+$)}const b=new Um(_.parameterDescriptors===void 0?[]:_.parameterDescriptors.map(({name:V},$)=>{const Me=k[$];return Me.connect(E,0,m+$),Me.start(0),[V,Me.offset]}));E.connect(O);let B=x.channelInterpretation,F=null;const W=x.numberOfOutputs===0?[O]:R,j={get bufferSize(){return N},get channelCount(){return x.channelCount},set channelCount(V){throw n()},get channelCountMode(){return x.channelCountMode},set channelCountMode(V){throw n()},get channelInterpretation(){return B},set channelInterpretation(V){for(const $ of S)$.channelInterpretation=V;B=V},get context(){return O.context},get inputs(){return S},get numberOfInputs(){return x.numberOfInputs},get numberOfOutputs(){return x.numberOfOutputs},get onprocessorerror(){return F},set onprocessorerror(V){typeof F=="function"&&j.removeEventListener("processorerror",F),F=typeof V=="function"?V:null,typeof F=="function"&&j.addEventListener("processorerror",F)},get parameters(){return b},get port(){return w.port2},addEventListener(...V){return O.addEventListener(V[0],V[1],V[2])},connect:t.bind(null,W),disconnect:c.bind(null,W),dispatchEvent(...V){return O.dispatchEvent(V[0])},removeEventListener(...V){return O.removeEventListener(V[0],V[1],V[2])}},P=new Map;w.port1.addEventListener=(V=>(...$)=>{if($[0]==="message"){const Me=typeof $[1]=="function"?$[1]:typeof $[1]=="object"&&$[1]!==null&&typeof $[1].handleEvent=="function"?$[1].handleEvent:null;if(Me!==null){const de=P.get($[1]);de!==void 0?$[1]=de:($[1]=ee=>{u(v.currentTime,v.sampleRate,()=>Me(ee))},P.set(Me,$[1]))}}return V.call(w.port1,$[0],$[1],$[2])})(w.port1.addEventListener),w.port1.removeEventListener=(V=>(...$)=>{if($[0]==="message"){const Me=P.get($[1]);Me!==void 0&&(P.delete($[1]),$[1]=Me)}return V.call(w.port1,$[0],$[1],$[2])})(w.port1.removeEventListener);let D=null;Object.defineProperty(w.port1,"onmessage",{get:()=>D,set:V=>{typeof D=="function"&&w.port1.removeEventListener("message",D),D=typeof V=="function"?V:null,typeof D=="function"&&(w.port1.addEventListener("message",D),w.port1.start())}}),_.prototype.port=w.port1;let L=null;px(v,j,_,x).then(V=>L=V);const be=ha(x.numberOfInputs,x.channelCount),ke=ha(x.numberOfOutputs,d),Q=_.parameterDescriptors===void 0?[]:_.parameterDescriptors.reduce((V,{name:$})=>({...V,[$]:new Float32Array(128)}),{});let J=!0;const Ne=()=>{x.numberOfOutputs>0&&O.disconnect(I);for(let V=0,$=0;V<x.numberOfOutputs;V+=1){const Me=R[V];for(let de=0;de<d[V];de+=1)I.disconnect(Me,$+de,de);$+=d[V]}},U=new Map;O.onaudioprocess=({inputBuffer:V,outputBuffer:$})=>{if(L!==null){const Me=h(j);for(let de=0;de<N;de+=128){for(let ee=0;ee<x.numberOfInputs;ee+=1)for(let ye=0;ye<x.channelCount;ye+=1)ua(V,be[ee],ye,ye,de);_.parameterDescriptors!==void 0&&_.parameterDescriptors.forEach(({name:ee},ye)=>{ua(V,Q,ee,m+ye,de)});for(let ee=0;ee<x.numberOfInputs;ee+=1)for(let ye=0;ye<d[ee];ye+=1)ke[ee][ye].byteLength===0&&(ke[ee][ye]=new Float32Array(128));try{const ee=be.map((Ct,Nn)=>{if(Me[Nn].size>0)return U.set(Nn,N/128),Ct;const tl=U.get(Nn);return tl===void 0?[]:(Ct.every($g=>$g.every(Hg=>Hg===0))&&(tl===1?U.delete(Nn):U.set(Nn,tl-1)),Ct)});J=u(v.currentTime+de/v.sampleRate,v.sampleRate,()=>L.process(ee,ke,Q));for(let Ct=0,Nn=0;Ct<x.numberOfOutputs;Ct+=1){for(let Rr=0;Rr<d[Ct];Rr+=1)qm($,ke[Ct],Rr,Nn+Rr,de);Nn+=d[Ct]}}catch(ee){J=!1,j.dispatchEvent(new ErrorEvent("processorerror",{colno:ee.colno,filename:ee.filename,lineno:ee.lineno,message:ee.message}))}if(!J){for(let ee=0;ee<x.numberOfInputs;ee+=1){S[ee].disconnect(C[ee]);for(let ye=0;ye<x.channelCount;ye+=1)C[de].disconnect(E,ye,ee*x.channelCount+ye)}if(_.parameterDescriptors!==void 0){const ee=_.parameterDescriptors.length;for(let ye=0;ye<ee;ye+=1){const Ct=k[ye];Ct.disconnect(E,0,m+ye),Ct.stop()}}E.disconnect(O),O.onaudioprocess=null,ls?Ne():Fs();break}}}};let ls=!1;const cs=o(v,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),bs=()=>O.connect(cs).connect(v.destination),Fs=()=>{O.disconnect(cs),cs.disconnect()},Ug=()=>{if(J){Fs(),x.numberOfOutputs>0&&O.connect(I);for(let V=0,$=0;V<x.numberOfOutputs;V+=1){const Me=R[V];for(let de=0;de<d[V];de+=1)I.connect(Me,$+de,de);$+=d[V]}}ls=!0},qg=()=>{J&&(bs(),Ne()),ls=!1};return bs(),p(j,Ug,qg)},Gm=(t,e)=>{const n=t.createBiquadFilter();return De(n,e),xe(n,e,"Q"),xe(n,e,"detune"),xe(n,e,"frequency"),xe(n,e,"gain"),ue(n,e,"type"),n},gx=(t,e)=>(n,s)=>{const r=n.createChannelMerger(s.numberOfInputs);return t!==null&&t.name==="webkitAudioContext"&&e(n,r),De(r,s),r},vx=t=>{const e=t.numberOfOutputs;Object.defineProperty(t,"channelCount",{get:()=>e,set:n=>{if(n!==e)throw Le()}}),Object.defineProperty(t,"channelCountMode",{get:()=>"explicit",set:n=>{if(n!=="explicit")throw Le()}}),Object.defineProperty(t,"channelInterpretation",{get:()=>"discrete",set:n=>{if(n!=="discrete")throw Le()}})},Di=(t,e)=>{const n=t.createChannelSplitter(e.numberOfOutputs);return De(n,e),vx(n),n},yx=(t,e,n,s,r)=>(i,o)=>{if(i.createConstantSource===void 0)return n(i,o);const a=i.createConstantSource();return De(a,o),xe(a,o,"offset"),e(s,()=>s(i))||zu(a),e(r,()=>r(i))||Wu(a),t(i,a),a},Ar=(t,e)=>(t.connect=e.connect.bind(e),t.disconnect=e.disconnect.bind(e),t),_x=(t,e,n,s)=>(r,{offset:i,...o})=>{const a=r.createBuffer(1,2,44100),l=e(r,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),c=n(r,{...o,gain:i}),u=a.getChannelData(0);u[0]=1,u[1]=1,l.buffer=a,l.loop=!0;const h={get bufferSize(){},get channelCount(){return c.channelCount},set channelCount(g){c.channelCount=g},get channelCountMode(){return c.channelCountMode},set channelCountMode(g){c.channelCountMode=g},get channelInterpretation(){return c.channelInterpretation},set channelInterpretation(g){c.channelInterpretation=g},get context(){return c.context},get inputs(){return[]},get numberOfInputs(){return l.numberOfInputs},get numberOfOutputs(){return c.numberOfOutputs},get offset(){return c.gain},get onended(){return l.onended},set onended(g){l.onended=g},addEventListener(...g){return l.addEventListener(g[0],g[1],g[2])},dispatchEvent(...g){return l.dispatchEvent(g[0])},removeEventListener(...g){return l.removeEventListener(g[0],g[1],g[2])},start(g=0){l.start.call(l,g)},stop(g=0){l.stop.call(l,g)}},p=()=>l.connect(c),v=()=>l.disconnect(c);return t(r,l),s(Ar(h,c),p,v)},wx=(t,e)=>(n,s)=>{const r=n.createConvolver();if(De(r,s),s.disableNormalization===r.normalize&&(r.normalize=!s.disableNormalization),ue(r,s,"buffer"),s.channelCount>2||(e(r,"channelCount",i=>()=>i.call(r),i=>o=>{if(o>2)throw t();return i.call(r,o)}),s.channelCountMode==="max"))throw t();return e(r,"channelCountMode",i=>()=>i.call(r),i=>o=>{if(o==="max")throw t();return i.call(r,o)}),r},Qm=(t,e)=>{const n=t.createDelay(e.maxDelayTime);return De(n,e),xe(n,e,"delayTime"),n},xx=t=>(e,n)=>{const s=e.createDynamicsCompressor();if(De(s,n),n.channelCount>2||n.channelCountMode==="max")throw t();return xe(s,n,"attack"),xe(s,n,"knee"),xe(s,n,"ratio"),xe(s,n,"release"),xe(s,n,"threshold"),s},pt=(t,e)=>{const n=t.createGain();return De(n,e),xe(n,e,"gain"),n},Sx=t=>(e,n,s)=>{if(e.createIIRFilter===void 0)return t(e,n,s);const r=e.createIIRFilter(s.feedforward,s.feedback);return De(r,s),r};function kx(t,e){const n=e[0]*e[0]+e[1]*e[1];return[(t[0]*e[0]+t[1]*e[1])/n,(t[1]*e[0]-t[0]*e[1])/n]}function Tx(t,e){return[t[0]*e[0]-t[1]*e[1],t[0]*e[1]+t[1]*e[0]]}function Xd(t,e){let n=[0,0];for(let s=t.length-1;s>=0;s-=1)n=Tx(n,e),n[0]+=t[s];return n}const Cx=(t,e,n,s)=>(r,i,{channelCount:o,channelCountMode:a,channelInterpretation:l,feedback:c,feedforward:u})=>{const h=Hm(i,r.sampleRate),p=c instanceof Float64Array?c:new Float64Array(c),v=u instanceof Float64Array?u:new Float64Array(u),g=p.length,_=v.length,x=Math.min(g,_);if(g===0||g>20)throw s();if(p[0]===0)throw e();if(_===0||_>20)throw s();if(v[0]===0)throw e();if(p[0]!==1){for(let k=0;k<_;k+=1)v[k]/=p[0];for(let k=1;k<g;k+=1)p[k]/=p[0]}const d=n(r,h,o,o);d.channelCount=o,d.channelCountMode=a,d.channelInterpretation=l;const m=32,y=[],T=[],w=[];for(let k=0;k<o;k+=1){y.push(0);const E=new Float32Array(m),N=new Float32Array(m);E.fill(0),N.fill(0),T.push(E),w.push(N)}d.onaudioprocess=k=>{const E=k.inputBuffer,N=k.outputBuffer,O=E.numberOfChannels;for(let I=0;I<O;I+=1){const R=E.getChannelData(I),b=N.getChannelData(I);y[I]=$m(p,g,v,_,x,T[I],w[I],y[I],m,R,b)}};const S=r.sampleRate/2;return Ar({get bufferSize(){return h},get channelCount(){return d.channelCount},set channelCount(k){d.channelCount=k},get channelCountMode(){return d.channelCountMode},set channelCountMode(k){d.channelCountMode=k},get channelInterpretation(){return d.channelInterpretation},set channelInterpretation(k){d.channelInterpretation=k},get context(){return d.context},get inputs(){return[d]},get numberOfInputs(){return d.numberOfInputs},get numberOfOutputs(){return d.numberOfOutputs},addEventListener(...k){return d.addEventListener(k[0],k[1],k[2])},dispatchEvent(...k){return d.dispatchEvent(k[0])},getFrequencyResponse(k,E,N){if(k.length!==E.length||E.length!==N.length)throw t();const O=k.length;for(let I=0;I<O;I+=1){const R=-Math.PI*(k[I]/S),b=[Math.cos(R),Math.sin(R)],B=Xd(v,b),F=Xd(p,b),W=kx(B,F);E[I]=Math.sqrt(W[0]*W[0]+W[1]*W[1]),N[I]=Math.atan2(W[1],W[0])}},removeEventListener(...k){return d.removeEventListener(k[0],k[1],k[2])}},d)},Nx=(t,e)=>t.createMediaElementSource(e.mediaElement),Ex=(t,e)=>{const n=t.createMediaStreamDestination();return De(n,e),n.numberOfOutputs===1&&Object.defineProperty(n,"numberOfOutputs",{get:()=>0}),n},Ax=(t,{mediaStream:e})=>{const n=e.getAudioTracks();n.sort((i,o)=>i.id<o.id?-1:i.id>o.id?1:0);const s=n.slice(0,1),r=t.createMediaStreamSource(new MediaStream(s));return Object.defineProperty(r,"mediaStream",{value:e}),r},Ox=(t,e)=>(n,{mediaStreamTrack:s})=>{if(typeof n.createMediaStreamTrackSource=="function")return n.createMediaStreamTrackSource(s);const r=new MediaStream([s]),i=n.createMediaStreamSource(r);if(s.kind!=="audio")throw t();if(e(n))throw new TypeError;return i},Ix=t=>t===null?null:t.hasOwnProperty("OfflineAudioContext")?t.OfflineAudioContext:t.hasOwnProperty("webkitOfflineAudioContext")?t.webkitOfflineAudioContext:null,jx=(t,e,n,s,r,i)=>(o,a)=>{const l=o.createOscillator();return De(l,a),xe(l,a,"detune"),xe(l,a,"frequency"),a.periodicWave!==void 0?l.setPeriodicWave(a.periodicWave):ue(l,a,"type"),e(n,()=>n(o))||zu(l),e(s,()=>s(o))||i(l,o),e(r,()=>r(o))||Wu(l),t(o,l),l},Mx=t=>(e,n)=>{const s=e.createPanner();return s.orientationX===void 0?t(e,n):(De(s,n),xe(s,n,"orientationX"),xe(s,n,"orientationY"),xe(s,n,"orientationZ"),xe(s,n,"positionX"),xe(s,n,"positionY"),xe(s,n,"positionZ"),ue(s,n,"coneInnerAngle"),ue(s,n,"coneOuterAngle"),ue(s,n,"coneOuterGain"),ue(s,n,"distanceModel"),ue(s,n,"maxDistance"),ue(s,n,"panningModel"),ue(s,n,"refDistance"),ue(s,n,"rolloffFactor"),s)},Px=(t,e,n,s,r,i,o,a,l,c)=>(u,{coneInnerAngle:h,coneOuterAngle:p,coneOuterGain:v,distanceModel:g,maxDistance:_,orientationX:x,orientationY:d,orientationZ:m,panningModel:y,positionX:T,positionY:w,positionZ:S,refDistance:C,rolloffFactor:k,...E})=>{const N=u.createPanner();if(E.channelCount>2||E.channelCountMode==="max")throw o();De(N,E);const O={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},I=n(u,{...O,channelInterpretation:"speakers",numberOfInputs:6}),R=s(u,{...E,gain:1}),b=s(u,{...O,gain:1}),B=s(u,{...O,gain:0}),F=s(u,{...O,gain:0}),W=s(u,{...O,gain:0}),j=s(u,{...O,gain:0}),P=s(u,{...O,gain:0}),D=r(u,256,6,1),L=i(u,{...O,curve:new Float32Array([1,1]),oversample:"none"});let q=[x,d,m],be=[T,w,S];const ke=new Float32Array(1);D.onaudioprocess=({inputBuffer:U})=>{const ls=[l(U,ke,0),l(U,ke,1),l(U,ke,2)];ls.some((bs,Fs)=>bs!==q[Fs])&&(N.setOrientation(...ls),q=ls);const cs=[l(U,ke,3),l(U,ke,4),l(U,ke,5)];cs.some((bs,Fs)=>bs!==be[Fs])&&(N.setPosition(...cs),be=cs)},Object.defineProperty(B.gain,"defaultValue",{get:()=>0}),Object.defineProperty(F.gain,"defaultValue",{get:()=>0}),Object.defineProperty(W.gain,"defaultValue",{get:()=>0}),Object.defineProperty(j.gain,"defaultValue",{get:()=>0}),Object.defineProperty(P.gain,"defaultValue",{get:()=>0});const Q={get bufferSize(){},get channelCount(){return N.channelCount},set channelCount(U){if(U>2)throw o();R.channelCount=U,N.channelCount=U},get channelCountMode(){return N.channelCountMode},set channelCountMode(U){if(U==="max")throw o();R.channelCountMode=U,N.channelCountMode=U},get channelInterpretation(){return N.channelInterpretation},set channelInterpretation(U){R.channelInterpretation=U,N.channelInterpretation=U},get coneInnerAngle(){return N.coneInnerAngle},set coneInnerAngle(U){N.coneInnerAngle=U},get coneOuterAngle(){return N.coneOuterAngle},set coneOuterAngle(U){N.coneOuterAngle=U},get coneOuterGain(){return N.coneOuterGain},set coneOuterGain(U){if(U<0||U>1)throw e();N.coneOuterGain=U},get context(){return N.context},get distanceModel(){return N.distanceModel},set distanceModel(U){N.distanceModel=U},get inputs(){return[R]},get maxDistance(){return N.maxDistance},set maxDistance(U){if(U<0)throw new RangeError;N.maxDistance=U},get numberOfInputs(){return N.numberOfInputs},get numberOfOutputs(){return N.numberOfOutputs},get orientationX(){return b.gain},get orientationY(){return B.gain},get orientationZ(){return F.gain},get panningModel(){return N.panningModel},set panningModel(U){N.panningModel=U},get positionX(){return W.gain},get positionY(){return j.gain},get positionZ(){return P.gain},get refDistance(){return N.refDistance},set refDistance(U){if(U<0)throw new RangeError;N.refDistance=U},get rolloffFactor(){return N.rolloffFactor},set rolloffFactor(U){if(U<0)throw new RangeError;N.rolloffFactor=U},addEventListener(...U){return R.addEventListener(U[0],U[1],U[2])},dispatchEvent(...U){return R.dispatchEvent(U[0])},removeEventListener(...U){return R.removeEventListener(U[0],U[1],U[2])}};h!==Q.coneInnerAngle&&(Q.coneInnerAngle=h),p!==Q.coneOuterAngle&&(Q.coneOuterAngle=p),v!==Q.coneOuterGain&&(Q.coneOuterGain=v),g!==Q.distanceModel&&(Q.distanceModel=g),_!==Q.maxDistance&&(Q.maxDistance=_),x!==Q.orientationX.value&&(Q.orientationX.value=x),d!==Q.orientationY.value&&(Q.orientationY.value=d),m!==Q.orientationZ.value&&(Q.orientationZ.value=m),y!==Q.panningModel&&(Q.panningModel=y),T!==Q.positionX.value&&(Q.positionX.value=T),w!==Q.positionY.value&&(Q.positionY.value=w),S!==Q.positionZ.value&&(Q.positionZ.value=S),C!==Q.refDistance&&(Q.refDistance=C),k!==Q.rolloffFactor&&(Q.rolloffFactor=k),(q[0]!==1||q[1]!==0||q[2]!==0)&&N.setOrientation(...q),(be[0]!==0||be[1]!==0||be[2]!==0)&&N.setPosition(...be);const J=()=>{R.connect(N),t(R,L,0,0),L.connect(b).connect(I,0,0),L.connect(B).connect(I,0,1),L.connect(F).connect(I,0,2),L.connect(W).connect(I,0,3),L.connect(j).connect(I,0,4),L.connect(P).connect(I,0,5),I.connect(D).connect(u.destination)},Ne=()=>{R.disconnect(N),a(R,L,0,0),L.disconnect(b),b.disconnect(I),L.disconnect(B),B.disconnect(I),L.disconnect(F),F.disconnect(I),L.disconnect(W),W.disconnect(I),L.disconnect(j),j.disconnect(I),L.disconnect(P),P.disconnect(I),I.disconnect(D),D.disconnect(u.destination)};return c(Ar(Q,N),J,Ne)},Rx=t=>(e,{disableNormalization:n,imag:s,real:r})=>{const i=s instanceof Float32Array?s:new Float32Array(s),o=r instanceof Float32Array?r:new Float32Array(r),a=e.createPeriodicWave(o,i,{disableNormalization:n});if(Array.from(s).length<2)throw t();return a},bi=(t,e,n,s)=>t.createScriptProcessor(e,n,s),Dx=(t,e)=>(n,s)=>{const r=s.channelCountMode;if(r==="clamped-max")throw e();if(n.createStereoPanner===void 0)return t(n,s);const i=n.createStereoPanner();return De(i,s),xe(i,s,"pan"),Object.defineProperty(i,"channelCountMode",{get:()=>r,set:o=>{if(o!==r)throw e()}}),i},bx=(t,e,n,s,r,i)=>{const a=new Float32Array([1,1]),l=Math.PI/2,c={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},u={...c,oversample:"none"},h=(g,_,x,d)=>{const m=new Float32Array(16385),y=new Float32Array(16385);for(let E=0;E<16385;E+=1){const N=E/16384*l;m[E]=Math.cos(N),y[E]=Math.sin(N)}const T=n(g,{...c,gain:0}),w=s(g,{...u,curve:m}),S=s(g,{...u,curve:a}),C=n(g,{...c,gain:0}),k=s(g,{...u,curve:y});return{connectGraph(){_.connect(T),_.connect(S.inputs===void 0?S:S.inputs[0]),_.connect(C),S.connect(x),x.connect(w.inputs===void 0?w:w.inputs[0]),x.connect(k.inputs===void 0?k:k.inputs[0]),w.connect(T.gain),k.connect(C.gain),T.connect(d,0,0),C.connect(d,0,1)},disconnectGraph(){_.disconnect(T),_.disconnect(S.inputs===void 0?S:S.inputs[0]),_.disconnect(C),S.disconnect(x),x.disconnect(w.inputs===void 0?w:w.inputs[0]),x.disconnect(k.inputs===void 0?k:k.inputs[0]),w.disconnect(T.gain),k.disconnect(C.gain),T.disconnect(d,0,0),C.disconnect(d,0,1)}}},p=(g,_,x,d)=>{const m=new Float32Array(16385),y=new Float32Array(16385),T=new Float32Array(16385),w=new Float32Array(16385),S=Math.floor(16385/2);for(let W=0;W<16385;W+=1)if(W>S){const j=(W-S)/(16384-S)*l;m[W]=Math.cos(j),y[W]=Math.sin(j),T[W]=0,w[W]=1}else{const j=W/(16384-S)*l;m[W]=1,y[W]=0,T[W]=Math.cos(j),w[W]=Math.sin(j)}const C=e(g,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),k=n(g,{...c,gain:0}),E=s(g,{...u,curve:m}),N=n(g,{...c,gain:0}),O=s(g,{...u,curve:y}),I=s(g,{...u,curve:a}),R=n(g,{...c,gain:0}),b=s(g,{...u,curve:T}),B=n(g,{...c,gain:0}),F=s(g,{...u,curve:w});return{connectGraph(){_.connect(C),_.connect(I.inputs===void 0?I:I.inputs[0]),C.connect(k,0),C.connect(N,0),C.connect(R,1),C.connect(B,1),I.connect(x),x.connect(E.inputs===void 0?E:E.inputs[0]),x.connect(O.inputs===void 0?O:O.inputs[0]),x.connect(b.inputs===void 0?b:b.inputs[0]),x.connect(F.inputs===void 0?F:F.inputs[0]),E.connect(k.gain),O.connect(N.gain),b.connect(R.gain),F.connect(B.gain),k.connect(d,0,0),R.connect(d,0,0),N.connect(d,0,1),B.connect(d,0,1)},disconnectGraph(){_.disconnect(C),_.disconnect(I.inputs===void 0?I:I.inputs[0]),C.disconnect(k,0),C.disconnect(N,0),C.disconnect(R,1),C.disconnect(B,1),I.disconnect(x),x.disconnect(E.inputs===void 0?E:E.inputs[0]),x.disconnect(O.inputs===void 0?O:O.inputs[0]),x.disconnect(b.inputs===void 0?b:b.inputs[0]),x.disconnect(F.inputs===void 0?F:F.inputs[0]),E.disconnect(k.gain),O.disconnect(N.gain),b.disconnect(R.gain),F.disconnect(B.gain),k.disconnect(d,0,0),R.disconnect(d,0,0),N.disconnect(d,0,1),B.disconnect(d,0,1)}}},v=(g,_,x,d,m)=>{if(_===1)return h(g,x,d,m);if(_===2)return p(g,x,d,m);throw r()};return(g,{channelCount:_,channelCountMode:x,pan:d,...m})=>{if(x==="max")throw r();const y=t(g,{...m,channelCount:1,channelCountMode:x,numberOfInputs:2}),T=n(g,{...m,channelCount:_,channelCountMode:x,gain:1}),w=n(g,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:d});let{connectGraph:S,disconnectGraph:C}=v(g,_,T,w,y);Object.defineProperty(w.gain,"defaultValue",{get:()=>0}),Object.defineProperty(w.gain,"maxValue",{get:()=>1}),Object.defineProperty(w.gain,"minValue",{get:()=>-1});const k={get bufferSize(){},get channelCount(){return T.channelCount},set channelCount(I){T.channelCount!==I&&(E&&C(),{connectGraph:S,disconnectGraph:C}=v(g,I,T,w,y),E&&S()),T.channelCount=I},get channelCountMode(){return T.channelCountMode},set channelCountMode(I){if(I==="clamped-max"||I==="max")throw r();T.channelCountMode=I},get channelInterpretation(){return T.channelInterpretation},set channelInterpretation(I){T.channelInterpretation=I},get context(){return T.context},get inputs(){return[T]},get numberOfInputs(){return T.numberOfInputs},get numberOfOutputs(){return T.numberOfOutputs},get pan(){return w.gain},addEventListener(...I){return T.addEventListener(I[0],I[1],I[2])},dispatchEvent(...I){return T.dispatchEvent(I[0])},removeEventListener(...I){return T.removeEventListener(I[0],I[1],I[2])}};let E=!1;const N=()=>{S(),E=!0},O=()=>{C(),E=!1};return i(Ar(k,y),N,O)}},Fx=(t,e,n,s,r,i,o)=>(a,l)=>{const c=a.createWaveShaper();if(i!==null&&i.name==="webkitAudioContext"&&a.createGain().gain.automationRate===void 0)return n(a,l);De(c,l);const u=l.curve===null||l.curve instanceof Float32Array?l.curve:new Float32Array(l.curve);if(u!==null&&u.length<2)throw e();ue(c,{curve:u},"curve"),ue(c,l,"oversample");let h=null,p=!1;return o(c,"curve",_=>()=>_.call(c),_=>x=>(_.call(c,x),p&&(s(x)&&h===null?h=t(a,c):!s(x)&&h!==null&&(h(),h=null)),x)),r(c,()=>{p=!0,s(c.curve)&&(h=t(a,c))},()=>{p=!1,h!==null&&(h(),h=null)})},Vx=(t,e,n,s,r)=>(i,{curve:o,oversample:a,...l})=>{const c=i.createWaveShaper(),u=i.createWaveShaper();De(c,l),De(u,l);const h=n(i,{...l,gain:1}),p=n(i,{...l,gain:-1}),v=n(i,{...l,gain:1}),g=n(i,{...l,gain:-1});let _=null,x=!1,d=null;const m={get bufferSize(){},get channelCount(){return c.channelCount},set channelCount(w){h.channelCount=w,p.channelCount=w,c.channelCount=w,v.channelCount=w,u.channelCount=w,g.channelCount=w},get channelCountMode(){return c.channelCountMode},set channelCountMode(w){h.channelCountMode=w,p.channelCountMode=w,c.channelCountMode=w,v.channelCountMode=w,u.channelCountMode=w,g.channelCountMode=w},get channelInterpretation(){return c.channelInterpretation},set channelInterpretation(w){h.channelInterpretation=w,p.channelInterpretation=w,c.channelInterpretation=w,v.channelInterpretation=w,u.channelInterpretation=w,g.channelInterpretation=w},get context(){return c.context},get curve(){return d},set curve(w){if(w!==null&&w.length<2)throw e();if(w===null)c.curve=w,u.curve=w;else{const S=w.length,C=new Float32Array(S+2-S%2),k=new Float32Array(S+2-S%2);C[0]=w[0],k[0]=-w[S-1];const E=Math.ceil((S+1)/2),N=(S+1)/2-1;for(let O=1;O<E;O+=1){const I=O/E*N,R=Math.floor(I),b=Math.ceil(I);C[O]=R===b?w[R]:(1-(I-R))*w[R]+(1-(b-I))*w[b],k[O]=R===b?-w[S-1-R]:-((1-(I-R))*w[S-1-R])-(1-(b-I))*w[S-1-b]}C[E]=S%2===1?w[E-1]:(w[E-2]+w[E-1])/2,c.curve=C,u.curve=k}d=w,x&&(s(d)&&_===null?_=t(i,h):_!==null&&(_(),_=null))},get inputs(){return[h]},get numberOfInputs(){return c.numberOfInputs},get numberOfOutputs(){return c.numberOfOutputs},get oversample(){return c.oversample},set oversample(w){c.oversample=w,u.oversample=w},addEventListener(...w){return h.addEventListener(w[0],w[1],w[2])},dispatchEvent(...w){return h.dispatchEvent(w[0])},removeEventListener(...w){return h.removeEventListener(w[0],w[1],w[2])}};o!==null&&(m.curve=o instanceof Float32Array?o:new Float32Array(o)),a!==m.oversample&&(m.oversample=a);const y=()=>{h.connect(c).connect(v),h.connect(p).connect(u).connect(g).connect(v),x=!0,s(d)&&(_=t(i,h))},T=()=>{h.disconnect(c),c.disconnect(v),h.disconnect(p),p.disconnect(u),u.disconnect(g),g.disconnect(v),x=!1,_!==null&&(_(),_=null)};return r(Ar(m,v),y,T)},lt=()=>new DOMException("","NotSupportedError"),Lx={numberOfChannels:1},zx=(t,e,n,s,r)=>class extends t{constructor(o,a,l){let c;if(typeof o=="number"&&a!==void 0&&l!==void 0)c={length:a,numberOfChannels:o,sampleRate:l};else if(typeof o=="object")c=o;else throw new Error("The given parameters are not valid.");const{length:u,numberOfChannels:h,sampleRate:p}={...Lx,...c},v=s(h,u,p);e(Si,()=>Si(v))||v.addEventListener("statechange",(()=>{let g=0;const _=x=>{this._state==="running"&&(g>0?(v.removeEventListener("statechange",_),x.stopImmediatePropagation(),this._waitForThePromiseToSettle(x)):g+=1)};return _})()),super(v,h),this._length=u,this._nativeOfflineAudioContext=v,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(n()):(this._state="running",r(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,Lm(this)}))}_waitForThePromiseToSettle(o){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(o):setTimeout(()=>this._waitForThePromiseToSettle(o))}},Wx={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},Bx=(t,e,n,s,r,i,o)=>class extends t{constructor(l,c){const u=r(l),h={...Wx,...c},p=n(u,h),v=i(u),g=v?s():null,_=l.sampleRate/2;super(l,!1,p,g),this._detune=e(this,v,p.detune,153600,-153600),this._frequency=e(this,v,p.frequency,_,-_),this._nativeOscillatorNode=p,this._onended=null,this._oscillatorNodeRenderer=g,this._oscillatorNodeRenderer!==null&&h.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=h.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(l){const c=typeof l=="function"?o(this,l):null;this._nativeOscillatorNode.onended=c;const u=this._nativeOscillatorNode.onended;this._onended=u!==null&&u===c?l:u}get type(){return this._nativeOscillatorNode.type}set type(l){this._nativeOscillatorNode.type=l,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(l){this._nativeOscillatorNode.setPeriodicWave(l),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=l)}start(l=0){if(this._nativeOscillatorNode.start(l),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=l),this.context.state!=="closed"){_r(this);const c=()=>{this._nativeOscillatorNode.removeEventListener("ended",c),gn(this)&&Mi(this)};this._nativeOscillatorNode.addEventListener("ended",c)}}stop(l=0){this._nativeOscillatorNode.stop(l),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=l)}},Ux=(t,e,n,s,r)=>()=>{const i=new WeakMap;let o=null,a=null,l=null;const c=async(u,h)=>{let p=n(u);const v=Je(p,h);if(!v){const g={channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,detune:p.detune.value,frequency:p.frequency.value,periodicWave:o===null?void 0:o,type:p.type};p=e(h,g),a!==null&&p.start(a),l!==null&&p.stop(l)}return i.set(h,p),v?(await t(h,u.detune,p.detune),await t(h,u.frequency,p.frequency)):(await s(h,u.detune,p.detune),await s(h,u.frequency,p.frequency)),await r(u,h,p),p};return{set periodicWave(u){o=u},set start(u){a=u},set stop(u){l=u},render(u,h){const p=i.get(h);return p!==void 0?Promise.resolve(p):c(u,h)}}},qx={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},$x=(t,e,n,s,r,i,o)=>class extends t{constructor(l,c){const u=r(l),h={...qx,...c},p=n(u,h),v=i(u),g=v?s():null;super(l,!1,p,g),this._nativePannerNode=p,this._orientationX=e(this,v,p.orientationX,tt,gt),this._orientationY=e(this,v,p.orientationY,tt,gt),this._orientationZ=e(this,v,p.orientationZ,tt,gt),this._positionX=e(this,v,p.positionX,tt,gt),this._positionY=e(this,v,p.positionY,tt,gt),this._positionZ=e(this,v,p.positionZ,tt,gt),o(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(l){this._nativePannerNode.coneInnerAngle=l}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(l){this._nativePannerNode.coneOuterAngle=l}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(l){this._nativePannerNode.coneOuterGain=l}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(l){this._nativePannerNode.distanceModel=l}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(l){this._nativePannerNode.maxDistance=l}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(l){this._nativePannerNode.panningModel=l}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(l){this._nativePannerNode.refDistance=l}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(l){this._nativePannerNode.rolloffFactor=l}},Hx=(t,e,n,s,r,i,o,a,l,c)=>()=>{const u=new WeakMap;let h=null;const p=async(v,g)=>{let _=null,x=i(v);const d={channelCount:x.channelCount,channelCountMode:x.channelCountMode,channelInterpretation:x.channelInterpretation},m={...d,coneInnerAngle:x.coneInnerAngle,coneOuterAngle:x.coneOuterAngle,coneOuterGain:x.coneOuterGain,distanceModel:x.distanceModel,maxDistance:x.maxDistance,panningModel:x.panningModel,refDistance:x.refDistance,rolloffFactor:x.rolloffFactor},y=Je(x,g);if("bufferSize"in x)_=s(g,{...d,gain:1});else if(!y){const T={...m,orientationX:x.orientationX.value,orientationY:x.orientationY.value,orientationZ:x.orientationZ.value,positionX:x.positionX.value,positionY:x.positionY.value,positionZ:x.positionZ.value};x=r(g,T)}if(u.set(g,_===null?x:_),_!==null){if(h===null){if(o===null)throw new Error("Missing the native OfflineAudioContext constructor.");const O=new o(6,v.context.length,g.sampleRate),I=e(O,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});I.connect(O.destination),h=(async()=>{const R=await Promise.all([v.orientationX,v.orientationY,v.orientationZ,v.positionX,v.positionY,v.positionZ].map(async(b,B)=>{const F=n(O,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:B===0?1:0});return await a(O,b,F.offset),F}));for(let b=0;b<6;b+=1)R[b].connect(I,0,b),R[b].start(0);return c(O)})()}const T=await h,w=s(g,{...d,gain:1});await l(v,g,w);const S=[];for(let O=0;O<T.numberOfChannels;O+=1)S.push(T.getChannelData(O));let C=[S[0][0],S[1][0],S[2][0]],k=[S[3][0],S[4][0],S[5][0]],E=s(g,{...d,gain:1}),N=r(g,{...m,orientationX:C[0],orientationY:C[1],orientationZ:C[2],positionX:k[0],positionY:k[1],positionZ:k[2]});w.connect(E).connect(N.inputs[0]),N.connect(_);for(let O=128;O<T.length;O+=128){const I=[S[0][O],S[1][O],S[2][O]],R=[S[3][O],S[4][O],S[5][O]];if(I.some((b,B)=>b!==C[B])||R.some((b,B)=>b!==k[B])){C=I,k=R;const b=O/g.sampleRate;E.gain.setValueAtTime(0,b),E=s(g,{...d,gain:0}),N=r(g,{...m,orientationX:C[0],orientationY:C[1],orientationZ:C[2],positionX:k[0],positionY:k[1],positionZ:k[2]}),E.gain.setValueAtTime(1,b),w.connect(E).connect(N.inputs[0]),N.connect(_)}}return _}return y?(await t(g,v.orientationX,x.orientationX),await t(g,v.orientationY,x.orientationY),await t(g,v.orientationZ,x.orientationZ),await t(g,v.positionX,x.positionX),await t(g,v.positionY,x.positionY),await t(g,v.positionZ,x.positionZ)):(await a(g,v.orientationX,x.orientationX),await a(g,v.orientationY,x.orientationY),await a(g,v.orientationZ,x.orientationZ),await a(g,v.positionX,x.positionX),await a(g,v.positionY,x.positionY),await a(g,v.positionZ,x.positionZ)),Er(x)?await l(v,g,x.inputs[0]):await l(v,g,x),x};return{render(v,g){const _=u.get(g);return _!==void 0?Promise.resolve(_):p(v,g)}}},Gx={disableNormalization:!1},Qx=(t,e,n,s)=>class Ym{constructor(i,o){const a=e(i),l=s({...Gx,...o}),c=t(a,l);return n.add(c),c}static[Symbol.hasInstance](i){return i!==null&&typeof i=="object"&&Object.getPrototypeOf(i)===Ym.prototype||n.has(i)}},Yx=(t,e)=>(n,s,r)=>(t(s).replay(r),e(s,n,r)),Xx=(t,e,n)=>async(s,r,i)=>{const o=t(s);await Promise.all(o.activeInputs.map((a,l)=>Array.from(a).map(async([c,u])=>{const p=await e(c).render(c,r),v=s.context.destination;!n(c)&&(s!==v||!n(s))&&p.connect(i,u,l)})).reduce((a,l)=>[...a,...l],[]))},Kx=(t,e,n)=>async(s,r,i)=>{const o=e(s);await Promise.all(Array.from(o.activeInputs).map(async([a,l])=>{const u=await t(a).render(a,r);n(a)||u.connect(i,l)}))},Zx=(t,e,n,s)=>r=>t(Si,()=>Si(r))?Promise.resolve(t(s,s)).then(i=>{if(!i){const o=n(r,512,0,1);r.oncomplete=()=>{o.onaudioprocess=null,o.disconnect()},o.onaudioprocess=()=>r.currentTime,o.connect(r.destination)}return r.startRendering()}):new Promise(i=>{const o=e(r,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});r.oncomplete=a=>{o.disconnect(),i(a.renderedBuffer)},o.connect(r.destination),r.startRendering()}),Jx=t=>(e,n)=>{t.set(e,n)},eS=t=>(e,n)=>t.set(e,n),tS=(t,e,n,s,r,i,o,a)=>(l,c)=>n(l).render(l,c).then(()=>Promise.all(Array.from(s(c)).map(u=>n(u).render(u,c)))).then(()=>r(c)).then(u=>(typeof u.copyFromChannel!="function"?(o(u),Fu(u)):e(i,()=>i(u))||a(u),t.add(u),u)),nS={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},sS=(t,e,n,s,r,i)=>class extends t{constructor(a,l){const c=r(a),u={...nS,...l},h=n(c,u),p=i(c),v=p?s():null;super(a,!1,h,v),this._pan=e(this,p,h.pan)}get pan(){return this._pan}},rS=(t,e,n,s,r)=>()=>{const i=new WeakMap,o=async(a,l)=>{let c=n(a);const u=Je(c,l);if(!u){const h={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,pan:c.pan.value};c=e(l,h)}return i.set(l,c),u?await t(l,a.pan,c.pan):await s(l,a.pan,c.pan),Er(c)?await r(a,l,c.inputs[0]):await r(a,l,c),c};return{render(a,l){const c=i.get(l);return c!==void 0?Promise.resolve(c):o(a,l)}}},iS=t=>()=>{if(t===null)return!1;try{new t({length:1,sampleRate:44100})}catch{return!1}return!0},oS=(t,e)=>async()=>{if(t===null)return!0;if(e===null)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),s=new e(1,128,44100),r=URL.createObjectURL(n);let i=!1,o=!1;try{await s.audioWorklet.addModule(r);const a=new t(s,"a",{numberOfOutputs:0}),l=s.createOscillator();a.port.onmessage=()=>i=!0,a.onprocessorerror=()=>o=!0,l.connect(a),l.start(0),await s.startRendering(),await new Promise(c=>setTimeout(c))}catch{}finally{URL.revokeObjectURL(r)}return i&&!o},aS=(t,e)=>()=>{if(e===null)return Promise.resolve(!1);const n=new e(1,1,44100),s=t(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(r=>{n.oncomplete=()=>{s.disconnect(),r(n.currentTime!==0)},n.startRendering()})},lS=()=>new DOMException("","UnknownError"),cS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},uS=(t,e,n,s,r,i,o)=>class extends t{constructor(l,c){const u=r(l),h={...cS,...c},p=n(u,h),g=i(u)?s():null;super(l,!0,p,g),this._isCurveNullified=!1,this._nativeWaveShaperNode=p,o(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(l){if(l===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(l.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=l}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(l){this._nativeWaveShaperNode.oversample=l}},hS=(t,e,n)=>()=>{const s=new WeakMap,r=async(i,o)=>{let a=e(i);if(!Je(a,o)){const c={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,curve:a.curve,oversample:a.oversample};a=t(o,c)}return s.set(o,a),Er(a)?await n(i,o,a.inputs[0]):await n(i,o,a),a};return{render(i,o){const a=s.get(o);return a!==void 0?Promise.resolve(a):r(i,o)}}},dS=()=>typeof window>"u"?null:window,fS=(t,e)=>n=>{n.copyFromChannel=(s,r,i=0)=>{const o=t(i),a=t(r);if(a>=n.numberOfChannels)throw e();const l=n.length,c=n.getChannelData(a),u=s.length;for(let h=o<0?-o:0;h+o<l&&h<u;h+=1)s[h]=c[h+o]},n.copyToChannel=(s,r,i=0)=>{const o=t(i),a=t(r);if(a>=n.numberOfChannels)throw e();const l=n.length,c=n.getChannelData(a),u=s.length;for(let h=o<0?-o:0;h+o<l&&h<u;h+=1)c[h+o]=s[h]}},pS=t=>e=>{e.copyFromChannel=(n=>(s,r,i=0)=>{const o=t(i),a=t(r);if(o<e.length)return n.call(e,s,a,o)})(e.copyFromChannel),e.copyToChannel=(n=>(s,r,i=0)=>{const o=t(i),a=t(r);if(o<e.length)return n.call(e,s,a,o)})(e.copyToChannel)},mS=t=>(e,n)=>{const s=n.createBuffer(1,1,44100);e.buffer===null&&(e.buffer=s),t(e,"buffer",r=>()=>{const i=r.call(e);return i===s?null:i},r=>i=>r.call(e,i===null?s:i))},gS=(t,e)=>(n,s)=>{s.channelCount=1,s.channelCountMode="explicit",Object.defineProperty(s,"channelCount",{get:()=>1,set:()=>{throw t()}}),Object.defineProperty(s,"channelCountMode",{get:()=>"explicit",set:()=>{throw t()}});const r=n.createBufferSource();e(s,()=>{const a=s.numberOfInputs;for(let l=0;l<a;l+=1)r.connect(s,0,l)},()=>r.disconnect(s))},Xm=(t,e,n)=>t.copyFromChannel===void 0?t.getChannelData(n)[0]:(t.copyFromChannel(e,n),e[0]),Km=t=>{if(t===null)return!1;const e=t.length;return e%2!==0?t[Math.floor(e/2)]!==0:t[e/2-1]+t[e/2]!==0},Fi=(t,e,n,s)=>{let r=t;for(;!r.hasOwnProperty(e);)r=Object.getPrototypeOf(r);const{get:i,set:o}=Object.getOwnPropertyDescriptor(r,e);Object.defineProperty(t,e,{get:n(i),set:s(o)})},vS=t=>({...t,outputChannelCount:t.outputChannelCount!==void 0?t.outputChannelCount:t.numberOfInputs===1&&t.numberOfOutputs===1?[t.channelCount]:Array.from({length:t.numberOfOutputs},()=>1)}),yS=t=>({...t,channelCount:t.numberOfOutputs}),_S=t=>{const{imag:e,real:n}=t;return e===void 0?n===void 0?{...t,imag:[0,0],real:[0,0]}:{...t,imag:Array.from(n,()=>0),real:n}:n===void 0?{...t,imag:e,real:Array.from(e,()=>0)}:{...t,imag:e,real:n}},Zm=(t,e,n)=>{try{t.setValueAtTime(e,n)}catch(s){if(s.code!==9)throw s;Zm(t,e,n+1e-7)}},wS=t=>{const e=t.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},xS=t=>{const e=t.createBufferSource(),n=t.createBuffer(1,1,44100);e.buffer=n;try{e.start(0,1)}catch{return!1}return!0},SS=t=>{const e=t.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},Bu=t=>{const e=t.createOscillator();try{e.start(-1)}catch(n){return n instanceof RangeError}return!1},Jm=t=>{const e=t.createBuffer(1,1,44100),n=t.createBufferSource();n.buffer=e,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}},Uu=t=>{const e=t.createOscillator();try{e.stop(-1)}catch(n){return n instanceof RangeError}return!1},kS=t=>{const{port1:e,port2:n}=new MessageChannel;try{e.postMessage(t)}finally{e.close(),n.close()}},TS=t=>{t.start=(e=>(n=0,s=0,r)=>{const i=t.buffer,o=i===null?s:Math.min(i.duration,s);i!==null&&o>i.duration-.5/t.context.sampleRate?e.call(t,n,0,0):e.call(t,n,o,r)})(t.start)},eg=(t,e)=>{const n=e.createGain();t.connect(n);const s=(r=>()=>{r.call(t,n),t.removeEventListener("ended",s)})(t.disconnect);t.addEventListener("ended",s),Ar(t,n),t.stop=(r=>{let i=!1;return(o=0)=>{if(i)try{r.call(t,o)}catch{n.gain.setValueAtTime(0,o)}else r.call(t,o),i=!0}})(t.stop)},Or=(t,e)=>n=>{const s={value:t};return Object.defineProperties(n,{currentTarget:s,target:s}),typeof e=="function"?e.call(t,n):e.handleEvent.call(t,n)},CS=$0(Ps),NS=K0(Ps),ES=c1(Da),tg=new WeakMap,AS=E1(tg),qt=Lw(new Map,new WeakMap),tn=dS(),ng=sx(qt,an),qu=N1(st),qe=Xx(st,qu,Ns),OS=nw(ng,ce,qe),ie=I1(Ra),kn=Ix(tn),se=G1(kn),sg=new WeakMap,rg=_1(Or),Vi=ax(tn),$u=U1(Vi),Hu=q1(tn),ig=$1(tn),ki=cx(tn),Ce=Ew(H0(Mm),X0(CS,NS,aa,ES,la,st,AS,ji,ce,Ps,gn,Ns,Co),qt,V1(Mc,la,st,ce,xi,gn),an,ba,lt,i1(aa,Mc,st,ce,xi,ie,gn,se),d1(sg,st,Ut),rg,ie,$u,Hu,ig,se,ki),IS=tw(Ce,OS,an,ng,ie,se),Gu=new WeakSet,Kd=rx(tn),og=Zw(new Uint32Array(1)),Qu=fS(og,an),Yu=pS(og),ag=rw(Gu,qt,lt,Kd,kn,iS(Kd),Qu,Yu),Fa=Z0(pt),lg=Kx(qu,Pi,Ns),ln=Hw(lg),Ir=ox(Fa,qt,wS,xS,SS,Bu,Jm,Uu,TS,mS(Fi),eg),cn=Yx(A1(Pi),lg),jS=aw(ln,Ir,ce,cn,qe),$t=Aw(G0(Pm),sg,bu,Ow,L0,z0,W0,B0,U0,Oc,Im,Vi,Zm),MS=ow(Ce,jS,$t,Le,Ir,ie,se,Or),PS=gw(Ce,vw,an,Le,lx(pt,Fi),ie,se,qe),RS=Vw(ln,Gm,ce,cn,qe),Rs=eS(tg),DS=Fw(Ce,$t,RS,ba,Gm,ie,se,Rs),is=tx(Ps,Hu),bS=gS(Le,is),os=gx(Vi,bS),FS=Bw(os,ce,qe),VS=Ww(Ce,FS,os,ie,se),LS=$w(Di,ce,qe),zS=qw(Ce,LS,Di,ie,se,yS),WS=_x(Fa,Ir,pt,is),jr=yx(Fa,qt,WS,Bu,Uu),BS=Kw(ln,jr,ce,cn,qe),US=Xw(Ce,$t,BS,jr,ie,se,Or),cg=wx(lt,Fi),qS=t1(cg,ce,qe),$S=e1(Ce,qS,cg,ie,se,Rs),HS=l1(ln,Qm,ce,cn,qe),GS=a1(Ce,$t,HS,Qm,ie,se,Rs),ug=xx(lt),QS=g1(ln,ug,ce,cn,qe),YS=m1(Ce,$t,QS,ug,lt,ie,se,Rs),XS=T1(ln,pt,ce,cn,qe),KS=k1(Ce,$t,XS,pt,ie,se),ZS=Cx(ba,Le,bi,lt),Va=Zx(qt,pt,bi,aS(pt,kn)),JS=F1(Ir,ce,kn,qe,Va),ek=Sx(ZS),tk=D1(Ce,ek,JS,ie,se,Rs),nk=yw($t,os,jr,bi,lt,Xm,se,Fi),hg=new WeakMap,sk=ex(PS,nk,rg,se,hg,Or),dg=jx(Fa,qt,Bu,Jm,Uu,eg),rk=Ux(ln,dg,ce,cn,qe),ik=Bx(Ce,$t,dg,rk,ie,se,Or),fg=Qw(Ir),ok=Vx(fg,Le,pt,Km,is),La=Fx(fg,Le,ok,Km,is,Vi,Fi),ak=Px(aa,Le,os,pt,bi,La,lt,la,Xm,is),pg=Mx(ak),lk=Hx(ln,os,jr,pt,pg,ce,kn,cn,qe,Va),ck=$x(Ce,$t,pg,lk,ie,se,Rs),uk=Rx(an),hk=Qx(uk,ie,new WeakSet,_S),dk=bx(os,Di,pt,La,lt,is),mg=Dx(dk,lt),fk=rS(ln,mg,ce,cn,qe),pk=sS(Ce,$t,mg,fk,ie,se),mk=hS(La,ce,qe),gk=uS(Ce,Le,La,mk,ie,se,Rs),gg=Q1(tn),Xu=w1(tn),vg=new WeakMap,vk=j1(vg,kn),yk=gg?Y0(qt,lt,y1(tn),Xu,x1(q0),ie,vk,se,ki,new WeakMap,new WeakMap,oS(ki,kn),tn):void 0,_k=H1($u,se),wk=r1(Gu,qt,s1,v1,new WeakSet,ie,_k,ia,Si,Qu,Yu),yg=Dw(yk,IS,ag,MS,DS,VS,zS,US,$S,wk,GS,YS,KS,tk,sk,ik,ck,hk,pk,gk),xk=Y1(Ce,Nx,ie,se),Sk=K1(Ce,Ex,ie,se),kk=Z1(Ce,Ax,ie,se),Tk=Ox(Le,se),Ck=J1(Ce,Tk,ie),Nk=mw(yg,Le,lt,lS,xk,Sk,kk,Ck,Vi),Ku=M1(hg),Ek=J0(Ku),_g=Gw(an),Ak=u1(Ku),wg=f1(an),xg=new WeakMap,Ok=C1(xg,Ut),Ik=mx(_g,an,Le,os,Di,jr,pt,bi,lt,wg,Xu,Ok,is),jk=hx(Le,Ik,pt,lt,is),Mk=Rw(ln,_g,Ir,os,Di,jr,pt,Ak,wg,Xu,ce,ki,kn,cn,qe,Va),Pk=O1(vg),Rk=Jx(xg),Zd=gg?jw(Ek,Ce,$t,Mk,jk,st,Pk,ie,se,ki,vS,Rk,kS,Or):void 0,Dk=n1(lt,kn),bk=tS(Gu,qt,qu,Ku,Va,ia,Qu,Yu),Fk=zx(yg,qt,Le,Dk,bk),Vk=L1(Ra,$u),Lk=z1(Du,Hu),zk=W1(bu,ig),Wk=B1(Ra,se);function xt(t){return t===void 0}function Y(t){return t!==void 0}function Bk(t){return typeof t=="function"}function nn(t){return typeof t=="number"}function Qn(t){return Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object}function Sg(t){return typeof t=="boolean"}function Xe(t){return Array.isArray(t)}function sn(t){return typeof t=="string"}function uo(t){return sn(t)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(t)}function G(t,e){if(!t)throw new Error(e)}function Zn(t,e,n=1/0){if(!(e<=t&&t<=n))throw new RangeError(`Value must be within [${e}, ${n}], got: ${t}`)}function kg(t){!t.isOffline&&t.state!=="running"&&za('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let Tg=!1,Jd=!1;function ef(t){Tg=t}function Uk(t){xt(t)&&Tg&&!Jd&&(Jd=!0,za("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let Cg=console;function qk(...t){Cg.log(...t)}function za(...t){Cg.warn(...t)}function $k(t){return new Nk(t)}function Hk(t,e,n){return new Fk(t,e,n)}const vt=typeof self=="object"?self:null,Gk=vt&&(vt.hasOwnProperty("AudioContext")||vt.hasOwnProperty("webkitAudioContext"));function Qk(t,e,n){return G(Y(Zd),"AudioWorkletNode only works in a secure context (https or localhost)"),new(t instanceof(vt==null?void 0:vt.BaseAudioContext)?vt==null?void 0:vt.AudioWorkletNode:Zd)(t,e,n)}function Ht(t,e,n,s){var r=arguments.length,i=r<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,n):s,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i}function Ie(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(s.next(u))}catch(h){o(h)}}function l(u){try{c(s.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):r(u.value).then(a,l)}c((s=s.apply(t,e||[])).next())})}class Yk{constructor(e,n,s,r){this._callback=e,this._type=n,this._minimumUpdateInterval=Math.max(128/(r||44100),.001),this.updateInterval=s,this._createClock()}_createWorker(){const e=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),n=URL.createObjectURL(e),s=new Worker(n);s.onmessage=this._callback.bind(this),this._worker=s}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){var n;this._updateInterval=Math.max(e,this._minimumUpdateInterval),this._type==="worker"&&((n=this._worker)===null||n===void 0||n.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}}function Es(t){return zk(t)}function Yn(t){return Lk(t)}function No(t){return Wk(t)}function zs(t){return Vk(t)}function Xk(t){return t instanceof ag}function Kk(t,e){return t==="value"||Es(e)||Yn(e)||Xk(e)}function ws(t,...e){if(!e.length)return t;const n=e.shift();if(Qn(t)&&Qn(n))for(const s in n)Kk(s,n[s])?t[s]=n[s]:Qn(n[s])?(t[s]||Object.assign(t,{[s]:{}}),ws(t[s],n[s])):Object.assign(t,{[s]:n[s]});return ws(t,...e)}function Zk(t,e){return t.length===e.length&&t.every((n,s)=>e[s]===n)}function H(t,e,n=[],s){const r={},i=Array.from(e);if(Qn(i[0])&&s&&!Reflect.has(i[0],s)&&(Object.keys(i[0]).some(a=>Reflect.has(t,a))||(ws(r,{[s]:i[0]}),n.splice(n.indexOf(s),1),i.shift())),i.length===1&&Qn(i[0]))ws(r,i[0]);else for(let o=0;o<n.length;o++)Y(i[o])&&(r[n[o]]=i[o]);return ws(t,r)}function Jk(t){return t.constructor.getDefaults()}function Jt(t,e){return xt(t)?e:t}function Fn(t,e){return e.forEach(n=>{Reflect.has(t,n)&&delete t[n]}),t}/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2024 Yotam Mann
 */class Tn{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...e){(this.debug||vt&&this.toString()===vt.TONE_DEBUG_CLASS)&&qk(this,...e)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}Tn.version=Om;const Zu=1e-6;function wr(t,e){return t>e+Zu}function Fc(t,e){return wr(t,e)||Ft(t,e)}function da(t,e){return t+Zu<e}function Ft(t,e){return Math.abs(t-e)<Zu}function eT(t,e,n){return Math.max(Math.min(t,n),e)}class It extends Tn{constructor(){super(),this.name="Timeline",this._timeline=[];const e=H(It.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(G(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length){const n=this._timeline[this.length-1];G(Fc(e.time,n.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e)}else{const n=this._search(e.time);this._timeline.splice(n+1,0,e)}if(this.length>this.memory){const n=this.length-this.memory;this._timeline.splice(0,n)}return this}remove(e){const n=this._timeline.indexOf(e);return n!==-1&&this._timeline.splice(n,1),this}get(e,n="time"){const s=this._search(e,n);return s!==-1?this._timeline[s]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e,n="time"){const s=this._search(e,n);return s+1<this._timeline.length?this._timeline[s+1]:null}getBefore(e){const n=this._timeline.length;if(n>0&&this._timeline[n-1].time<e)return this._timeline[n-1];const s=this._search(e);return s-1>=0?this._timeline[s-1]:null}cancel(e){if(this._timeline.length>1){let n=this._search(e);if(n>=0)if(Ft(this._timeline[n].time,e)){for(let s=n;s>=0&&Ft(this._timeline[s].time,e);s--)n=s;this._timeline=this._timeline.slice(0,n)}else this._timeline=this._timeline.slice(0,n+1);else this._timeline=[]}else this._timeline.length===1&&Fc(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){const n=this._search(e);return n>=0&&(this._timeline=this._timeline.slice(n+1)),this}previousEvent(e){const n=this._timeline.indexOf(e);return n>0?this._timeline[n-1]:null}_search(e,n="time"){if(this._timeline.length===0)return-1;let s=0;const r=this._timeline.length;let i=r;if(r>0&&this._timeline[r-1][n]<=e)return r-1;for(;s<i;){let o=Math.floor(s+(i-s)/2);const a=this._timeline[o],l=this._timeline[o+1];if(Ft(a[n],e)){for(let c=o;c<this._timeline.length;c++){const u=this._timeline[c];if(Ft(u[n],e))o=c;else break}return o}else{if(da(a[n],e)&&wr(l[n],e))return o;wr(a[n],e)?i=o:s=o+1}}return-1}_iterate(e,n=0,s=this._timeline.length-1){this._timeline.slice(n,s+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,n){const s=this._search(e);return s!==-1&&this._iterate(n,0,s),this}forEachAfter(e,n){const s=this._search(e);return this._iterate(n,s+1),this}forEachBetween(e,n,s){let r=this._search(e),i=this._search(n);return r!==-1&&i!==-1?(this._timeline[r].time!==e&&(r+=1),this._timeline[i].time===n&&(i-=1),this._iterate(s,r,i)):r===-1&&this._iterate(s,0,i),this}forEachFrom(e,n){let s=this._search(e);for(;s>=0&&this._timeline[s].time>=e;)s--;return this._iterate(n,s+1),this}forEachAtTime(e,n){const s=this._search(e);if(s!==-1&&Ft(this._timeline[s].time,e)){let r=s;for(let i=s;i>=0&&Ft(this._timeline[i].time,e);i--)r=i;this._iterate(i=>{n(i)},r,s)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const Ng=[];function Wa(t){Ng.push(t)}function tT(t){Ng.forEach(e=>e(t))}const Eg=[];function Ba(t){Eg.push(t)}function nT(t){Eg.forEach(e=>e(t))}class Li extends Tn{constructor(){super(...arguments),this.name="Emitter"}on(e,n){return e.split(/\W+/).forEach(r=>{xt(this._events)&&(this._events={}),this._events.hasOwnProperty(r)||(this._events[r]=[]),this._events[r].push(n)}),this}once(e,n){const s=(...r)=>{n(...r),this.off(e,s)};return this.on(e,s),this}off(e,n){return e.split(/\W+/).forEach(r=>{if(xt(this._events)&&(this._events={}),this._events.hasOwnProperty(r))if(xt(n))this._events[r]=[];else{const i=this._events[r];for(let o=i.length-1;o>=0;o--)i[o]===n&&i.splice(o,1)}}),this}emit(e,...n){if(this._events&&this._events.hasOwnProperty(e)){const s=this._events[e].slice(0);for(let r=0,i=s.length;r<i;r++)s[r].apply(this,n)}return this}static mixin(e){["on","once","off","emit"].forEach(n=>{const s=Object.getOwnPropertyDescriptor(Li.prototype,n);Object.defineProperty(e.prototype,n,s)})}dispose(){return super.dispose(),this._events=void 0,this}}class Ag extends Li{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class zi extends Ag{constructor(){var e,n;super(),this.name="Context",this._constants=new Map,this._timeouts=new It,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const s=H(zi.getDefaults(),arguments,["context"]);s.context?(this._context=s.context,this._latencyHint=((e=arguments[0])===null||e===void 0?void 0:e.latencyHint)||""):(this._context=$k({latencyHint:s.latencyHint}),this._latencyHint=s.latencyHint),this._ticker=new Yk(this.emit.bind(this,"tick"),s.clockSource,s.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((n=arguments[0])===null||n===void 0)&&n.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=s.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(tT(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,n,s){return this._context.createBuffer(e,n,s)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,n){return this._context.createIIRFilter(e,n)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,n,s){return this._context.createPeriodicWave(e,n,s)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){return G(zs(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(e)}createMediaElementSource(e){return G(zs(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(e)}createMediaStreamDestination(){return G(zs(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){G(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){G(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){G(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){G(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,n){return Qk(this.rawContext,e,n)}addAudioWorkletModule(e){return Ie(this,void 0,void 0,function*(){G(Y(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(e)),yield this._workletPromise})}workletsAreReady(){return Ie(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get lookAhead(){return this._lookAhead}set lookAhead(e){this._lookAhead=e,this.updateInterval=e?e/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return zs(this._context)?this._context.resume():Promise.resolve()}close(){return Ie(this,void 0,void 0,function*(){zs(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&nT(this)})}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{const n=this._context.createBuffer(1,128,this._context.sampleRate),s=n.getChannelData(0);for(let i=0;i<s.length;i++)s[i]=e;const r=this._context.createBufferSource();return r.channelCount=1,r.channelCountMode="explicit",r.buffer=n,r.loop=!0,r.start(0),this._constants.set(e,r),r}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(e=>this._constants[e].disconnect()),this.close(),this}_timeoutLoop(){const e=this.now();let n=this._timeouts.peek();for(;this._timeouts.length&&n&&n.time<=e;)n.callback(),this._timeouts.shift(),n=this._timeouts.peek()}setTimeout(e,n){this._timeoutIds++;const s=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:s+n}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach(n=>{n.id===e&&this._timeouts.remove(n)}),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,n){const s=++this._timeoutIds,r=()=>{const i=this.now();this._timeouts.add({callback:()=>{e(),r()},id:s,time:i+n})};return r(),s}}class sT extends Ag{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,n,s){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,n){return{}}createPanner(){return{}}createPeriodicWave(e,n,s){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,n){return{}}get rawContext(){return{}}addAudioWorkletModule(e){return Ie(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(e,n){return 0}clearTimeout(e){return this}setInterval(e,n){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}}function ve(t,e){Xe(e)?e.forEach(n=>ve(t,n)):Object.defineProperty(t,e,{enumerable:!0,writable:!1})}function Og(t,e){Xe(e)?e.forEach(n=>Og(t,n)):Object.defineProperty(t,e,{writable:!0})}const te=()=>{};class ae extends Tn{constructor(){super(),this.name="ToneAudioBuffer",this.onload=te;const e=H(ae.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=e.reverse,this.onload=e.onload,sn(e.url)?this.load(e.url).catch(e.onerror):e.url&&this.set(e.url)}static getDefaults(){return{onerror:te,onload:te,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:Vt().sampleRate}set(e){return e instanceof ae?e.loaded?this._buffer=e.get():e.onload=()=>{this.set(e),this.onload(this)}:this._buffer=e,this._reversed&&this._reverse(),this}get(){return this._buffer}load(e){return Ie(this,void 0,void 0,function*(){const n=ae.load(e).then(s=>{this.set(s),this.onload(this)});ae.downloads.push(n);try{yield n}finally{const s=ae.downloads.indexOf(n);ae.downloads.splice(s,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(e){const n=Xe(e)&&e[0].length>0,s=n?e.length:1,r=n?e[0].length:e.length,i=Vt(),o=i.createBuffer(s,r,i.sampleRate),a=!n&&s===1?[e]:e;for(let l=0;l<s;l++)o.copyToChannel(a[l],l);return this._buffer=o,this}toMono(e){if(nn(e))this.fromArray(this.toArray(e));else{let n=new Float32Array(this.length);const s=this.numberOfChannels;for(let r=0;r<s;r++){const i=this.toArray(r);for(let o=0;o<i.length;o++)n[o]+=i[o]}n=n.map(r=>r/s),this.fromArray(n)}return this}toArray(e){if(nn(e))return this.getChannelData(e);if(this.numberOfChannels===1)return this.toArray(0);{const n=[];for(let s=0;s<this.numberOfChannels;s++)n[s]=this.getChannelData(s);return n}}getChannelData(e){return this._buffer?this._buffer.getChannelData(e):new Float32Array(0)}slice(e,n=this.duration){G(this.loaded,"Buffer is not loaded");const s=Math.floor(e*this.sampleRate),r=Math.floor(n*this.sampleRate);G(s<r,"The start time must be less than the end time");const i=r-s,o=Vt().createBuffer(this.numberOfChannels,i,this.sampleRate);for(let a=0;a<this.numberOfChannels;a++)o.copyToChannel(this.getChannelData(a).subarray(s,r),a);return new ae(o)}_reverse(){if(this.loaded)for(let e=0;e<this.numberOfChannels;e++)this.getChannelData(e).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(e){this._reversed!==e&&(this._reversed=e,this._reverse())}static fromArray(e){return new ae().fromArray(e)}static fromUrl(e){return Ie(this,void 0,void 0,function*(){return yield new ae().load(e)})}static load(e){return Ie(this,void 0,void 0,function*(){const n=e.match(/\[([^\]\[]+\|.+)\]$/);if(n){const l=n[1].split("|");let c=l[0];for(const u of l)if(ae.supportsType(u)){c=u;break}e=e.replace(n[0],c)}const s=ae.baseUrl===""||ae.baseUrl.endsWith("/")?ae.baseUrl:ae.baseUrl+"/",r=document.createElement("a");r.href=s+e,r.pathname=(r.pathname+r.hash).split("/").map(encodeURIComponent).join("/");const i=yield fetch(r.href);if(!i.ok)throw new Error(`could not load url: ${e}`);const o=yield i.arrayBuffer();return yield Vt().decodeAudioData(o)})}static supportsType(e){const n=e.split("."),s=n[n.length-1];return document.createElement("audio").canPlayType("audio/"+s)!==""}static loaded(){return Ie(this,void 0,void 0,function*(){for(yield Promise.resolve();ae.downloads.length;)yield ae.downloads[0]})}}ae.baseUrl="";ae.downloads=[];class Ju extends zi{constructor(){super({clockSource:"offline",context:No(arguments[0])?arguments[0]:Hk(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:No(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=No(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return Ie(this,void 0,void 0,function*(){let n=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,n++;const s=Math.floor(this.sampleRate/128);e&&n%s===0&&(yield new Promise(r=>setTimeout(r,1)))}})}render(){return Ie(this,arguments,void 0,function*(e=!0){yield this.workletsAreReady(),yield this._renderClock(e);const n=yield this._context.startRendering();return new ae(n)})}close(){return Promise.resolve()}}const Ig=new sT;let ms=Ig;function Vt(){return ms===Ig&&Gk&&rT(new zi),ms}function rT(t,e=!1){e&&ms.dispose(),zs(t)?ms=new zi(t):No(t)?ms=new Ju(t):ms=t}function eh(){return ms.resume()}if(vt&&!vt.TONE_SILENCE_LOGGING){const e=` * Tone.js v${Om} * `;console.log(`%c${e}`,"background: #000; color: #fff")}function iT(t){return Math.pow(10,t/20)}function oT(t){return 20*(Math.log(t)/Math.LN10)}function jg(t){return Math.pow(2,t/12)}let Ua=440;function aT(){return Ua}function lT(t){Ua=t}function gs(t){return Math.round(Mg(t))}function Mg(t){return 69+12*Math.log2(t/Ua)}function Pg(t){return Ua*Math.pow(2,(t-69)/12)}class th extends Tn{constructor(e,n,s){super(),this.defaultUnits="s",this._val=n,this._units=s,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,n)=>{const s=parseInt(e,10),r=n==="."?1.5:1;return s===1?this._beatsToUnits(this._getTimeSignature())*r:this._beatsToUnits(4/s)*r},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{const n=parseInt(e,10);return this._beatsToUnits(8/(Math.floor(n)*3))},regexp:/^(\d+)t$/i},tr:{method:(e,n,s)=>{let r=0;return e&&e!=="0"&&(r+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(r+=this._beatsToUnits(parseFloat(n))),s&&s!=="0"&&(r+=this._beatsToUnits(parseFloat(s)/4)),r},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof th&&this.fromType(this._val),xt(this._val))return this._noArg();if(sn(this._val)&&xt(this._units)){for(const e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(Qn(this._val)){let e=0;for(const n in this._val)if(Y(this._val[n])){const s=this._val[n],r=new this.constructor(this.context,n).valueOf()*s;e+=r}return e}if(Y(this._units)){const e=this._expressions[this._units],n=this._val.toString().trim().match(e.regexp);return n?e.method.apply(this,n.slice(1)):e.method.call(this,this._val)}else return sn(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class Lt extends th{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{const n=new Lt(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(n))},regexp:/^@(.+)/}})}quantize(e,n=1){const s=new this.constructor(this.context,e).valueOf(),r=this.valueOf(),a=Math.round(r/s)*s-r;return r+a*n}toNotation(){const e=this.toSeconds(),n=["1m"];for(let i=1;i<9;i++){const o=Math.pow(2,i);n.push(o+"n."),n.push(o+"n"),n.push(o+"t")}n.push("0");let s=n[0],r=new Lt(this.context,n[0]).toSeconds();return n.forEach(i=>{const o=new Lt(this.context,i).toSeconds();Math.abs(o-e)<Math.abs(r-e)&&(s=i,r=o)}),s}toBarsBeatsSixteenths(){const e=this._beatsToUnits(1);let n=this.valueOf()/e;n=parseFloat(n.toFixed(4));const s=Math.floor(n/this._getTimeSignature());let r=n%1*4;n=Math.floor(n)%this._getTimeSignature();const i=r.toString();return i.length>3&&(r=parseFloat(parseFloat(i).toFixed(3))),[s,n,r].join(":")}toTicks(){const e=this._beatsToUnits(1);return this.valueOf()/e*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return gs(this.toFrequency())}_now(){return this.context.now()}}class _t extends Lt{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return aT()}static set A4(e){lT(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return this.defaultUnits==="midi"?e:_t.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(e,n){const r=cT[e.toLowerCase()]+(parseInt(n,10)+1)*12;return this.defaultUnits==="midi"?r:_t.mtof(r)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,n,s){let r=1;return e&&e!=="0"&&(r*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(r*=this._beatsToUnits(parseFloat(n))),s&&s!=="0"&&(r*=this._beatsToUnits(parseFloat(s)/4)),r}}})}transpose(e){return new _t(this.context,this.valueOf()*jg(e))}harmonize(e){return e.map(n=>this.transpose(n))}toMidi(){return gs(this.valueOf())}toNote(){const e=this.toFrequency(),n=Math.log2(e/_t.A4);let s=Math.round(12*n)+57;const r=Math.floor(s/12);return r<0&&(s+=-12*r),uT[s%12]+r.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const e=this._beatsToUnits(1),n=this.valueOf()/e;return Math.floor(n*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(e*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return Pg(e)}static ftom(e){return gs(e)}}const cT={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},uT=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class ar extends Lt{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class Ke extends Tn{constructor(){super();const e=H(Ke.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=e.context}static getDefaults(){return{context:Vt()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return Uk(e),new Lt(this.context,e).toSeconds()}toFrequency(e){return new _t(this.context,e).toFrequency()}toTicks(e){return new ar(this.context,e).toTicks()}_getPartialProperties(e){const n=this.get();return Object.keys(n).forEach(s=>{xt(e[s])&&delete n[s]}),n}get(){const e=Jk(this);return Object.keys(e).forEach(n=>{if(Reflect.has(this,n)){const s=this[n];Y(s)&&Y(s.value)&&Y(s.setValueAtTime)?e[n]=s.value:s instanceof Ke?e[n]=s._getPartialProperties(e[n]):Xe(s)||nn(s)||sn(s)||Sg(s)?e[n]=s:delete e[n]}}),e}set(e){return Object.keys(e).forEach(n=>{Reflect.has(this,n)&&Y(this[n])&&(this[n]&&Y(this[n].value)&&Y(this[n].setValueAtTime)?this[n].value!==e[n]&&(this[n].value=e[n]):this[n]instanceof Ke?this[n].set(e[n]):this[n]=e[n])}),this}}class Wi extends It{constructor(e="stopped"){super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){const n=this.get(e);return n!==null?n.state:this._initial}setStateAtTime(e,n,s){return Zn(n,0),this.add(Object.assign({},s,{state:e,time:n})),this}getLastState(e,n){const s=this._search(n);for(let r=s;r>=0;r--){const i=this._timeline[r];if(i.state===e)return i}}getNextState(e,n){const s=this._search(n);if(s!==-1)for(let r=s;r<this._timeline.length;r++){const i=this._timeline[r];if(i.state===e)return i}}}class fe extends Ke{constructor(){const e=H(fe.getDefaults(),arguments,["param","units","convert"]);for(super(e),this.name="Param",this.overridden=!1,this._minOutput=1e-7,G(Y(e.param)&&(Es(e.param)||e.param instanceof fe),"param must be an AudioParam");!Es(e.param);)e.param=e.param._param;this._swappable=Y(e.swappable)?e.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new It(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,Y(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Ke.getDefaults(),{convert:!0,units:"number"})}get value(){const e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return Y(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return Y(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(e,n){return this.units===n}_assertRange(e){return Y(this.maxValue)&&Y(this.minValue)&&Zn(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?iT(e):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e}_toType(e){return this.convert&&this.units==="decibels"?oT(e):e}setValueAtTime(e,n){const s=this.toSeconds(n),r=this._fromType(e);return G(isFinite(r)&&isFinite(s),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(r),this.log(this.units,"setValueAtTime",e,s),this._events.add({time:s,type:"setValueAtTime",value:r}),this._param.setValueAtTime(r,s),this}getValueAtTime(e){const n=Math.max(this.toSeconds(e),0),s=this._events.getAfter(n),r=this._events.get(n);let i=this._initialValue;if(r===null)i=this._initialValue;else if(r.type==="setTargetAtTime"&&(s===null||s.type==="setValueAtTime")){const o=this._events.getBefore(r.time);let a;o===null?a=this._initialValue:a=o.value,r.type==="setTargetAtTime"&&(i=this._exponentialApproach(r.time,a,r.value,r.constant,n))}else if(s===null)i=r.value;else if(s.type==="linearRampToValueAtTime"||s.type==="exponentialRampToValueAtTime"){let o=r.value;if(r.type==="setTargetAtTime"){const a=this._events.getBefore(r.time);a===null?o=this._initialValue:o=a.value}s.type==="linearRampToValueAtTime"?i=this._linearInterpolate(r.time,o,s.time,s.value,n):i=this._exponentialInterpolate(r.time,o,s.time,s.value,n)}else i=r.value;return this._toType(i)}setRampPoint(e){e=this.toSeconds(e);let n=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),this._fromType(n)===0&&(n=this._toType(this._minOutput)),this.setValueAtTime(n,e),this}linearRampToValueAtTime(e,n){const s=this._fromType(e),r=this.toSeconds(n);return G(isFinite(s)&&isFinite(r),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(s),this._events.add({time:r,type:"linearRampToValueAtTime",value:s}),this.log(this.units,"linearRampToValueAtTime",e,r),this._param.linearRampToValueAtTime(s,r),this}exponentialRampToValueAtTime(e,n){let s=this._fromType(e);s=Ft(s,0)?this._minOutput:s,this._assertRange(s);const r=this.toSeconds(n);return G(isFinite(s)&&isFinite(r),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({time:r,type:"exponentialRampToValueAtTime",value:s}),this.log(this.units,"exponentialRampToValueAtTime",e,r),this._param.exponentialRampToValueAtTime(s,r),this}exponentialRampTo(e,n,s){return s=this.toSeconds(s),this.setRampPoint(s),this.exponentialRampToValueAtTime(e,s+this.toSeconds(n)),this}linearRampTo(e,n,s){return s=this.toSeconds(s),this.setRampPoint(s),this.linearRampToValueAtTime(e,s+this.toSeconds(n)),this}targetRampTo(e,n,s){return s=this.toSeconds(s),this.setRampPoint(s),this.exponentialApproachValueAtTime(e,s,n),this}exponentialApproachValueAtTime(e,n,s){n=this.toSeconds(n),s=this.toSeconds(s);const r=Math.log(s+1)/Math.log(200);return this.setTargetAtTime(e,n,r),this.cancelAndHoldAtTime(n+s*.9),this.linearRampToValueAtTime(e,n+s),this}setTargetAtTime(e,n,s){const r=this._fromType(e);G(isFinite(s)&&s>0,"timeConstant must be a number greater than 0");const i=this.toSeconds(n);return this._assertRange(r),G(isFinite(r)&&isFinite(i),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({constant:s,time:i,type:"setTargetAtTime",value:r}),this.log(this.units,"setTargetAtTime",e,i,s),this._param.setTargetAtTime(r,i,s),this}setValueCurveAtTime(e,n,s,r=1){s=this.toSeconds(s),n=this.toSeconds(n);const i=this._fromType(e[0])*r;this.setValueAtTime(this._toType(i),n);const o=s/(e.length-1);for(let a=1;a<e.length;a++){const l=this._fromType(e[a])*r;this.linearRampToValueAtTime(this._toType(l),n+a*o)}return this}cancelScheduledValues(e){const n=this.toSeconds(e);return G(isFinite(n),`Invalid argument to cancelScheduledValues: ${JSON.stringify(e)}`),this._events.cancel(n),this._param.cancelScheduledValues(n),this.log(this.units,"cancelScheduledValues",n),this}cancelAndHoldAtTime(e){const n=this.toSeconds(e),s=this._fromType(this.getValueAtTime(n));G(isFinite(n),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(e)}`),this.log(this.units,"cancelAndHoldAtTime",n,"value="+s);const r=this._events.get(n),i=this._events.getAfter(n);return r&&Ft(r.time,n)?i?(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time)):(this._param.cancelAndHoldAtTime(n),this._events.cancel(n+this.sampleTime)):i&&(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time),i.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(s),n):i.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(s),n)),this._events.add({time:n,type:"setValueAtTime",value:s}),this._param.setValueAtTime(s,n),this}rampTo(e,n=.1,s){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(e,n,s):this.linearRampTo(e,n,s),this}apply(e){const n=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(n),n);const s=this._events.get(n);if(s&&s.type==="setTargetAtTime"){const r=this._events.getAfter(s.time),i=r?r.time:n+2,o=(i-n)/10;for(let a=n;a<i;a+=o)e.linearRampToValueAtTime(this.getValueAtTime(a),a)}return this._events.forEachAfter(this.context.currentTime,r=>{r.type==="cancelScheduledValues"?e.cancelScheduledValues(r.time):r.type==="setTargetAtTime"?e.setTargetAtTime(r.value,r.time,r.constant):e[r.type](r.value,r.time)}),this}setParam(e){G(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const n=this.input;return n.disconnect(this._param),this.apply(e),this._param=e,n.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,n,s,r,i){return s+(n-s)*Math.exp(-(i-e)/r)}_linearInterpolate(e,n,s,r,i){return n+(r-n)*((i-e)/(s-e))}_exponentialInterpolate(e,n,s,r,i){return n*Math.pow(r/n,(i-e)/(s-e))}}class X extends Ke{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return Y(this.input)?Es(this.input)||this.input instanceof fe?1:this.input.numberOfInputs:0}get numberOfOutputs(){return Y(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return Y(e)&&(e instanceof X||Yn(e))}_getInternalNodes(){const e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach(s=>{s.channelCount=e.channelCount,s.channelCountMode=e.channelCountMode,s.channelInterpretation=e.channelInterpretation})}_getChannelProperties(){const e=this._getInternalNodes();G(e.length>0,"ToneAudioNode does not have any internal nodes");const n=e[0];return{channelCount:n.channelCount,channelCountMode:n.channelCountMode,channelInterpretation:n.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelInterpretation:e}))}connect(e,n=0,s=0){return Mr(this,e,n,s),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return za("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e,n=0,s=0){return hT(this,e,n,s),this}chain(...e){return Vc(this,...e),this}fan(...e){return e.forEach(n=>this.connect(n)),this}dispose(){return super.dispose(),Y(this.input)&&(this.input instanceof X?this.input.dispose():Yn(this.input)&&this.input.disconnect()),Y(this.output)&&(this.output instanceof X?this.output.dispose():Yn(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function Vc(...t){const e=t.shift();t.reduce((n,s)=>(n instanceof X?n.connect(s):Yn(n)&&Mr(n,s),s),e)}function Mr(t,e,n=0,s=0){for(G(Y(t),"Cannot connect from undefined node"),G(Y(e),"Cannot connect to undefined node"),(e instanceof X||Yn(e))&&G(e.numberOfInputs>0,"Cannot connect to node with no inputs"),G(t.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof X||e instanceof fe;)Y(e.input)&&(e=e.input);for(;t instanceof X;)Y(t.output)&&(t=t.output);Es(e)?t.connect(e,n):t.connect(e,n,s)}function hT(t,e,n=0,s=0){if(Y(e))for(;e instanceof X;)e=e.input;for(;!Yn(t);)Y(t.output)&&(t=t.output);Es(e)?t.disconnect(e,n):Yn(e)?t.disconnect(e,n,s):t.disconnect()}class Be extends X{constructor(){const e=H(Be.getDefaults(),arguments,["gain","units"]);super(e),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode,this.gain=new fe({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),ve(this,"gain")}static getDefaults(){return Object.assign(X.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class xr extends X{constructor(e){super(e),this.onended=te,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new Be({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(n){const s=this.toSeconds(n);return this._startTime!==-1&&s>=this._startTime&&(this._stopTime===-1||s<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign(X.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:te})}_startGain(e,n=1){G(this._startTime===-1,"Source cannot be started more than once");const s=this.toSeconds(this._fadeIn);return this._startTime=e+s,this._startTime=Math.max(this._startTime,this.context.currentTime),s>0?(this._gainNode.gain.setValueAtTime(0,e),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(n,e+s):this._gainNode.gain.exponentialApproachValueAtTime(n,e,s)):this._gainNode.gain.setValueAtTime(n,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){G(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const n=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+n,this._stopTime=Math.max(this._stopTime,this.now()),n>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,n,e):this._gainNode.gain.targetRampTo(0,n,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const s=this._curve==="exponential"?n*2:0;this._stopSource(this.now()+s),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==te&&(this.onended(this),this.onended=te,!this.context.isOffline)){const e=()=>this.dispose();typeof window.requestIdleCallback<"u"?window.requestIdleCallback(e):setTimeout(e,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),G(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=te,this}}class nh extends xr{constructor(){const e=H(nh.getDefaults(),arguments,["offset"]);super(e),this.name="ToneConstantSource",this._source=this.context.createConstantSource(),Mr(this._source,this._gainNode),this.offset=new fe({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign(xr.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){const n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._source.start(n),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class je extends X{constructor(){const e=H(je.getDefaults(),arguments,["value","units"]);super(e),this.name="Signal",this.override=!0,this.output=this._constantSource=new nh({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(X.getDefaults(),{convert:!0,units:"number",value:0})}connect(e,n=0,s=0){return sh(this,e,n,s),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,n){return this._param.setValueAtTime(e,n),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,n){return this._param.linearRampToValueAtTime(e,n),this}exponentialRampToValueAtTime(e,n){return this._param.exponentialRampToValueAtTime(e,n),this}exponentialRampTo(e,n,s){return this._param.exponentialRampTo(e,n,s),this}linearRampTo(e,n,s){return this._param.linearRampTo(e,n,s),this}targetRampTo(e,n,s){return this._param.targetRampTo(e,n,s),this}exponentialApproachValueAtTime(e,n,s){return this._param.exponentialApproachValueAtTime(e,n,s),this}setTargetAtTime(e,n,s){return this._param.setTargetAtTime(e,n,s),this}setValueCurveAtTime(e,n,s,r){return this._param.setValueCurveAtTime(e,n,s,r),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,n,s){return this._param.rampTo(e,n,s),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}}function sh(t,e,n,s){(e instanceof fe||Es(e)||e instanceof je&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof je&&(e.overridden=!0)),Mr(t,e,n,s)}class rh extends fe{constructor(){const e=H(rh.getDefaults(),arguments,["value"]);super(e),this.name="TickParam",this._events=new It(1/0),this._multiplier=1,this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(fe.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,n,s){n=this.toSeconds(n),this.setRampPoint(n);const r=this._fromType(e),i=this._events.get(n),o=Math.round(Math.max(1/s,1));for(let a=0;a<=o;a++){const l=s*a+n,c=this._exponentialApproach(i.time,i.value,r,s,l);this.linearRampToValueAtTime(this._toType(c),l)}return this}setValueAtTime(e,n){const s=this.toSeconds(n);super.setValueAtTime(e,n);const r=this._events.get(s),i=this._events.previousEvent(r),o=this._getTicksUntilEvent(i,s);return r.ticks=Math.max(o,0),this}linearRampToValueAtTime(e,n){const s=this.toSeconds(n);super.linearRampToValueAtTime(e,n);const r=this._events.get(s),i=this._events.previousEvent(r),o=this._getTicksUntilEvent(i,s);return r.ticks=Math.max(o,0),this}exponentialRampToValueAtTime(e,n){n=this.toSeconds(n);const s=this._fromType(e),r=this._events.get(n),i=Math.round(Math.max((n-r.time)*10,1)),o=(n-r.time)/i;for(let a=0;a<=i;a++){const l=o*a+r.time,c=this._exponentialInterpolate(r.time,r.value,n,s,l);this.linearRampToValueAtTime(this._toType(c),l)}return this}_getTicksUntilEvent(e,n){if(e===null)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(xt(e.ticks)){const o=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(o,e.time)}const s=this._fromType(this.getValueAtTime(e.time));let r=this._fromType(this.getValueAtTime(n));const i=this._events.get(n);return i&&i.time===n&&i.type==="setValueAtTime"&&(r=this._fromType(this.getValueAtTime(n-this.sampleTime))),.5*(n-e.time)*(s+r)+e.ticks}getTicksAtTime(e){const n=this.toSeconds(e),s=this._events.get(n);return Math.max(this._getTicksUntilEvent(s,n),0)}getDurationOfTicks(e,n){const s=this.toSeconds(n),r=this.getTicksAtTime(n);return this.getTimeOfTick(r+e)-s}getTimeOfTick(e){const n=this._events.get(e,"ticks"),s=this._events.getAfter(e,"ticks");if(n&&n.ticks===e)return n.time;if(n&&s&&s.type==="linearRampToValueAtTime"&&n.value!==s.value){const r=this._fromType(this.getValueAtTime(n.time)),o=(this._fromType(this.getValueAtTime(s.time))-r)/(s.time-n.time),a=Math.sqrt(Math.pow(r,2)-2*o*(n.ticks-e)),l=(-r+a)/o,c=(-r-a)/o;return(l>0?l:c)+n.time}else return n?n.value===0?1/0:n.time+(e-n.ticks)/n.value:e/this._initialValue}ticksToTime(e,n){return this.getDurationOfTicks(e,n)}timeToTicks(e,n){const s=this.toSeconds(n),r=this.toSeconds(e),i=this.getTicksAtTime(s);return this.getTicksAtTime(s+r)-i}_fromType(e){return this.units==="bpm"&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return this.units==="bpm"&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){const n=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(n,0)}}class ih extends je{constructor(){const e=H(ih.getDefaults(),arguments,["value"]);super(e),this.name="TickSignal",this.input=this._param=new rh({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(je.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,n){return this._param.ticksToTime(e,n)}timeToTicks(e,n){return this._param.timeToTicks(e,n)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,n){return this._param.getDurationOfTicks(e,n)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}}class oh extends Ke{constructor(){const e=H(oh.getDefaults(),arguments,["frequency"]);super(e),this.name="TickSource",this._state=new Wi,this._tickOffset=new It,this._ticksAtTime=new It,this._secondsAtTime=new It,this.frequency=new ih({context:this.context,units:e.units,value:e.frequency}),ve(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},Ke.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,n){const s=this.toSeconds(e);return this._state.getValueAtTime(s)!=="started"&&(this._state.setStateAtTime("started",s),Y(n)&&this.setTicksAtTime(n,s),this._ticksAtTime.cancel(s),this._secondsAtTime.cancel(s)),this}stop(e){const n=this.toSeconds(e);if(this._state.getValueAtTime(n)==="stopped"){const s=this._state.get(n);s&&s.time>0&&(this._tickOffset.cancel(s.time),this._state.cancel(s.time))}return this._state.cancel(n),this._state.setStateAtTime("stopped",n),this.setTicksAtTime(0,n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n),this}pause(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&(this._state.setStateAtTime("paused",n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n)),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}getTicksAtTime(e){const n=this.toSeconds(e),s=this._state.getLastState("stopped",n),r=this._ticksAtTime.get(n),i={state:"paused",time:n};this._state.add(i);let o=r||s,a=r?r.ticks:0,l=null;return this._state.forEachBetween(o.time,n+this.sampleTime,c=>{let u=o.time;const h=this._tickOffset.get(c.time);h&&h.time>=o.time&&(a=h.ticks,u=h.time),o.state==="started"&&c.state!=="started"&&(a+=this.frequency.getTicksAtTime(c.time)-this.frequency.getTicksAtTime(u),c.time!==i.time&&(l={state:c.state,time:c.time,ticks:a})),o=c}),this._state.remove(i),l&&this._ticksAtTime.add(l),a}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){const n=this.now(),s=this.frequency.timeToTicks(e,n);this.setTicksAtTime(s,n)}getSecondsAtTime(e){e=this.toSeconds(e);const n=this._state.getLastState("stopped",e),s={state:"paused",time:e};this._state.add(s);const r=this._secondsAtTime.get(e);let i=r||n,o=r?r.seconds:0,a=null;return this._state.forEachBetween(i.time,e+this.sampleTime,l=>{let c=i.time;const u=this._tickOffset.get(l.time);u&&u.time>=i.time&&(o=u.seconds,c=u.time),i.state==="started"&&l.state!=="started"&&(o+=l.time-c,l.time!==s.time&&(a={state:l.state,time:l.time,seconds:o})),i=l}),this._state.remove(s),a&&this._secondsAtTime.add(a),o}setTicksAtTime(e,n){return n=this.toSeconds(n),this._tickOffset.cancel(n),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,n),ticks:e,time:n}),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e,n=this.now()){const s=this._tickOffset.get(n),r=this._state.get(n),i=Math.max(s.time,r.time),o=this.frequency.getTicksAtTime(i)+e-s.ticks;return this.frequency.getTimeOfTick(o)}forEachTickBetween(e,n,s){let r=this._state.get(e);this._state.forEachBetween(e,n,o=>{r&&r.state==="started"&&o.state!=="started"&&this.forEachTickBetween(Math.max(r.time,e),o.time-this.sampleTime,s),r=o});let i=null;if(r&&r.state==="started"){const o=Math.max(r.time,e),a=this.frequency.getTicksAtTime(o),l=this.frequency.getTicksAtTime(r.time),c=a-l;let u=Math.ceil(c)-c;u=Ft(u,1)?0:u;let h=this.frequency.getTimeOfTick(a+u);for(;h<n;){try{s(h,Math.round(this.getTicksAtTime(h)))}catch(p){i=p;break}h+=this.frequency.getDurationOfTicks(1,h)}}if(i)throw i;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}class qa extends Ke{constructor(){const e=H(qa.getDefaults(),arguments,["callback","frequency"]);super(e),this.name="Clock",this.callback=te,this._lastUpdate=0,this._state=new Wi("stopped"),this._boundLoop=this._loop.bind(this),this.callback=e.callback,this._tickSource=new oh({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,ve(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(Ke.getDefaults(),{callback:te,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,n){kg(this.context);const s=this.toSeconds(e);return this.log("start",s),this._state.getValueAtTime(s)!=="started"&&(this._state.setStateAtTime("started",s),this._tickSource.start(s,n),s<this._lastUpdate&&this.emit("start",s,n)),this}stop(e){const n=this.toSeconds(e);return this.log("stop",n),this._state.cancel(n),this._state.setStateAtTime("stopped",n),this._tickSource.stop(n),n<this._lastUpdate&&this.emit("stop",n),this}pause(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&(this._state.setStateAtTime("paused",n),this._tickSource.pause(n),n<this._lastUpdate&&this.emit("pause",n)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,n){return this._tickSource.setTicksAtTime(e,n),this}getTimeOfTick(e,n=this.now()){return this._tickSource.getTimeOfTick(e,n)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,n){const s=this.toSeconds(n),r=this.getTicksAtTime(s);return this._tickSource.getTimeOfTick(r+e,s)}_loop(){const e=this._lastUpdate,n=this.now();this._lastUpdate=n,this.log("loop",e,n),e!==n&&(this._state.forEachBetween(e,n,s=>{switch(s.state){case"started":const r=this._tickSource.getTicksAtTime(s.time);this.emit("start",s.time,r);break;case"stopped":s.time!==0&&this.emit("stop",s.time);break;case"paused":this.emit("pause",s.time);break}}),this._tickSource.forEachTickBetween(e,n,(s,r)=>{this.callback(s,r)}))}getStateAtTime(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}Li.mixin(qa);class Pr extends X{constructor(){const e=H(Pr.getDefaults(),arguments,["volume"]);super(e),this.name="Volume",this.input=this.output=new Be({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,ve(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign(X.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class ah extends X{constructor(){const e=H(ah.getDefaults(),arguments);super(e),this.name="Destination",this.input=new Pr({context:this.context}),this.output=new Be({context:this.context}),this.volume=this.input.volume,Vc(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(X.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(...e){return this.input.disconnect(),e.unshift(this.input),e.push(this.output),Vc(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}Wa(t=>{t.destination=new ah({context:t})});Ba(t=>{t.destination.dispose()});class dT extends X{constructor(){super(...arguments),this.name="Listener",this.positionX=new fe({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new fe({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new fe({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new fe({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new fe({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new fe({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new fe({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new fe({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new fe({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(X.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}Wa(t=>{t.listener=new dT({context:t})});Ba(t=>{t.listener.dispose()});class lh extends Tn{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const e=H(lh.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach(n=>{this._loadingCount++;const s=e.urls[n];this.add(n,s,this._bufferLoaded.bind(this,e.onload),e.onerror)})}static getDefaults(){return{baseUrl:"",onerror:te,onload:te,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return G(this.has(e),`ToneAudioBuffers has no buffer named: ${e}`),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,this._loadingCount===0&&e&&e()}get loaded(){return Array.from(this._buffers).every(([e,n])=>n.loaded)}add(e,n,s=te,r=te){return sn(n)?(this.baseUrl&&n.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(e.toString(),new ae(this.baseUrl+n,s,r))):this._buffers.set(e.toString(),new ae(n,s,r)),this}dispose(){return super.dispose(),this._buffers.forEach(e=>e.dispose()),this._buffers.clear(),this}}class fa extends _t{constructor(){super(...arguments),this.name="MidiClass",this.defaultUnits="midi"}_frequencyToUnits(e){return gs(super._frequencyToUnits(e))}_ticksToUnits(e){return gs(super._ticksToUnits(e))}_beatsToUnits(e){return gs(super._beatsToUnits(e))}_secondsToUnits(e){return gs(super._secondsToUnits(e))}toMidi(){return this.valueOf()}toFrequency(){return Pg(this.toMidi())}transpose(e){return new fa(this.context,this.toMidi()+e)}}class we extends ar{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class fT extends Ke{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new It,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,n){return this._events.add({callback:e,time:this.toSeconds(n)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){const e=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=e;){const n=this._events.shift();n&&e-n.time<=this.expiration&&n.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}Wa(t=>{t.draw=new fT({context:t})});Ba(t=>{t.draw.dispose()});class pT extends Tn{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){G(Y(e.time),"Events must have a time property"),G(Y(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let n=new mT(e.time,e.time+e.duration,e);for(this._root===null?this._root=n:this._root.insert(n),this._length++;n!==null;)n.updateHeight(),n.updateMax(),this._rebalance(n),n=n.parent;return this}remove(e){if(this._root!==null){const n=[];this._root.search(e.time,n);for(const s of n)if(s.event===e){this._removeNode(s),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,n=>this.remove(n)),this}_setRoot(e){this._root=e,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(e,n){e.parent!==null?(e.isLeftChild()?e.parent.left=n:e.parent.right=n,this._rebalance(e.parent)):this._setRoot(n)}_removeNode(e){if(e.left===null&&e.right===null)this._replaceNodeInParent(e,null);else if(e.right===null)this._replaceNodeInParent(e,e.left);else if(e.left===null)this._replaceNodeInParent(e,e.right);else{const n=e.getBalance();let s,r=null;if(n>0)if(e.left.right===null)s=e.left,s.right=e.right,r=s;else{for(s=e.left.right;s.right!==null;)s=s.right;s.parent&&(s.parent.right=s.left,r=s.parent,s.left=e.left,s.right=e.right)}else if(e.right.left===null)s=e.right,s.left=e.left,r=s;else{for(s=e.right.left;s.left!==null;)s=s.left;s.parent&&(s.parent.left=s.right,r=s.parent,s.left=e.left,s.right=e.right)}e.parent!==null?e.isLeftChild()?e.parent.left=s:e.parent.right=s:this._setRoot(s),r&&this._rebalance(r)}e.dispose()}_rotateLeft(e){const n=e.parent,s=e.isLeftChild(),r=e.right;r&&(e.right=r.left,r.left=e),n!==null?s?n.left=r:n.right=r:this._setRoot(r)}_rotateRight(e){const n=e.parent,s=e.isLeftChild(),r=e.left;r&&(e.left=r.right,r.right=e),n!==null?s?n.left=r:n.right=r:this._setRoot(r)}_rebalance(e){const n=e.getBalance();n>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):n<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(this._root!==null){const n=[];if(this._root.search(e,n),n.length>0){let s=n[0];for(let r=1;r<n.length;r++)n[r].low>s.low&&(s=n[r]);return s.event}}return null}forEach(e){if(this._root!==null){const n=[];this._root.traverse(s=>n.push(s)),n.forEach(s=>{s.event&&e(s.event)})}return this}forEachAtTime(e,n){if(this._root!==null){const s=[];this._root.search(e,s),s.forEach(r=>{r.event&&n(r.event)})}return this}forEachFrom(e,n){if(this._root!==null){const s=[];this._root.searchAfter(e,s),s.forEach(r=>{r.event&&n(r.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(e=>e.dispose()),this._root=null,this}}class mT{constructor(e,n,s){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=s,this.low=e,this.high=n,this.max=this.high}insert(e){e.low<=this.low?this.left===null?this.left=e:this.left.insert(e):this.right===null?this.right=e:this.right.insert(e)}search(e,n){e>this.max||(this.left!==null&&this.left.search(e,n),this.low<=e&&this.high>e&&n.push(this),!(this.low>e)&&this.right!==null&&this.right.search(e,n))}searchAfter(e,n){this.low>=e&&(n.push(this),this.left!==null&&this.left.searchAfter(e,n)),this.right!==null&&this.right.searchAfter(e,n)}traverse(e){e(this),this.left!==null&&this.left.traverse(e),this.right!==null&&this.right.traverse(e)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return this.left!==null&&this.right!==null?e=this.left.height-this.right.height:this.left!==null?e=this.left.height+1:this.right!==null&&(e=-(this.right.height+1)),e}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class gT extends Tn{constructor(e){super(),this.name="TimelineValue",this._timeline=new It({memory:10}),this._initialValue=e}set(e,n){return this._timeline.add({value:e,time:n}),this}get(e){const n=this._timeline.get(e);return n?n.value:this._initialValue}}class Sr extends X{constructor(){super(H(Sr.getDefaults(),arguments,["context"]))}connect(e,n=0,s=0){return sh(this,e,n,s),this}}class Bi extends Sr{constructor(){const e=H(Bi.getDefaults(),arguments,["mapping","length"]);super(e),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper,Xe(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):Bk(e.mapping)&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(je.getDefaults(),{length:1024})}setMap(e,n=1024){const s=new Float32Array(n);for(let r=0,i=n;r<i;r++){const o=r/(i-1)*2-1;s[r]=e(o,r)}return this.curve=s,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){const n=["none","2x","4x"].some(s=>s.includes(e));G(n,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class ch extends Sr{constructor(){const e=H(ch.getDefaults(),arguments,["value"]);super(e),this.name="Pow",this._exponentScaler=this.input=this.output=new Bi({context:this.context,mapping:this._expFunc(e.value),length:8192}),this._exponent=e.value}static getDefaults(){return Object.assign(Sr.getDefaults(),{value:1})}_expFunc(e){return n=>Math.pow(Math.abs(n),e)}get value(){return this._exponent}set value(e){this._exponent=e,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class Jn{constructor(e,n){this.id=Jn._eventId++,this._remainderTime=0;const s=Object.assign(Jn.getDefaults(),n);this.transport=e,this.callback=s.callback,this._once=s.once,this.time=Math.floor(s.time),this._remainderTime=s.time-this.time}static getDefaults(){return{callback:te,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(e){if(this.callback){const n=this.transport.bpm.getDurationOfTicks(1,e);this.callback(e+this._remainderTime*n),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}Jn._eventId=0;class uh extends Jn{constructor(e,n){super(e,n),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const s=Object.assign(uh.getDefaults(),n);this.duration=s.duration,this._interval=s.interval,this._nextTick=s.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},Jn.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvent(){return da(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new we(this.context,this._nextTick).toSeconds()):-1}_createEvents(e){da(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new we(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const n=this.transport.getTicksAtTime(e);wr(n,this.time)&&(this._nextTick=this.floatTime+Math.ceil((n-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class $a extends Ke{constructor(){const e=H($a.getDefaults(),arguments);super(e),this.name="Transport",this._loop=new gT(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new It,this._repeatedEvents=new pT,this._syncedSignals=[],this._swingAmount=0,this._ppq=e.ppq,this._clock=new qa({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),ve(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(Ke.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,n){if(this._loop.get(e)&&n>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),n=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&n%this._ppq!==0&&n%(this._swingTicks*2)!==0){const s=n%(this._swingTicks*2)/(this._swingTicks*2),r=Math.sin(s*Math.PI)*this._swingAmount;e+=new we(this.context,this._swingTicks*2/3).toSeconds()*r}ef(!0),this._timeline.forEachAtTime(n,s=>s.invoke(e)),ef(!1)}schedule(e,n){const s=new Jn(this,{callback:e,time:new ar(this.context,n).toTicks()});return this._addEvent(s,this._timeline)}scheduleRepeat(e,n,s,r=1/0){const i=new uh(this,{callback:e,duration:new Lt(this.context,r).toTicks(),interval:new Lt(this.context,n).toTicks(),time:new ar(this.context,s).toTicks()});return this._addEvent(i,this._repeatedEvents)}scheduleOnce(e,n){const s=new Jn(this,{callback:e,once:!0,time:new ar(this.context,n).toTicks()});return this._addEvent(s,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){const n=this._scheduledEvents[e.toString()];n.timeline.remove(n.event),n.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,n){return this._scheduledEvents[e.id.toString()]={event:e,timeline:n},n.add(e),e.id}cancel(e=0){const n=this.toTicks(e);return this._timeline.forEachFrom(n,s=>this.clear(s.id)),this._repeatedEvents.forEachFrom(n,s=>this.clear(s.id)),this}_bindClockEvents(){this._clock.on("start",(e,n)=>{n=new we(this.context,n).toSeconds(),this.emit("start",e,n)}),this._clock.on("stop",e=>{this.emit("stop",e)}),this._clock.on("pause",e=>{this.emit("pause",e)})}get state(){return this._clock.getStateAtTime(this.now())}start(e,n){this.context.resume();let s;return Y(n)&&(s=this.toTicks(n)),this._clock.start(e,s),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),this._clock.getStateAtTime(e)!=="started"?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){Xe(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new Lt(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new Lt(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new we(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){const e=this.now(),n=this._clock.getTicksAtTime(e);return new we(this.context,n).toBarsBeatsSixteenths()}set position(e){const n=this.toTicks(e);this.ticks=n}get seconds(){return this._clock.seconds}set seconds(e){const n=this.now(),s=this._clock.frequency.timeToTicks(e,n);this.ticks=s}get progress(){if(this.loop){const e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){const n=this.now();if(this.state==="started"){const s=this._clock.getTicksAtTime(n),r=this._clock.frequency.getDurationOfTicks(Math.ceil(s)-s,n),i=n+r;this.emit("stop",i),this._clock.setTicksAtTime(e,i),this.emit("start",i,this._clock.getSecondsAtTime(i))}else this.emit("ticks",n),this._clock.setTicksAtTime(e,n)}}getTicksAtTime(e){return this._clock.getTicksAtTime(e)}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),this.state!=="started")return 0;{const n=this.now(),s=this.getTicksAtTime(n),r=e-s%e;return this._clock.nextTickTime(r,n)}}syncSignal(e,n){const s=this.now();let r=this.bpm,i=1/(60/r.getValueAtTime(s)/this.PPQ),o=[];if(e.units==="time"){const l=.015625/i,c=new Be(l),u=new ch(-1),h=new Be(l);r.chain(c,u,h),r=h,i=1/i,o=[c,u,h]}n||(e.getValueAtTime(s)!==0?n=e.getValueAtTime(s)/i:n=0);const a=new Be(n);return r.connect(a),a.connect(e._param),o.push(a),this._syncedSignals.push({initial:e.value,nodes:o,signal:e}),e.value=0,this}unsyncSignal(e){for(let n=this._syncedSignals.length-1;n>=0;n--){const s=this._syncedSignals[n];s.signal===e&&(s.nodes.forEach(r=>r.dispose()),s.signal.value=s.initial,this._syncedSignals.splice(n,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),Og(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}Li.mixin($a);Wa(t=>{t.transport=new $a({context:t})});Ba(t=>{t.transport.dispose()});class it extends X{constructor(e){super(e),this.input=void 0,this._state=new Wi("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=te,this._syncedStop=te,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new Pr({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,ve(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign(X.getDefaults(),{mute:!1,onstop:te,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,n,s){let r=xt(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(r=this._clampToCurrentTime(r),!this._synced&&this._state.getValueAtTime(r)==="started")G(wr(r,this._state.get(r).time),"Start time must be strictly greater than previous start time"),this._state.cancel(r),this._state.setStateAtTime("started",r),this.log("restart",r),this.restart(r,n,s);else if(this.log("start",r),this._state.setStateAtTime("started",r),this._synced){const i=this._state.get(r);i&&(i.offset=this.toSeconds(Jt(n,0)),i.duration=s?this.toSeconds(s):void 0);const o=this.context.transport.schedule(a=>{this._start(a,n,s)},r);this._scheduled.push(o),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>r&&this._syncedStart(this.now(),this.context.transport.seconds)}else kg(this.context),this._start(r,n,s);return this}stop(e){let n=xt(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(n=this._clampToCurrentTime(n),this._state.getValueAtTime(n)==="started"||Y(this._state.getNextState("started",n))){if(this.log("stop",n),!this._synced)this._stop(n);else{const s=this.context.transport.schedule(this._stop.bind(this),n);this._scheduled.push(s)}this._state.cancel(n),this._state.setStateAtTime("stopped",n)}return this}restart(e,n,s){return e=this.toSeconds(e),this._state.getValueAtTime(e)==="started"&&(this._state.cancel(e),this._restart(e,n,s)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,n)=>{if(wr(n,0)){const s=this._state.get(n);if(s&&s.state==="started"&&s.time!==n){const r=n-this.toSeconds(s.time);let i;s.duration&&(i=this.toSeconds(s.duration)-r),this._start(e,this.toSeconds(s.offset)+r,i)}}},this._syncedStop=e=>{const n=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));this._state.getValueAtTime(n)==="started"&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(e=>this.context.transport.clear(e)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=te,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class Ha extends xr{constructor(){const e=H(Ha.getDefaults(),arguments,["url","onload"]);super(e),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1,Mr(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new fe({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new ae(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(xr.getDefaults(),{url:new ae,loop:!1,loopEnd:0,loopStart:0,onload:te,onerror:te,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,n,s,r=1){G(this.buffer.loaded,"buffer is either not set or not loaded");const i=this.toSeconds(e);this._startGain(i,r),this.loop?n=Jt(n,this.loopStart):n=Jt(n,0);let o=Math.max(this.toSeconds(n),0);if(this.loop){const a=this.toSeconds(this.loopEnd)||this.buffer.duration,l=this.toSeconds(this.loopStart),c=a-l;Fc(o,a)&&(o=(o-l)%c+l),Ft(o,this.buffer.duration)&&(o=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,da(o,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(i,o)),Y(s)){let a=this.toSeconds(s);a=Math.max(a,0),this.stop(i+a)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function Ds(t,e){return Ie(this,void 0,void 0,function*(){const n=e/t.context.sampleRate,s=new Ju(1,n,t.context.sampleRate);return new t.constructor(Object.assign(t.get(),{frequency:2/n,detune:0,context:s})).toDestination().start(0),(yield s.render()).getChannelData(0)})}class hh extends xr{constructor(){const e=H(hh.getDefaults(),arguments,["frequency","type"]);super(e),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator],Mr(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new fe({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new fe({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),ve(this,["frequency","detune"])}static getDefaults(){return Object.assign(xr.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){const n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._oscillator.start(n),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class Ae extends it{constructor(){const e=H(Ae.getDefaults(),arguments,["frequency","type"]);super(e),this.name="Oscillator",this._oscillator=null,this.frequency=new je({context:this.context,units:"frequency",value:e.frequency}),ve(this,"frequency"),this.detune=new je({context:this.context,units:"cents",value:e.detune}),ve(this,"detune"),this._partials=e.partials,this._partialCount=e.partialCount,this._type=e.type,e.partialCount&&e.type!=="custom"&&(this._type=this.baseType+e.partialCount.toString()),this.phase=e.phase}static getDefaults(){return Object.assign(it.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(e){const n=this.toSeconds(e),s=new hh({context:this.context,onended:()=>this.onstop(this)});this._oscillator=s,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(n)}_stop(e){const n=this.toSeconds(e);this._oscillator&&this._oscillator.stop(n)}_restart(e){const n=this.toSeconds(e);return this.log("restart",n),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(n),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return Ae._periodicWaveCache.find(n=>n.phase===this._phase&&Zk(n.partials,this._partials));{const e=Ae._periodicWaveCache.find(n=>n.type===this._type&&n.phase===this._phase);return this._partialCount=e?e.partialCount:this._partialCount,e}}get type(){return this._type}set type(e){this._type=e;const n=["sine","square","sawtooth","triangle"].indexOf(e)!==-1;if(this._phase===0&&n)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=e);else{const s=this._getCachedPeriodicWave();if(Y(s)){const{partials:r,wave:i}=s;this._wave=i,this._partials=r,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[r,i]=this._getRealImaginary(e,this._phase),o=this.context.createPeriodicWave(r,i);this._wave=o,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),Ae._periodicWaveCache.push({imag:i,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:r,type:this._type,wave:this._wave}),Ae._periodicWaveCache.length>100&&Ae._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(e){this.partialCount&&this._type!=="custom"&&e!=="custom"?this.type=e+this.partialCount:this.type=e}get partialCount(){return this._partialCount}set partialCount(e){Zn(e,0);let n=this._type;const s=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(s&&(n=s[1]),this._type!=="custom")e===0?this.type=n:this.type=n+e.toString();else{const r=new Float32Array(e);this._partials.forEach((i,o)=>r[o]=i),this._partials=Array.from(r),this.type=this._type}}_getRealImaginary(e,n){let r=2048;const i=new Float32Array(r),o=new Float32Array(r);let a=1;if(e==="custom"){if(a=this._partials.length+1,this._partialCount=this._partials.length,r=a,this._partials.length===0)return[i,o]}else{const l=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(e);l?(a=parseInt(l[2],10)+1,this._partialCount=parseInt(l[2],10),e=l[1],a=Math.max(a,2),r=a):this._partialCount=0,this._partials=[]}for(let l=1;l<r;++l){const c=2/(l*Math.PI);let u;switch(e){case"sine":u=l<=a?1:0,this._partials[l-1]=u;break;case"square":u=l&1?2*c:0,this._partials[l-1]=u;break;case"sawtooth":u=c*(l&1?1:-1),this._partials[l-1]=u;break;case"triangle":l&1?u=2*(c*c)*(l-1>>1&1?-1:1):u=0,this._partials[l-1]=u;break;case"custom":u=this._partials[l-1];break;default:throw new TypeError("Oscillator: invalid type: "+e)}u!==0?(i[l]=-u*Math.sin(n*l),o[l]=u*Math.cos(n*l)):(i[l]=0,o[l]=0)}return[i,o]}_inverseFFT(e,n,s){let r=0;const i=e.length;for(let o=0;o<i;o++)r+=e[o]*Math.cos(o*s)+n[o]*Math.sin(o*s);return r}getInitialValue(){const[e,n]=this._getRealImaginary(this._type,0);let s=0;const r=Math.PI*2,i=32;for(let o=0;o<i;o++)s=Math.max(this._inverseFFT(e,n,o/i*r),s);return eT(-this._inverseFFT(e,n,this._phase)/s,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(e){this._phase=e*Math.PI/180,this.type=this._type}asArray(){return Ie(this,arguments,void 0,function*(e=1024){return Ds(this,e)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}Ae._periodicWaveCache=[];class Rg extends Sr{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new Bi({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class As extends je{constructor(){const e=H(As.getDefaults(),arguments,["value"]);super(e),this.name="Multiply",this.override=!1,this._mult=this.input=this.output=new Be({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(je.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class Ga extends it{constructor(){const e=H(Ga.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="AMOscillator",this._modulationScale=new Rg({context:this.context}),this._modulationNode=new Be({context:this.context}),this._carrier=new Ae({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new Ae({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new As({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),ve(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Ae.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return Ie(this,arguments,void 0,function*(e=1024){return Ds(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class Qa extends it{constructor(){const e=H(Qa.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="FMOscillator",this._modulationNode=new Be({context:this.context,gain:0}),this._carrier=new Ae({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new je({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new Ae({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new As({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new As({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),ve(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Ae.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return Ie(this,arguments,void 0,function*(e=1024){return Ds(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class Ui extends it{constructor(){const e=H(Ui.getDefaults(),arguments,["frequency","width"]);super(e),this.name="PulseOscillator",this._widthGate=new Be({context:this.context,gain:0}),this._thresh=new Bi({context:this.context,mapping:n=>n<=0?-1:1}),this.width=new je({context:this.context,units:"audioRange",value:e.width}),this._triangle=new Ae({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),ve(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(it.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(){return Ie(this,arguments,void 0,function*(e=1024){return Ds(this,e)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class Ya extends it{constructor(){const e=H(Ya.getDefaults(),arguments,["frequency","type","spread"]);super(e),this.name="FatOscillator",this._oscillators=[],this.frequency=new je({context:this.context,units:"frequency",value:e.frequency}),this.detune=new je({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,ve(this,["frequency","detune"])}static getDefaults(){return Object.assign(Ae.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach(n=>n.start(e))}_stop(e){e=this.toSeconds(e),this._forEach(n=>n.stop(e))}_restart(e){this._forEach(n=>n.restart(e))}_forEach(e){for(let n=0;n<this._oscillators.length;n++)e(this._oscillators[n],n)}get type(){return this._type}set type(e){this._type=e,this._forEach(n=>n.type=e)}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){const n=-e/2,s=e/(this._oscillators.length-1);this._forEach((r,i)=>r.detune.value=n+s*i)}}get count(){return this._oscillators.length}set count(e){if(Zn(e,1),this._oscillators.length!==e){this._forEach(n=>n.dispose()),this._oscillators=[];for(let n=0;n<e;n++){const s=new Ae({context:this.context,volume:-6-e*1.1,type:this._type,phase:this._phase+n/e*360,partialCount:this._partialCount,onstop:n===0?()=>this.onstop(this):te});this.type==="custom"&&(s.partials=this._partials),this.frequency.connect(s.frequency),this.detune.connect(s.detune),s.detune.overridden=!1,s.connect(this.output),this._oscillators[n]=s}this.spread=this._spread,this.state==="started"&&this._forEach(n=>n.start())}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach((n,s)=>n.phase=this._phase+s/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach(n=>n.baseType=e),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach(n=>n.partials=e))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach(n=>n.partialCount=e),this._type=this._oscillators[0].type}asArray(){return Ie(this,arguments,void 0,function*(e=1024){return Ds(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(e=>e.dispose()),this}}class Xa extends it{constructor(){const e=H(Xa.getDefaults(),arguments,["frequency","modulationFrequency"]);super(e),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new As({context:this.context,value:2}),this._pulse=new Ui({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new Ae({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),ve(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(it.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(){return Ie(this,arguments,void 0,function*(e=1024){return Ds(this,e)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const tf={am:Ga,fat:Ya,fm:Qa,oscillator:Ae,pulse:Ui,pwm:Xa};class kr extends it{constructor(){const e=H(kr.getDefaults(),arguments,["frequency","type"]);super(e),this.name="OmniOscillator",this.frequency=new je({context:this.context,units:"frequency",value:e.frequency}),this.detune=new je({context:this.context,units:"cents",value:e.detune}),ve(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(Ae.getDefaults(),Qa.getDefaults(),Ga.getDefaults(),Ya.getDefaults(),Ui.getDefaults(),Xa.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some(n=>this._sourceType===n)&&(e=this._sourceType),e+this._oscillator.type}set type(e){e.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):e==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):e==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;const n=tf[e],s=this.now();if(this._oscillator){const r=this._oscillator;r.stop(s),this.context.setTimeout(()=>r.dispose(),this.blockTime)}this._oscillator=new n({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(s)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let n="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(n=this._oscillator.type),e==="fm"?this.type="fm"+n:e==="am"?this.type="am"+n:e==="fat"?this.type="fat"+n:e==="oscillator"?this.type=n:e==="pulse"?this.type="pulse":e==="pwm"&&(this.type="pwm")}_getOscType(e,n){return e instanceof tf[n]}get baseType(){return this._oscillator.baseType}set baseType(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&e!=="pulse"&&e!=="pwm"&&(this._oscillator.baseType=e)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(e){this._getOscType(this._oscillator,"fat")&&nn(e)&&(this._oscillator.count=e)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(e){this._getOscType(this._oscillator,"fat")&&nn(e)&&(this._oscillator.spread=e)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&sn(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(){return Ie(this,arguments,void 0,function*(e=1024){return Ds(this,e)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}function Dg(t,e=1/0){const n=new WeakMap;return function(s,r){Reflect.defineProperty(s,r,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(i){Zn(i,t,e),n.set(this,i)}})}}function Cn(t,e=1/0){const n=new WeakMap;return function(s,r){Reflect.defineProperty(s,r,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(i){Zn(this.toSeconds(i),t,e),n.set(this,i)}})}}class Ka extends it{constructor(){const e=H(Ka.getDefaults(),arguments,["url","onload"]);super(e),this.name="Player",this._activeSources=new Set,this._buffer=new ae({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(it.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:te,onerror:te,playbackRate:1,reverse:!1})}load(e){return Ie(this,void 0,void 0,function*(){return yield this._buffer.load(e),this._onload(),this})}_onload(e=te){e(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,n,s){return super.start(e,n,s),this}_start(e,n,s){this._loop?n=Jt(n,this._loopStart):n=Jt(n,0);const r=this.toSeconds(n),i=s;s=Jt(s,Math.max(this._buffer.duration-r,0));let o=this.toSeconds(s);o=o/this._playbackRate,e=this.toSeconds(e);const a=new Ha({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(e+o),this._state.setStateAtTime("stopped",e+o,{implicitEnd:!0})),this._activeSources.add(a),this._loop&&xt(i)?a.start(e,r):a.start(e,r,o-this.toSeconds(this.fadeOut))}_stop(e){const n=this.toSeconds(e);this._activeSources.forEach(s=>s.stop(n))}restart(e,n,s){return super.restart(e,n,s),this}_restart(e,n,s){var r;(r=[...this._activeSources].pop())===null||r===void 0||r.stop(e),this._start(e,n,s)}seek(e,n){const s=this.toSeconds(n);if(this._state.getValueAtTime(s)==="started"){const r=this.toSeconds(e);this._stop(s),this._start(s,r)}return this}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&Zn(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopStart=e})}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&Zn(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopEnd=e})}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach(n=>{n.loop=e}),e)){const n=this._state.getNextState("stopped",this.now());n&&this._state.cancel(n.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;const n=this.now(),s=this._state.getNextState("stopped",n);s&&s.implicitEnd&&(this._state.cancel(s.time),this._activeSources.forEach(r=>r.cancelStop())),this._activeSources.forEach(r=>{r.playbackRate.setValueAtTime(e,n)})}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(e=>e.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}Ht([Cn(0)],Ka.prototype,"fadeIn",void 0);Ht([Cn(0)],Ka.prototype,"fadeOut",void 0);class rn extends X{constructor(){const e=H(rn.getDefaults(),arguments,["attack","decay","sustain","release"]);super(e),this.name="Envelope",this._sig=new je({context:this.context,value:0}),this.output=this._sig,this.input=void 0,this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign(X.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,n){if(sn(e))return e;{let s;for(s in ho)if(ho[s][n]===e)return s;return e}}_setCurve(e,n,s){if(sn(s)&&Reflect.has(ho,s)){const r=ho[s];Qn(r)?e!=="_decayCurve"&&(this[e]=r[n]):this[e]=r}else if(Xe(s)&&e!=="_decayCurve")this[e]=s;else throw new Error("Envelope: invalid curve: "+s)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(e){this._setCurve("_decayCurve","Out",e)}triggerAttack(e,n=1){this.log("triggerAttack",e,n),e=this.toSeconds(e);let r=this.toSeconds(this.attack);const i=this.toSeconds(this.decay),o=this.getValueAtTime(e);if(o>0){const a=1/r;r=(1-o)/a}if(r<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(n,e);else if(this._attackCurve==="linear")this._sig.linearRampTo(n,r,e);else if(this._attackCurve==="exponential")this._sig.targetRampTo(n,r,e);else{this._sig.cancelAndHoldAtTime(e);let a=this._attackCurve;for(let l=1;l<a.length;l++)if(a[l-1]<=o&&o<=a[l]){a=this._attackCurve.slice(l),a[0]=o;break}this._sig.setValueCurveAtTime(a,e,r,n)}if(i&&this.sustain<1){const a=n*this.sustain,l=e+r;this.log("decay",l),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(a,i+l):this._sig.exponentialApproachValueAtTime(a,l,i)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);const n=this.getValueAtTime(e);if(n>0){const s=this.toSeconds(this.release);s<this.sampleTime?this._sig.setValueAtTime(0,e):this._releaseCurve==="linear"?this._sig.linearRampTo(0,s,e):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,s,e):(G(Xe(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,s,n))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,n,s=1){return n=this.toSeconds(n),this.triggerAttack(n,s),this.triggerRelease(n+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e,n=0,s=0){return sh(this,e,n,s),this}asArray(){return Ie(this,arguments,void 0,function*(e=1024){const n=e/this.context.sampleRate,s=new Ju(1,n,this.context.sampleRate),r=this.toSeconds(this.attack)+this.toSeconds(this.decay),i=r+this.toSeconds(this.release),o=i*.1,a=i+o,l=new this.constructor(Object.assign(this.get(),{attack:n*this.toSeconds(this.attack)/a,decay:n*this.toSeconds(this.decay)/a,release:n*this.toSeconds(this.release)/a,context:s}));return l._sig.toDestination(),l.triggerAttackRelease(n*(r+o)/a,0),(yield s.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}Ht([Cn(0)],rn.prototype,"attack",void 0);Ht([Cn(0)],rn.prototype,"decay",void 0);Ht([Dg(0,1)],rn.prototype,"sustain",void 0);Ht([Cn(0)],rn.prototype,"release",void 0);const ho=(()=>{let e,n;const s=[];for(e=0;e<128;e++)s[e]=Math.sin(e/127*(Math.PI/2));const r=[],i=6.4;for(e=0;e<127;e++){n=e/127;const p=Math.sin(n*(Math.PI*2)*i-Math.PI/2)+1;r[e]=p/10+n*.83}r[127]=1;const o=[],a=5;for(e=0;e<128;e++)o[e]=Math.ceil(e/127*a)/a;const l=[];for(e=0;e<128;e++)n=e/127,l[e]=.5*(1-Math.cos(Math.PI*n));const c=[];for(e=0;e<128;e++){n=e/127;const p=Math.pow(n,3)*4+.2,v=Math.cos(p*Math.PI*2*n);c[e]=Math.abs(v*(1-n))}function u(p){const v=new Array(p.length);for(let g=0;g<p.length;g++)v[g]=1-p[g];return v}function h(p){return p.slice(0).reverse()}return{bounce:{In:u(c),Out:c},cosine:{In:s,Out:h(s)},exponential:"exponential",linear:"linear",ripple:{In:r,Out:u(r)},sine:{In:l,Out:u(l)},step:{In:o,Out:u(o)}}})();class es extends X{constructor(){const e=H(es.getDefaults(),arguments);super(e),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=n=>this._original_triggerRelease(n),this._volume=this.output=new Pr({context:this.context,volume:e.volume}),this.volume=this._volume.volume,ve(this,"volume")}static getDefaults(){return Object.assign(X.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,n){const s=this["_original_"+e]=this[e];this[e]=(...r)=>{const i=r[n],o=this.context.transport.schedule(a=>{r[n]=a,s.apply(this,r)},i);this._scheduledEvents.push(o)}}unsync(){return this._scheduledEvents.forEach(e=>this.context.transport.clear(e)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(e,n,s,r){const i=this.toSeconds(s),o=this.toSeconds(n);return this.triggerAttack(e,i,r),this.triggerRelease(i+o),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class xn extends es{constructor(){const e=H(xn.getDefaults(),arguments);super(e),this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(es.getDefaults(),{detune:0,onsilence:te,portamento:0})}triggerAttack(e,n,s=1){this.log("triggerAttack",e,n,s);const r=this.toSeconds(n);return this._triggerEnvelopeAttack(r,s),this.setNote(e,r),this}triggerRelease(e){this.log("triggerRelease",e);const n=this.toSeconds(e);return this._triggerEnvelopeRelease(n),this}setNote(e,n){const s=this.toSeconds(n),r=e instanceof _t?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(s)>.05){const i=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(r,i,s)}else this.frequency.setValueAtTime(r,s);return this}}Ht([Cn(0)],xn.prototype,"portamento",void 0);class dh extends rn{constructor(){super(H(dh.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new Be({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class on extends xn{constructor(){const e=H(on.getDefaults(),arguments);super(e),this.name="Synth",this.oscillator=new kr(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new dh(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),ve(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(xn.getDefaults(),{envelope:Object.assign(Fn(rn.getDefaults(),Object.keys(X.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(Fn(kr.getDefaults(),[...Object.keys(it.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,n){if(this.envelope.triggerAttack(e,n),this.oscillator.start(e),this.envelope.sustain===0){const s=this.toSeconds(this.envelope.attack),r=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+s+r)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class fh extends xn{constructor(){const e=H(fh.getDefaults(),arguments);super(e),this.name="ModulationSynth",this._carrier=new on({context:this.context,oscillator:e.oscillator,envelope:e.envelope,onsilence:()=>this.onsilence(this),volume:-10}),this._modulator=new on({context:this.context,oscillator:e.modulation,envelope:e.modulationEnvelope,volume:-10}),this.oscillator=this._carrier.oscillator,this.envelope=this._carrier.envelope,this.modulation=this._modulator.oscillator,this.modulationEnvelope=this._modulator.envelope,this.frequency=new je({context:this.context,units:"frequency"}),this.detune=new je({context:this.context,value:e.detune,units:"cents"}),this.harmonicity=new As({context:this.context,value:e.harmonicity,minValue:0}),this._modulationNode=new Be({context:this.context,gain:0}),ve(this,["frequency","harmonicity","oscillator","envelope","modulation","modulationEnvelope","detune"])}static getDefaults(){return Object.assign(xn.getDefaults(),{harmonicity:3,oscillator:Object.assign(Fn(kr.getDefaults(),[...Object.keys(it.getDefaults()),"frequency","detune"]),{type:"sine"}),envelope:Object.assign(Fn(rn.getDefaults(),Object.keys(X.getDefaults())),{attack:.01,decay:.01,sustain:1,release:.5}),modulation:Object.assign(Fn(kr.getDefaults(),[...Object.keys(it.getDefaults()),"frequency","detune"]),{type:"square"}),modulationEnvelope:Object.assign(Fn(rn.getDefaults(),Object.keys(X.getDefaults())),{attack:.5,decay:0,sustain:1,release:.5})})}_triggerEnvelopeAttack(e,n){this._carrier._triggerEnvelopeAttack(e,n),this._modulator._triggerEnvelopeAttack(e,n)}_triggerEnvelopeRelease(e){return this._carrier._triggerEnvelopeRelease(e),this._modulator._triggerEnvelopeRelease(e),this}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this._carrier.dispose(),this._modulator.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._modulationNode.dispose(),this}}class ph extends fh{constructor(){super(H(ph.getDefaults(),arguments)),this.name="AMSynth",this._modulationScale=new Rg({context:this.context}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output)}dispose(){return super.dispose(),this._modulationScale.dispose(),this}}class Za extends on{constructor(){const e=H(Za.getDefaults(),arguments);super(e),this.name="MembraneSynth",this.portamento=0,this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,ve(this,["oscillator","envelope"])}static getDefaults(){return ws(xn.getDefaults(),on.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,n){const s=this.toSeconds(n),r=this.toFrequency(e instanceof _t?e.toFrequency():e),i=r*this.octaves;return this.oscillator.frequency.setValueAtTime(i,s),this.oscillator.frequency.exponentialRampToValueAtTime(r,s+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}Ht([Dg(0)],Za.prototype,"octaves",void 0);Ht([Cn(0)],Za.prototype,"pitchDecay",void 0);const bg=new Set;function mh(t){bg.add(t)}function Fg(t,e){const n=`registerProcessor("${t}", ${e})`;bg.add(n)}const vT=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;mh(vT);const yT=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;mh(yT);const _T=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;mh(_T);const wT="feedback-comb-filter",xT=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;Fg(wT,xT);class lr extends es{constructor(){const e=H(lr.getDefaults(),arguments,["voice","options"]);super(e),this.name="PolySynth",this._availableVoices=[],this._activeVoices=[],this._voices=[],this._gcTimeout=-1,this._averageActiveVoices=0,this._syncedRelease=r=>this.releaseAll(r),G(!nn(e.voice),"DEPRECATED: The polyphony count is no longer the first argument.");const n=e.voice.getDefaults();this.options=Object.assign(n,e.options),this.voice=e.voice,this.maxPolyphony=e.maxPolyphony,this._dummyVoice=this._getNextAvailableVoice();const s=this._voices.indexOf(this._dummyVoice);this._voices.splice(s,1),this._gcTimeout=this.context.setInterval(this._collectGarbage.bind(this),1)}static getDefaults(){return Object.assign(es.getDefaults(),{maxPolyphony:32,options:{},voice:on})}get activeVoices(){return this._activeVoices.length}_makeVoiceAvailable(e){this._availableVoices.push(e);const n=this._activeVoices.findIndex(s=>s.voice===e);this._activeVoices.splice(n,1)}_getNextAvailableVoice(){if(this._availableVoices.length)return this._availableVoices.shift();if(this._voices.length<this.maxPolyphony){const e=new this.voice(Object.assign(this.options,{context:this.context,onsilence:this._makeVoiceAvailable.bind(this)}));return G(e instanceof xn,"Voice must extend Monophonic class"),e.connect(this.output),this._voices.push(e),e}else za("Max polyphony exceeded. Note dropped.")}_collectGarbage(){if(this._averageActiveVoices=Math.max(this._averageActiveVoices*.95,this.activeVoices),this._availableVoices.length&&this._voices.length>Math.ceil(this._averageActiveVoices+1)){const e=this._availableVoices.shift(),n=this._voices.indexOf(e);this._voices.splice(n,1),this.context.isOffline||e.dispose()}}_triggerAttack(e,n,s){e.forEach(r=>{const i=new fa(this.context,r).toMidi(),o=this._getNextAvailableVoice();o&&(o.triggerAttack(r,n,s),this._activeVoices.push({midi:i,voice:o,released:!1}),this.log("triggerAttack",r,n))})}_triggerRelease(e,n){e.forEach(s=>{const r=new fa(this.context,s).toMidi(),i=this._activeVoices.find(({midi:o,released:a})=>o===r&&!a);i&&(i.voice.triggerRelease(n),i.released=!0,this.log("triggerRelease",s,n))})}_scheduleEvent(e,n,s,r){G(!this.disposed,"Synth was already disposed"),s<=this.now()?e==="attack"?this._triggerAttack(n,s,r):this._triggerRelease(n,s):this.context.setTimeout(()=>{this.disposed||this._scheduleEvent(e,n,s,r)},s-this.now())}triggerAttack(e,n,s){Array.isArray(e)||(e=[e]);const r=this.toSeconds(n);return this._scheduleEvent("attack",e,r,s),this}triggerRelease(e,n){Array.isArray(e)||(e=[e]);const s=this.toSeconds(n);return this._scheduleEvent("release",e,s),this}triggerAttackRelease(e,n,s,r){const i=this.toSeconds(s);if(this.triggerAttack(e,i,r),Xe(n)){G(Xe(e),"If the duration is an array, the notes must also be an array"),e=e;for(let o=0;o<e.length;o++){const a=n[Math.min(o,n.length-1)],l=this.toSeconds(a);G(l>0,"The duration must be greater than 0"),this.triggerRelease(e[o],i+l)}}else{const o=this.toSeconds(n);G(o>0,"The duration must be greater than 0"),this.triggerRelease(e,i+o)}return this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}set(e){const n=Fn(e,["onsilence","context"]);return this.options=ws(this.options,n),this._voices.forEach(s=>s.set(n)),this._dummyVoice.set(n),this}get(){return this._dummyVoice.get()}releaseAll(e){const n=this.toSeconds(e);return this._activeVoices.forEach(({voice:s})=>{s.triggerRelease(n)}),this}dispose(){return super.dispose(),this._dummyVoice.dispose(),this._voices.forEach(e=>e.dispose()),this._activeVoices=[],this._availableVoices=[],this.context.clearInterval(this._gcTimeout),this}}class qi extends es{constructor(){const e=H(qi.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");super(e),this.name="Sampler",this._activeSources=new Map;const n={};Object.keys(e.urls).forEach(s=>{const r=parseInt(s,10);if(G(uo(s)||nn(r)&&isFinite(r),`url key is neither a note or midi pitch: ${s}`),uo(s)){const i=new _t(this.context,s).toMidi();n[i]=e.urls[s]}else nn(r)&&isFinite(r)&&(n[r]=e.urls[r])}),this._buffers=new lh({urls:n,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(es.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:te,onerror:te,release:.1,urls:{}})}_findClosest(e){let s=0;for(;s<96;){if(this._buffers.has(e+s))return-s;if(this._buffers.has(e-s))return s;s++}throw new Error(`No available buffers for note: ${e}`)}triggerAttack(e,n,s=1){return this.log("triggerAttack",e,n,s),Array.isArray(e)||(e=[e]),e.forEach(r=>{const i=Mg(new _t(this.context,r).toFrequency()),o=Math.round(i),a=i-o,l=this._findClosest(o),c=o-l,u=this._buffers.get(c),h=jg(l+a),p=new Ha({url:u,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:h}).connect(this.output);p.start(n,0,u.duration/h,s),Xe(this._activeSources.get(o))||this._activeSources.set(o,[]),this._activeSources.get(o).push(p),p.onended=()=>{if(this._activeSources&&this._activeSources.has(o)){const v=this._activeSources.get(o),g=v.indexOf(p);g!==-1&&v.splice(g,1)}}}),this}triggerRelease(e,n){return this.log("triggerRelease",e,n),Array.isArray(e)||(e=[e]),e.forEach(s=>{const r=new _t(this.context,s).toMidi();if(this._activeSources.has(r)&&this._activeSources.get(r).length){const i=this._activeSources.get(r);n=this.toSeconds(n),i.forEach(o=>{o.stop(n)}),this._activeSources.set(r,[])}}),this}releaseAll(e){const n=this.toSeconds(e);return this._activeSources.forEach(s=>{for(;s.length;)s.shift().stop(n)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,n,s,r=1){const i=this.toSeconds(s);return this.triggerAttack(e,i,r),Xe(n)?(G(Xe(e),"notes must be an array when duration is array"),e.forEach((o,a)=>{const l=n[Math.min(a,n.length-1)];this.triggerRelease(o,i+this.toSeconds(l))})):this.triggerRelease(e,i+this.toSeconds(n)),this}add(e,n,s){if(G(uo(e)||isFinite(e),`note must be a pitch or midi: ${e}`),uo(e)){const r=new _t(this.context,e).toMidi();this._buffers.add(r,n,s)}else this._buffers.add(e,n,s);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(e=>{e.forEach(n=>n.dispose())}),this._activeSources.clear(),this}}Ht([Cn(0)],qi.prototype,"attack",void 0);Ht([Cn(0)],qi.prototype,"release",void 0);class Vn extends Ke{constructor(){const e=H(Vn.getDefaults(),arguments,["callback","value"]);super(e),this.name="ToneEvent",this._state=new Wi("stopped"),this._startOffset=0,this._loop=e.loop,this.callback=e.callback,this.value=e.value,this._loopStart=this.toTicks(e.loopStart),this._loopEnd=this.toTicks(e.loopEnd),this._playbackRate=e.playbackRate,this._probability=e.probability,this._humanize=e.humanize,this.mute=e.mute,this._playbackRate=e.playbackRate,this._state.increasing=!0,this._rescheduleEvents()}static getDefaults(){return Object.assign(Ke.getDefaults(),{callback:te,humanize:!1,loop:!1,loopEnd:"1m",loopStart:0,mute:!1,playbackRate:1,probability:1,value:null})}_rescheduleEvents(e=-1){this._state.forEachFrom(e,n=>{let s;if(n.state==="started"){n.id!==-1&&this.context.transport.clear(n.id);const r=n.time+Math.round(this.startOffset/this._playbackRate);if(this._loop===!0||nn(this._loop)&&this._loop>1){s=1/0,nn(this._loop)&&(s=this._loop*this._getLoopDuration());const i=this._state.getAfter(r);i!==null&&(s=Math.min(s,i.time-r)),s!==1/0&&(s=new we(this.context,s));const o=new we(this.context,this._getLoopDuration());n.id=this.context.transport.scheduleRepeat(this._tick.bind(this),o,new we(this.context,r),s)}else n.id=this.context.transport.schedule(this._tick.bind(this),new we(this.context,r))}})}get state(){return this._state.getValueAtTime(this.context.transport.ticks)}get startOffset(){return this._startOffset}set startOffset(e){this._startOffset=e}get probability(){return this._probability}set probability(e){this._probability=e}get humanize(){return this._humanize}set humanize(e){this._humanize=e}start(e){const n=this.toTicks(e);return this._state.getValueAtTime(n)==="stopped"&&(this._state.add({id:-1,state:"started",time:n}),this._rescheduleEvents(n)),this}stop(e){this.cancel(e);const n=this.toTicks(e);if(this._state.getValueAtTime(n)==="started"){this._state.setStateAtTime("stopped",n,{id:-1});const s=this._state.getBefore(n);let r=n;s!==null&&(r=s.time),this._rescheduleEvents(r)}return this}cancel(e){e=Jt(e,-1/0);const n=this.toTicks(e);return this._state.forEachFrom(n,s=>{this.context.transport.clear(s.id)}),this._state.cancel(n),this}_tick(e){const n=this.context.transport.getTicksAtTime(e);if(!this.mute&&this._state.getValueAtTime(n)==="started"){if(this.probability<1&&Math.random()>this.probability)return;if(this.humanize){let s=.02;Sg(this.humanize)||(s=this.toSeconds(this.humanize)),e+=(Math.random()*2-1)*s}this.callback(e,this.value)}}_getLoopDuration(){return(this._loopEnd-this._loopStart)/this._playbackRate}get loop(){return this._loop}set loop(e){this._loop=e,this._rescheduleEvents()}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this._rescheduleEvents()}get loopEnd(){return new we(this.context,this._loopEnd).toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e),this._loop&&this._rescheduleEvents()}get loopStart(){return new we(this.context,this._loopStart).toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e),this._loop&&this._rescheduleEvents()}get progress(){if(this._loop){const e=this.context.transport.ticks,n=this._state.get(e);if(n!==null&&n.state==="started"){const s=this._getLoopDuration();return(e-n.time)%s/s}else return 0}else return 0}dispose(){return super.dispose(),this.cancel(),this._state.dispose(),this}}class pa extends Vn{constructor(){const e=H(pa.getDefaults(),arguments,["callback","events"]);super(e),this.name="Part",this._state=new Wi("stopped"),this._events=new Set,this._state.increasing=!0,e.events.forEach(n=>{Xe(n)?this.add(n[0],n[1]):this.add(n)})}static getDefaults(){return Object.assign(Vn.getDefaults(),{events:[]})}start(e,n){const s=this.toTicks(e);if(this._state.getValueAtTime(s)!=="started"){n=Jt(n,this._loop?this._loopStart:0),this._loop?n=Jt(n,this._loopStart):n=Jt(n,0);const r=this.toTicks(n);this._state.add({id:-1,offset:r,state:"started",time:s}),this._forEach(i=>{this._startNote(i,s,r)})}return this}_startNote(e,n,s){n-=s,this._loop?e.startOffset>=this._loopStart&&e.startOffset<this._loopEnd?(e.startOffset<s&&(n+=this._getLoopDuration()),e.start(new we(this.context,n))):e.startOffset<this._loopStart&&e.startOffset>=s&&(e.loop=!1,e.start(new we(this.context,n))):e.startOffset>=s&&e.start(new we(this.context,n))}get startOffset(){return this._startOffset}set startOffset(e){this._startOffset=e,this._forEach(n=>{n.startOffset+=this._startOffset})}stop(e){const n=this.toTicks(e);return this._state.cancel(n),this._state.setStateAtTime("stopped",n),this._forEach(s=>{s.stop(e)}),this}at(e,n){const s=new ar(this.context,e).toTicks(),r=new we(this.context,1).toSeconds(),i=this._events.values();let o=i.next();for(;!o.done;){const a=o.value;if(Math.abs(s-a.startOffset)<r)return Y(n)&&(a.value=n),a;o=i.next()}return Y(n)?(this.add(e,n),this.at(e)):null}add(e,n){e instanceof Object&&Reflect.has(e,"time")&&(n=e,e=n.time);const s=this.toTicks(e);let r;return n instanceof Vn?(r=n,r.callback=this._tick.bind(this)):r=new Vn({callback:this._tick.bind(this),context:this.context,value:n}),r.startOffset=s,r.set({humanize:this.humanize,loop:this.loop,loopEnd:this.loopEnd,loopStart:this.loopStart,playbackRate:this.playbackRate,probability:this.probability}),this._events.add(r),this._restartEvent(r),this}_restartEvent(e){this._state.forEach(n=>{n.state==="started"?this._startNote(e,n.time,n.offset):e.stop(new we(this.context,n.time))})}remove(e,n){return Qn(e)&&e.hasOwnProperty("time")&&(n=e,e=n.time),e=this.toTicks(e),this._events.forEach(s=>{s.startOffset===e&&(xt(n)||Y(n)&&s.value===n)&&(this._events.delete(s),s.dispose())}),this}clear(){return this._forEach(e=>e.dispose()),this._events.clear(),this}cancel(e){return this._forEach(n=>n.cancel(e)),this._state.cancel(this.toTicks(e)),this}_forEach(e){return this._events&&this._events.forEach(n=>{n instanceof pa?n._forEach(e):e(n)}),this}_setAll(e,n){this._forEach(s=>{s[e]=n})}_tick(e,n){this.mute||this.callback(e,n)}_testLoopBoundries(e){this._loop&&(e.startOffset<this._loopStart||e.startOffset>=this._loopEnd)?e.cancel(0):e.state==="stopped"&&this._restartEvent(e)}get probability(){return this._probability}set probability(e){this._probability=e,this._setAll("probability",e)}get humanize(){return this._humanize}set humanize(e){this._humanize=e,this._setAll("humanize",e)}get loop(){return this._loop}set loop(e){this._loop=e,this._forEach(n=>{n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.loop=e,this._testLoopBoundries(n)})}get loopEnd(){return new we(this.context,this._loopEnd).toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e),this._loop&&this._forEach(n=>{n.loopEnd=e,this._testLoopBoundries(n)})}get loopStart(){return new we(this.context,this._loopStart).toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e),this._loop&&this._forEach(n=>{n.loopStart=this.loopStart,this._testLoopBoundries(n)})}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this._setAll("playbackRate",e)}get length(){return this._events.size}dispose(){return super.dispose(),this.clear(),this}}class Ja extends Vn{constructor(){const e=H(Ja.getDefaults(),arguments,["callback","events","subdivision"]);super(e),this.name="Sequence",this._part=new pa({callback:this._seqCallback.bind(this),context:this.context}),this._events=[],this._eventsArray=[],this._subdivision=this.toTicks(e.subdivision),this.events=e.events,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.playbackRate=e.playbackRate,this.probability=e.probability,this.humanize=e.humanize,this.mute=e.mute,this.playbackRate=e.playbackRate}static getDefaults(){return Object.assign(Fn(Vn.getDefaults(),["value"]),{events:[],loop:!0,loopEnd:0,loopStart:0,subdivision:"8n"})}_seqCallback(e,n){n!==null&&!this.mute&&this.callback(e,n)}get events(){return this._events}set events(e){this.clear(),this._eventsArray=e,this._events=this._createSequence(this._eventsArray),this._eventsUpdated()}start(e,n){return this._part.start(e,n&&this._indexTime(n)),this}stop(e){return this._part.stop(e),this}get subdivision(){return new we(this.context,this._subdivision).toSeconds()}_createSequence(e){return new Proxy(e,{get:(n,s)=>n[s],set:(n,s,r)=>(sn(s)&&isFinite(parseInt(s,10))&&Xe(r)?n[s]=this._createSequence(r):n[s]=r,this._eventsUpdated(),!0)})}_eventsUpdated(){this._part.clear(),this._rescheduleSequence(this._eventsArray,this._subdivision,this.startOffset),this.loopEnd=this.loopEnd}_rescheduleSequence(e,n,s){e.forEach((r,i)=>{const o=i*n+s;if(Xe(r))this._rescheduleSequence(r,n/r.length,o);else{const a=new we(this.context,o,"i").toSeconds();this._part.add(a,r)}})}_indexTime(e){return new we(this.context,e*this._subdivision+this.startOffset).toSeconds()}clear(){return this._part.clear(),this}dispose(){return super.dispose(),this._part.dispose(),this}get loop(){return this._part.loop}set loop(e){this._part.loop=e}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this._part.loopStart=this._indexTime(e)}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,e===0?this._part.loopEnd=this._indexTime(this._eventsArray.length):this._part.loopEnd=this._indexTime(e)}get startOffset(){return this._part.startOffset}set startOffset(e){this._part.startOffset=e}get playbackRate(){return this._part.playbackRate}set playbackRate(e){this._part.playbackRate=e}get probability(){return this._part.probability}set probability(e){this._part.probability=e}get progress(){return this._part.progress}get humanize(){return this._part.humanize}set humanize(e){this._part.humanize=e}get length(){return this._part.length}}class gh extends X{constructor(){const e=H(gh.getDefaults(),arguments,["pan"]);super(e),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner,this.pan=new fe({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",ve(this,"pan")}static getDefaults(){return Object.assign(X.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const ST="bit-crusher",kT=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;Fg(ST,kT);class Ee extends X{constructor(){const e=H(Ee.getDefaults(),arguments,["solo"]);super(e),this.name="Solo",this.input=this.output=new Be({context:this.context}),Ee._allSolos.has(this.context)||Ee._allSolos.set(this.context,new Set),Ee._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign(X.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),Ee._allSolos.get(this.context).forEach(n=>n._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){Ee._soloed.has(this.context)||Ee._soloed.set(this.context,new Set),Ee._soloed.get(this.context).add(this)}_removeSolo(){Ee._soloed.has(this.context)&&Ee._soloed.get(this.context).delete(this)}_isSoloed(){return Ee._soloed.has(this.context)&&Ee._soloed.get(this.context).has(this)}_noSolos(){return!Ee._soloed.has(this.context)||Ee._soloed.has(this.context)&&Ee._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),Ee._allSolos.get(this.context).delete(this),this._removeSolo(),this}}Ee._allSolos=new Map;Ee._soloed=new Map;class vh extends X{constructor(){const e=H(vh.getDefaults(),arguments,["pan","volume"]);super(e),this.name="PanVol",this._panner=this.input=new gh({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new Pr({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,ve(this,["pan","volume"])}static getDefaults(){return Object.assign(X.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class er extends X{constructor(){const e=H(er.getDefaults(),arguments,["volume","pan"]);super(e),this.name="Channel",this._solo=this.input=new Ee({solo:e.solo,context:this.context}),this._panVol=this.output=new vh({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),ve(this,["pan","volume"])}static getDefaults(){return Object.assign(X.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return er.buses.has(e)||er.buses.set(e,new Be({context:this.context})),er.buses.get(e)}send(e,n=0){const s=this._getBus(e),r=new Be({context:this.context,units:"decibels",gain:n});return this.connect(r),r.connect(s),r}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}er.buses=new Map;const Ge=Vt().transport;Vt().destination;Vt().destination;Vt().listener;Vt().draw;Vt();const TT=A.createContext(),CT=({children:t})=>{const[e,n]=A.useState(!1),[s,r]=A.useState(120),[i,o]=A.useState(!1),a=async()=>{i||(await eh(),o(!0))},l=()=>{Ge.stop(),Ge.cancel(),n(!1)};A.useEffect(()=>{Ge.bpm.value=s},[s]),A.useEffect(()=>()=>{e&&l()},[e]);const c={isPlaying:e,setIsPlaying:n,tempo:s,setTempo:r,isAudioInitialized:i,initializeAudio:a,stopAllPlayback:l};return f.jsx(TT.Provider,{value:c,children:t})},Vg=A.createContext(),Lg=()=>A.useContext(Vg),zg=({children:t})=>{const[e,n]=A.useState({userLevel:null,completedLessons:{},preferences:{notationPreference:"piano",audioEnabled:!0,showTips:!0},conceptMastery:{},lastVisited:null,bookmarks:[],creations:[]});A.useEffect(()=>{const x=localStorage.getItem("musicTheoryProgress");if(x)try{n(JSON.parse(x))}catch(d){console.error("Error parsing saved progress:",d)}},[]),A.useEffect(()=>{localStorage.setItem("musicTheoryProgress",JSON.stringify(e))},[e]);const s=x=>{n(d=>({...d,userLevel:x}))},r=(x,d={})=>{n(m=>({...m,completedLessons:{...m.completedLessons,[x]:{completedAt:new Date().toISOString(),...d}}}))},i=(x,d)=>{n(m=>({...m,conceptMastery:{...m.conceptMastery,[x]:{level:d,updatedAt:new Date().toISOString(),reviewDue:o(d)}}}))},o=x=>{const d={1:1,2:3,3:7,4:14,5:30},m=new Date,y=new Date(m);return y.setDate(m.getDate()+(d[x]||1)),y.toISOString()},_={progress:e,setUserLevel:s,markLessonCompleted:r,updateConceptMastery:i,updatePreferences:x=>{n(d=>({...d,preferences:{...d.preferences,...x}}))},updateLastVisited:x=>{n(d=>({...d,lastVisited:x}))},toggleBookmark:x=>{n(d=>{const y=d.bookmarks.includes(x)?d.bookmarks.filter(T=>T!==x):[...d.bookmarks,x];return{...d,bookmarks:y}})},saveCreation:x=>{n(d=>({...d,creations:[...d.creations,{id:`creation-${Date.now()}`,createdAt:new Date().toISOString(),...x}]}))},resetProgress:()=>{n({userLevel:null,completedLessons:{},preferences:{notationPreference:"piano",audioEnabled:!0,showTips:!0},conceptMastery:{},lastVisited:null,bookmarks:[],creations:[]})},getConceptsDueForReview:()=>{const x=new Date;return Object.entries(e.conceptMastery).filter(([d,m])=>new Date(m.reviewDue)<=x).map(([d])=>d)},exportProgress:()=>JSON.stringify(e),importProgress:x=>{try{const d=JSON.parse(x);return n(d),!0}catch(d){return console.error("Error importing progress:",d),!1}}};return f.jsx(Vg.Provider,{value:_,children:t})},Wg=A.createContext(),el=()=>A.useContext(Wg),Bg=({children:t})=>{var x;const[e,n]=A.useState(!1),[s,r]=A.useState(null),[i,o]=A.useState([]),{progress:a}=Lg();A.useEffect(()=>((async()=>{const m=new lr(on).toDestination();r(m)})(),()=>{Ge.stop(),Ge.cancel()}),[]);const l=((x=a==null?void 0:a.preferences)==null?void 0:x.audioEnabled)??!0,c=async()=>(!e&&l&&(await eh(),n(!0)),e),_={initialized:e,initialize:c,playNote:async(d,m="8n")=>{if(!l)return;(e||await c())&&s&&s.triggerAttackRelease(d,m)},playChord:async(d,m="2n")=>{if(!l)return;(e||await c())&&s&&s.triggerAttackRelease(d,m)},playSequence:async(d,m=120,y=null)=>{if(!l||!(e||await c())||!s)return null;const w="8n",S=new Ja((C,k)=>{s.triggerAttackRelease(k,w,C)},d,"8n");if(Ge.bpm.value=m,S.start(0),i.length===0&&Ge.start(),o(C=>[...C,S]),y){const C=60/m*d.length;setTimeout(()=>{S.stop(),S.dispose(),o(k=>k.filter(E=>E!==S)),y(),i.length===1&&Ge.stop()},C*1e3+100)}return S},playInterval:async(d,m,y=.5)=>{if(!l)return;(e||await c())&&s&&(s.triggerAttackRelease(d,"8n"),setTimeout(()=>{s.triggerAttackRelease(m,"8n"),setTimeout(()=>{s.triggerAttackRelease([d,m],"2n")},y*1e3)},y*1e3))},stopAll:()=>{i.length>0&&(i.forEach(d=>{d.stop(),d.dispose()}),o([])),Ge.stop(),Ge.cancel()},isAudioEnabled:l};return f.jsx(Wg.Provider,{value:_,children:t})},as=()=>f.jsxs("nav",{className:"navigation",children:[f.jsx("div",{className:"logo",children:"LetzMusic"}),f.jsxs("ul",{children:[f.jsx("li",{children:f.jsx(Ls,{to:"/",end:!0,children:"Home"})}),f.jsx("li",{children:f.jsx(Ls,{to:"/dashboard",children:"Dashboard"})}),f.jsx("li",{children:f.jsx(Ls,{to:"/notes",children:"Note Explorer"})}),f.jsx("li",{children:f.jsx(Ls,{to:"/circle-of-fifths",children:"Circle of Fifths"})}),f.jsx("li",{children:f.jsx(Ls,{to:"/chord-visualizer",children:"Chord Visualizer"})}),f.jsx("li",{children:f.jsx(Ls,{to:"/mode-transformer",children:"Mode Transformer"})})]})]}),NT=()=>{const t=[{name:"Note Explorer",description:"See how notes function differently in various contexts",path:"/notes"},{name:"Interval Demonstrator",description:"Explore how intervals create relationships between notes",path:"/intervals"},{name:"Scale Lab",description:"Understand how scales are built from interval patterns",path:"/scales"},{name:"Relative Explorer",description:"Learn about relative major and minor key relationships",path:"/relative"},{name:"Circle of Fifths",description:"Visualize key relationships through the circle of fifths",path:"/circle-of-fifths"},{name:"Chord Visualizer",description:"Discover how chords function within a key",path:"/chord-visualizer"},{name:"Mode Transformer",description:"Explore modes as transformations of the same scale",path:"/mode-transformer"}];return f.jsxs("div",{className:"home-container",children:[f.jsx(as,{}),f.jsxs("div",{className:"hero-section",children:[f.jsx("h1",{children:"LetzMusic"}),f.jsx("p",{className:"tagline",children:"Discover how music theory elements gain meaning through relationships"}),f.jsx(_s,{to:"/dashboard",className:"cta-button",children:"Start Learning"})]}),f.jsxs("div",{className:"tools-section",children:[f.jsx("h2",{children:"Interactive Tools"}),f.jsx("div",{className:"tools-grid",children:t.map((e,n)=>f.jsxs(_s,{to:e.path,className:"tool-card",children:[f.jsx("h3",{children:e.name}),f.jsx("p",{children:e.description})]},n))})]}),f.jsxs("div",{className:"about-section",children:[f.jsx("h2",{children:"About LetzMusic"}),f.jsx("p",{children:"LetzMusic is an interactive application designed to make learning music theory intuitive and engaging. Through visual demonstrations and audio examples, we help you understand the fundamental concept that musical elements gain their meaning through relationships to other elements."}),f.jsx("p",{children:"Whether you're a complete beginner, an instrument player looking to deepen your theoretical knowledge, or a student seeking advanced concepts, LetzMusic provides interactive tools to enhance your understanding of music theory."})]}),f.jsx("footer",{className:"home-footer",children:f.jsx("p",{children:"© 2025 LetzMusic. All rights reserved."})})]})},ET=()=>{const t=[{id:"note-explorer",name:"Note Explorer",description:"See how the same note functions differently in various musical contexts",path:"/notes",level:"beginner",icon:"🎵"},{id:"interval-demonstrator",name:"Interval Demonstrator",description:"Understand how intervals create relationships between notes",path:"/intervals",level:"beginner",icon:"📏"},{id:"scale-lab",name:"Scale Lab",description:"Learn how scales are built from specific interval patterns",path:"/scales",level:"beginner",icon:"🔍"},{id:"relative-explorer",name:"Relative Explorer",description:"Explore the relationship between relative major and minor keys",path:"/relative",level:"intermediate",icon:"🔄"},{id:"circle-of-fifths",name:"Circle of Fifths",description:"Visualize key relationships through the circle of fifths",path:"/circle-of-fifths",level:"intermediate",icon:"⭕"},{id:"chord-visualizer",name:"Chord Visualizer",description:"Discover how chords derive meaning from their relationship to a key center",path:"/chord-visualizer",level:"intermediate",icon:"🎹"},{id:"mode-transformer",name:"Mode Transformer",description:"See how modes are transformations of the same scale from different positions",path:"/mode-transformer",level:"advanced",icon:"🔄"}],e=t.filter(r=>r.level==="beginner"),n=t.filter(r=>r.level==="intermediate"),s=t.filter(r=>r.level==="advanced");return f.jsxs("div",{className:"dashboard-container",children:[f.jsx(as,{}),f.jsxs("div",{className:"dashboard-content",children:[f.jsx("h1",{children:"Music Theory Interactive Tools"}),f.jsx("p",{className:"dashboard-intro",children:"Explore these interactive tools to understand how musical elements gain meaning through their relationships to each other. Start with the beginner tools and progress through to more advanced concepts."}),f.jsxs("div",{className:"level-section",children:[f.jsx("h2",{className:"level-title beginner",children:"Beginner Tools"}),f.jsx("div",{className:"tools-grid",children:e.map(r=>f.jsxs(_s,{to:r.path,className:"tool-card",children:[f.jsx("div",{className:"tool-icon",children:r.icon}),f.jsx("h3",{children:r.name}),f.jsx("p",{children:r.description}),f.jsx("div",{className:"tool-level beginner",children:"Beginner"})]},r.id))})]}),f.jsxs("div",{className:"level-section",children:[f.jsx("h2",{className:"level-title intermediate",children:"Intermediate Tools"}),f.jsx("div",{className:"tools-grid",children:n.map(r=>f.jsxs(_s,{to:r.path,className:"tool-card",children:[f.jsx("div",{className:"tool-icon",children:r.icon}),f.jsx("h3",{children:r.name}),f.jsx("p",{children:r.description}),f.jsx("div",{className:"tool-level intermediate",children:"Intermediate"})]},r.id))})]}),f.jsxs("div",{className:"level-section",children:[f.jsx("h2",{className:"level-title advanced",children:"Advanced Tools"}),f.jsx("div",{className:"tools-grid",children:s.map(r=>f.jsxs(_s,{to:r.path,className:"tool-card",children:[f.jsx("div",{className:"tool-icon",children:r.icon}),f.jsx("h3",{children:r.name}),f.jsx("p",{children:r.description}),f.jsx("div",{className:"tool-level advanced",children:"Advanced"})]},r.id))})]})]})]})},Eo=50,AT=180,OT=30,IT=110,jT=Eo*.6,MT=({onNoteSelect:t})=>{const e=[{note:"C",isBlack:!1},{note:"C#",isBlack:!0},{note:"D",isBlack:!1},{note:"D#",isBlack:!0},{note:"E",isBlack:!1},{note:"F",isBlack:!1},{note:"F#",isBlack:!0},{note:"G",isBlack:!1},{note:"G#",isBlack:!0},{note:"A",isBlack:!1},{note:"A#",isBlack:!0},{note:"B",isBlack:!1}];return f.jsx("div",{className:"keyboard",children:e.map((n,s)=>f.jsx("div",{className:`key ${n.isBlack?"black":"white"}`,style:{left:n.isBlack?s*Eo-jT:s*Eo,width:n.isBlack?OT:Eo,height:n.isBlack?IT:AT},onClick:()=>t(n.note),children:n.note},n.note))})},PT=({note:t})=>t?f.jsxs("div",{className:"note-display",children:[f.jsx("h3",{children:t.name}),f.jsxs("p",{children:["Frequency: ",t.frequency," Hz"]})]}):f.jsx("div",{className:"note-display",children:"Select a note to see details"}),RT=()=>{const[t,e]=A.useState(null),{playNote:n,initialize:s}=el();A.useEffect(()=>{s()},[s]);const r=i=>{const a={name:i,frequency:440*Math.pow(2,(nt(i)-9)/12)};e(a),n(`${i}4`)};return f.jsxs("div",{className:"note-explorer",children:[f.jsx("h2",{children:"Note Explorer"}),f.jsx(MT,{onNoteSelect:r}),f.jsx(PT,{note:t})]})},DT=()=>f.jsxs("div",{className:"note-explorer-page",children:[f.jsx("h1",{children:"Explore Musical Notes"}),f.jsx("p",{children:"Click a key on the interactive keyboard to see and hear the corresponding note."}),f.jsx(RT,{}),f.jsx("p",{children:f.jsx(_s,{to:"/",children:"Back to Home"})})]});class bT{constructor(){this.synth=new lr(on).toDestination(),this.initialized=!1,this.activeSequences=[]}async initialize(){if(this.initialized)return!0;try{return await eh(),this.initialized=!0,!0}catch(e){return console.error("Failed to initialize audio context:",e),!1}}async playNote(e,n="8n"){!this.initialized&&!await this.initialize()||this.synth.triggerAttackRelease(e,n)}async playChord(e,n="2n"){if(!(!this.initialized&&!await this.initialize())){if(typeof e=="string"){const s=e.replace(/maj|min|m|dim|aug|sus[24]?|[2-9]/,""),r=e.replace(s,"");e={maj:["C4","E4","G4"],m:["C4","Eb4","G4"],min:["C4","Eb4","G4"],7:["C4","E4","G4","Bb4"],maj7:["C4","E4","G4","B4"]}[r]||["C4","E4","G4"]}this.synth.triggerAttackRelease(e,n)}}async playScale(e,n=120,s=null){if(!this.initialized&&!await this.initialize())return null;const r="8n",i=new Ja((o,a)=>{this.synth.triggerAttackRelease(a,r,o)},e,"8n");if(Ge.bpm.value=n,i.start(0),Ge.state!=="started"&&Ge.start(),this.activeSequences.push(i),s){const o=60/n*e.length;setTimeout(()=>{i.stop(),i.dispose(),this.activeSequences=this.activeSequences.filter(a=>a!==i),this.activeSequences.length===0&&Ge.stop(),s()},o*1e3+100)}return i}async playArpeggio(e,n=120,s="up",r=null){let i;switch(s){case"down":i=[...e].reverse();break;case"updown":i=[...e,...e.slice(1,-1).reverse()];break;case"up":default:i=e}return this.playScale(i,n,r)}async playProgression(e,n=80,s=null,r=null){if(!this.initialized&&!await this.initialize())return;const i="2n",o=60/n*2*e.length;let a=0;const l=()=>{if(a>=e.length){r&&r();return}const c=e[a];this.playChord(c,i),s&&s(c,a),a++,setTimeout(l,60/n*2*1e3)};return l(),{totalDuration:o,stop:()=>{a=e.length,this.stopAll()}}}stopAll(){this.activeSequences.forEach(e=>{e.stop(),e.dispose()}),this.activeSequences=[],Ge.stop(),Ge.cancel()}createInstrument(e="synth"){let n;switch(e){case"piano":n=new qi({C4:"piano-C4.mp3",G4:"piano-G4.mp3"}).toDestination();break;case"guitar":n=new lr(ph).toDestination(),n.set({harmonicity:2.5,oscillator:{type:"sine"},envelope:{attack:.05,decay:.2,sustain:.4,release:1.5},modulation:{type:"square"},modulationEnvelope:{attack:.5,decay:.1,sustain:.2,release:.5}});break;case"synth":default:n=new lr(on).toDestination()}return n}}const Ye=new bT,FT=()=>{const[t,e]=A.useState(null),[n,s]=A.useState("major"),[r,i]=A.useState(!1),[o,a]=A.useState(null),l=A.useRef(null),c=600,u=600,h=c/2,p=u/2,v=220,g=150,_=30;A.useEffect(()=>{const w=P0();a(w)},[]),A.useEffect(()=>(Ye.initialize(),()=>{r&&Ye.stopAll()}),[r]);const x=(w,S)=>{e(w),s(S),r&&(Ye.stopAll(),i(!1))},d=()=>{if(!t)return;i(!0);const w=n==="major"?"major":"minor",S=Ye.getScaleNotes(t,w,4),C=[...S,S[0].replace("4","5")];Ye.playScale(C,120,()=>{i(!1)})},m=()=>{if(!o)return null;const{keys:w,innerKeys:S}=o;return f.jsxs(f.Fragment,{children:[w.map((C,k)=>{const E=k*30*(Math.PI/180),N=h+v*Math.sin(E),O=p-v*Math.cos(E),I=t===C.note&&n==="major";return f.jsxs("g",{onClick:()=>x(C.note,"major"),className:`key-circle ${I?"selected":""}`,transform:`translate(${N}, ${O})`,children:[f.jsx("circle",{r:_,className:`key-circle-major ${I?"selected":""}`}),f.jsx("text",{className:"key-text",textAnchor:"middle",dominantBaseline:"middle",children:C.note}),f.jsx("text",{className:"key-signature",textAnchor:"middle",dominantBaseline:"middle",y:"18",children:C.keySignature.sharps>0?`${C.keySignature.sharps}♯`:C.keySignature.flats>0?`${C.keySignature.flats}♭`:""})]},`major-${C.note}`)}),S.map((C,k)=>{const E=k*30*(Math.PI/180),N=h+g*Math.sin(E),O=p-g*Math.cos(E),I=t===C.note&&n==="minor";return f.jsxs("g",{onClick:()=>x(C.note,"minor"),className:`key-circle ${I?"selected":""}`,transform:`translate(${N}, ${O})`,children:[f.jsx("circle",{r:_,className:`key-circle-minor ${I?"selected":""}`}),f.jsxs("text",{className:"key-text",textAnchor:"middle",dominantBaseline:"middle",children:[C.note,"m"]})]},`minor-${C.note}`)}),t&&o&&y()]})},y=()=>{if(!t||!o)return null;const{keys:w,innerKeys:S}=o,C=[],k=w.find(N=>N.note===t&&n==="major"),E=S.find(N=>N.note===t&&n==="minor");if(k){const N=S.find(O=>O.note===k.relativeMinor);if(N){const O=w.indexOf(k)*30*(Math.PI/180),I=h+v*Math.sin(O),R=p-v*Math.cos(O),b=S.indexOf(N)*30*(Math.PI/180),B=h+g*Math.sin(b),F=p-g*Math.cos(b);C.push(f.jsx("line",{x1:I,y1:R,x2:B,y2:F,className:"relationship-line relative"},"relative-relationship"))}}else if(E){const N=w.find(O=>O.note===E.relativeMajor);if(N){const O=S.indexOf(E)*30*(Math.PI/180),I=h+g*Math.sin(O),R=p-g*Math.cos(O),b=w.indexOf(N)*30*(Math.PI/180),B=h+v*Math.sin(b),F=p-v*Math.cos(b);C.push(f.jsx("line",{x1:I,y1:R,x2:B,y2:F,className:"relationship-line relative"},"relative-relationship"))}}return C},T=()=>{if(!t)return f.jsxs("div",{className:"key-info",children:[f.jsx("h3",{children:"Select a key to see details"}),f.jsx("p",{children:"Click on any key in the circle to view information about it and its relationships."})]});const w=na(t,n),S=w.sharps>0?`${w.sharps} sharp${w.sharps>1?"s":""}`:w.flats>0?`${w.flats} flat${w.flats>1?"s":""}`:"No sharps or flats",C=n==="major"?`${t==="A"?"F":t==="B"?"G":t==="C"?"A":t==="D"?"B":t==="E"?"C":t==="F"?"D":t==="G"?"E":t}♯ minor`:`${t==="A"?"C":t==="B"?"D":t==="C"?"E":t==="D"?"F":t==="E"?"G":t==="F"?"A":t==="G"?"B":t}♭ major`;return f.jsxs("div",{className:"key-info",children:[f.jsxs("h3",{children:[t," ",n]}),f.jsxs("p",{children:["Key signature: ",S]}),f.jsxs("p",{children:["Relative key: ",C]}),f.jsx("button",{className:"play-button",onClick:d,disabled:r,children:r?"Playing...":"Play Scale"})]})};return f.jsxs("div",{className:"circle-of-fifths-container",children:[f.jsx("h2",{children:"Circle of Fifths"}),f.jsx("div",{className:"circle-diagram",children:f.jsxs("svg",{ref:l,width:c,height:u,viewBox:`0 0 ${c} ${u}`,className:"circle-svg",children:[f.jsx("circle",{cx:h,cy:p,r:v+30,className:"circle-background"}),f.jsx("circle",{cx:h,cy:p,r:g-20,className:"circle-background inner"}),Array.from({length:12}).map((w,S)=>{const C=S*30*(Math.PI/180),k=h+(v+30)*Math.sin(C),E=p-(v+30)*Math.cos(C),N=h+(g-20)*Math.sin(C),O=p-(g-20)*Math.cos(C);return f.jsx("line",{x1:N,y1:O,x2:k,y2:E,className:"radial-line"},`radial-line-${S}`)}),m(),f.jsx("text",{x:h,y:p-15,textAnchor:"middle",className:"center-text-title",children:"Circle of Fifths"}),f.jsx("text",{x:h,y:p+15,textAnchor:"middle",className:"center-text-subtitle",children:"Major (outer) ↔ Minor (inner)"})]})}),T(),f.jsxs("div",{className:"theory-explanation",children:[f.jsx("h3",{children:"About the Circle of Fifths"}),f.jsx("p",{children:"The Circle of Fifths is a visual representation of the relationships between the 12 tones of the chromatic scale. It organizes keys in a way that adjacent keys are separated by an interval of a perfect fifth."}),f.jsx("p",{children:"Moving clockwise around the circle adds one sharp to the key signature, while moving counterclockwise adds one flat. The outer circle represents major keys, while the inner circle shows their relative minor keys."}),f.jsx("p",{children:"This powerful music theory tool helps with understanding key relationships, modulation, and chord progressions."})]})]})},VT=()=>f.jsxs("div",{className:"page-container",children:[f.jsx(as,{}),f.jsx("div",{className:"content-container",children:f.jsx(FT,{})})]}),LT=()=>{const[t,e]=A.useState("C"),[n,s]=A.useState("major"),[r,i]=A.useState([]),[o,a]=A.useState([]),[l,c]=A.useState(!1),[u,h]=A.useState(null),[p,v]=A.useState("I-IV-V-I"),g=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],_=[{value:"major",label:"Major"},{value:"minor",label:"Minor"}],x=[{id:"I-IV-V-I",name:"I-IV-V-I (Common)",degrees:[0,3,4,0]},{id:"I-V-vi-IV",name:"I-V-vi-IV (Pop)",degrees:[0,4,5,3]},{id:"ii-V-I",name:"ii-V-I (Jazz)",degrees:[1,4,0]},{id:"I-vi-IV-V",name:"I-vi-IV-V (50s)",degrees:[0,5,3,4]},{id:"vi-IV-I-V",name:"vi-IV-I-V (Emotional)",degrees:[5,3,0,4]}];A.useEffect(()=>(Ye.initialize(),()=>{l&&Ye.stopAll()}),[l]),A.useEffect(()=>{const k=vr(t,n);a(k);const E=ea(t,n);i(E)},[t,n]);const d=k=>{e(k.target.value)},m=k=>{s(k.target.value)},y=k=>{switch(Dd(k,n)){case"Tonic":return"#4CAF50";case"Subdominant":return"#2196F3";case"Dominant":return"#F44336";default:return"#9E9E9E"}},T=(k,E)=>{let O=["I","II","III","IV","V","VI","VII"][E];return k.type==="min"&&(O=O.toLowerCase()),k.type==="dim"&&(O+="°"),O},w=(k,E)=>{if(l){Ye.stopAll(),c(!1),h(null);return}c(!0),h(E);const N=Rd(k.root,k.type,4);Ye.playChord(N,"2n",()=>{c(!1),h(null)})},S=()=>{if(l){Ye.stopAll(),c(!1),h(null);return}const k=x.find(N=>N.id===p);if(!k)return;c(!0);const E=1;k.degrees.forEach((N,O)=>{const I=r[N];setTimeout(()=>{h(N);const R=Rd(I.root,I.type,4);Ye.playChord(R,"2n"),O===k.degrees.length-1&&setTimeout(()=>{c(!1),h(null)},1e3)},O*E*1e3)})},C=k=>{v(k.target.value)};return f.jsxs("div",{className:"chord-visualizer-container",children:[f.jsx("h2",{children:"Chord Function Visualizer"}),f.jsxs("div",{className:"controls",children:[f.jsxs("div",{className:"control-group",children:[f.jsx("label",{htmlFor:"key-select",children:"Key:"}),f.jsx("select",{id:"key-select",value:t,onChange:d,children:g.map(k=>f.jsx("option",{value:k,children:k},k))})]}),f.jsxs("div",{className:"control-group",children:[f.jsx("label",{htmlFor:"scale-select",children:"Scale:"}),f.jsx("select",{id:"scale-select",value:n,onChange:m,children:_.map(k=>f.jsx("option",{value:k.value,children:k.label},k.value))})]})]}),f.jsxs("div",{className:"scale-display",children:[f.jsxs("h3",{children:["Scale: ",t," ",n]}),f.jsx("div",{className:"scale-notes",children:o.map((k,E)=>f.jsx("span",{className:"scale-note",children:k},E))})]}),f.jsxs("div",{className:"chords-container",children:[f.jsx("h3",{children:"Diatonic Chords"}),f.jsx("div",{className:"chord-cards",children:r.map((k,E)=>{const N=T(k,E),O=Dd(E,n),I=y(E),R=u===E;return f.jsxs("div",{className:`chord-card ${R?"playing":""}`,onClick:()=>w(k,E),style:{borderColor:I},children:[f.jsx("div",{className:"chord-numeral",style:{backgroundColor:I},children:N}),f.jsxs("div",{className:"chord-details",children:[f.jsxs("div",{className:"chord-name",children:[k.root,k.type==="maj"?"":k.type==="min"?"m":k.type==="dim"?"°":""]}),f.jsx("div",{className:"chord-notes",children:k.chord.join(" - ")}),f.jsx("div",{className:"chord-function",children:O})]}),f.jsx("div",{className:"play-icon",children:R?"■":"▶"})]},E)})})]}),f.jsxs("div",{className:"progression-player",children:[f.jsx("h3",{children:"Chord Progressions"}),f.jsxs("div",{className:"progression-controls",children:[f.jsx("select",{value:p,onChange:C,children:x.map(k=>f.jsx("option",{value:k.id,children:k.name},k.id))}),f.jsx("button",{className:"play-button",onClick:S,disabled:l&&u===null,children:l?"Stop":"Play Progression"})]}),f.jsx("div",{className:"progression-display",children:p.split("-").map((k,E)=>{const N=x.find(b=>b.id===p),O=N?N.degrees[E]:0,I=u===O&&l,R=y(O);return f.jsx("div",{className:`progression-chord ${I?"playing":""}`,style:{backgroundColor:I?R:"transparent",borderColor:R},children:k},E)})})]}),f.jsxs("div",{className:"theory-explanation",children:[f.jsx("h3",{children:"Understanding Chord Functions"}),f.jsx("p",{children:'Chords in a key have specific roles or "functions" based on their relationship to the tonic (home) chord. These functions create the sense of tension and resolution that drives musical motion.'}),f.jsxs("div",{className:"function-groups",children:[f.jsxs("div",{className:"function-group",children:[f.jsx("h4",{style:{color:"#4CAF50"},children:"Tonic Function (I, vi, iii)"}),f.jsx("p",{children:'Creates a sense of stability and resolution. The "home base" of the key.'})]}),f.jsxs("div",{className:"function-group",children:[f.jsx("h4",{style:{color:"#2196F3"},children:"Subdominant Function (IV, ii)"}),f.jsx("p",{children:'Creates movement away from tonic, setting up tension. The "departure" feeling.'})]}),f.jsxs("div",{className:"function-group",children:[f.jsx("h4",{style:{color:"#F44336"},children:"Dominant Function (V, vii°)"}),f.jsx("p",{children:'Creates maximum tension that wants to resolve back to tonic. The "returning home" impulse.'})]})]}),f.jsx("p",{children:"Most chord progressions in music follow functional patterns that create satisfying journeys of tension and resolution, typically moving from tonic → subdominant → dominant → tonic."})]})]})},zT=()=>f.jsxs("div",{className:"page-container",children:[f.jsx(as,{}),f.jsx("div",{className:"content-container",children:f.jsx(LT,{})})]}),WT=()=>{const[t,e]=A.useState("C"),[n,s]=A.useState([]),[r,i]=A.useState(0),[o,a]=A.useState(!1),[l,c]=A.useState("ascending"),u=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],h={Ionian:{character:"Bright, happy, stable",use:"Pop, rock, folk, children's songs",example:"Happy Birthday, Twinkle Twinkle Little Star",intervals:"W-W-H-W-W-W-H"},Dorian:{character:"Minor with a bright sixth, jazzy, slightly melancholic",use:"Jazz, folk, rock, blues",example:"Scarborough Fair, So What (Miles Davis)",intervals:"W-H-W-W-W-H-W"},Phrygian:{character:"Exotic, tense, Spanish or Middle Eastern flavor",use:"Flamenco, metal, film music for tension",example:"Flamenco music, some heavy metal riffs",intervals:"H-W-W-W-H-W-W"},Lydian:{character:"Dreamy, floating, otherworldly",use:"Film scores, progressive rock, dream sequences",example:"The Simpsons theme, Flying (The Beatles)",intervals:"W-W-W-H-W-W-H"},Mixolydian:{character:"Bluesy, less resolute than major, rock and roll feel",use:"Blues, rock, folk, Celtic music",example:"Norwegian Wood (The Beatles), Sweet Home Alabama",intervals:"W-W-H-W-W-H-W"},Aeolian:{character:"Sad, melancholic, natural minor scale",use:"Pop ballads, rock, classical, emotional pieces",example:"All Along the Watchtower, Stairway to Heaven intro",intervals:"W-H-W-W-H-W-W"},Locrian:{character:"Unstable, tense, dissonant",use:"Jazz, contemporary classical, tension sections",example:"Rare in popular music, used more in jazz and theoretical contexts",intervals:"H-W-W-H-W-W-W"}};A.useEffect(()=>(Ye.initialize(),()=>{o&&Ye.stopAll()}),[o]),A.useEffect(()=>{const T=M0(t,"major");s(T)},[t]);const p=T=>{e(T.target.value)},v=T=>{i(T)},g=()=>{if(o){Ye.stopAll(),a(!1);return}if(n.length===0||r>=n.length)return;a(!0);const w=n[r].scale.map(C=>`${C}4`),S=[...w,`${w[0].replace("4","5")}`];if((l==="ascending"||l==="both")&&Ye.playScale(S,120,()=>{l!=="both"&&a(!1)}),l==="descending"||l==="both"){const C=l==="both"?S.length*500:0;setTimeout(()=>{const k=[...S].reverse();Ye.playScale(k,120,()=>{a(!1)})},C)}},_=T=>{c(T.target.value)},x=T=>!T||T.length===0?null:f.jsx("div",{className:"interval-pattern",children:T.map((w,S)=>f.jsxs("span",{className:`interval ${w==="W"?"whole":"half"}`,children:[w,S<T.length-1&&f.jsx("span",{className:"interval-dash",children:"-"})]},S))}),d=()=>n.length===0||r>=n.length?null:n[r],m=T=>h[T]||{character:"Unknown",use:"Unknown",example:"Unknown",intervals:"Unknown"},y=()=>{if(n.length===0||r>=n.length)return null;const w=n[r].scale,S=[{note:"C",type:"white"},{note:"C#",type:"black"},{note:"D",type:"white"},{note:"D#",type:"black"},{note:"E",type:"white"},{note:"F",type:"white"},{note:"F#",type:"black"},{note:"G",type:"white"},{note:"G#",type:"black"},{note:"A",type:"white"},{note:"A#",type:"black"},{note:"B",type:"white"}];return f.jsx("div",{className:"mode-keyboard",children:S.map((C,k)=>{const E=w.includes(C.note),N=E?w.indexOf(C.note)+1:null;return f.jsxs("div",{className:`key ${C.type} ${E?"in-scale":""} ${N===1?"root":""}`,children:[f.jsx("span",{className:"key-name",children:C.note}),E&&f.jsx("span",{className:"key-degree",children:N})]},k)})})};return f.jsxs("div",{className:"mode-transformer-container",children:[f.jsx("h2",{children:"Mode Transformer"}),f.jsxs("div",{className:"controls",children:[f.jsxs("div",{className:"control-group",children:[f.jsx("label",{htmlFor:"root-select",children:"Root Note:"}),f.jsx("select",{id:"root-select",value:t,onChange:p,children:u.map(T=>f.jsx("option",{value:T,children:T},T))})]}),f.jsxs("div",{className:"control-group",children:[f.jsx("label",{htmlFor:"playback-mode",children:"Playback:"}),f.jsxs("select",{id:"playback-mode",value:l,onChange:_,children:[f.jsx("option",{value:"ascending",children:"Ascending"}),f.jsx("option",{value:"descending",children:"Descending"}),f.jsx("option",{value:"both",children:"Both"})]})]}),f.jsx("button",{className:"play-button",onClick:g,disabled:n.length===0,children:o?"Stop":"Play Mode"})]}),f.jsx("div",{className:"modes-tabs",children:n.map((T,w)=>f.jsx("div",{className:`mode-tab ${r===w?"active":""}`,onClick:()=>v(w),children:T.name},w))}),f.jsx("div",{className:"mode-display",children:d()&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"mode-header",children:[f.jsxs("h3",{children:[d().root," ",d().name]}),f.jsx("div",{className:"mode-scale",children:d().scale.map((T,w)=>f.jsxs("span",{className:"scale-note",children:[T,w===0&&f.jsx("sup",{children:"1"})]},w))})]}),f.jsxs("div",{className:"mode-details",children:[f.jsxs("div",{className:"intervals-section",children:[f.jsx("h4",{children:"Interval Pattern"}),x(d().pattern),f.jsxs("p",{className:"interval-formula",children:["Formula: ",m(d().name).intervals]})]}),f.jsxs("div",{className:"keyboard-section",children:[f.jsx("h4",{children:"Scale Visualization"}),y()]})]}),f.jsxs("div",{className:"mode-info",children:[f.jsxs("div",{className:"info-section",children:[f.jsx("h4",{children:"Character"}),f.jsx("p",{children:m(d().name).character})]}),f.jsxs("div",{className:"info-section",children:[f.jsx("h4",{children:"Common Uses"}),f.jsx("p",{children:m(d().name).use})]}),f.jsxs("div",{className:"info-section",children:[f.jsx("h4",{children:"Examples"}),f.jsx("p",{children:m(d().name).example})]})]})]})}),f.jsxs("div",{className:"mode-transformation",children:[f.jsx("h3",{children:"Understanding Modal Transformation"}),f.jsx("p",{children:"Modes are derived from the same set of notes but start from different positions. Each mode has a unique sound and character due to the different interval patterns created when starting from a different note."}),f.jsxs("p",{children:["For example, all the modes shown above use the same set of notes as the ",t," major scale, but each one starts on a different note of that scale, creating a completely different sound."]}),f.jsxs("div",{className:"transformation-diagram",children:[f.jsxs("div",{className:"parent-scale",children:[f.jsxs("h4",{children:[t," Ionian (Major Scale)"]}),f.jsx("div",{className:"scale-notes",children:n.length>0&&n[0].scale.map((T,w)=>f.jsx("span",{className:"diagram-note",children:T},w))})]}),f.jsx("div",{className:"transformation-arrows",children:"↓ ↓ ↓ ↓ ↓ ↓ ↓"}),f.jsxs("div",{className:"derived-modes",children:[f.jsxs("div",{className:"derived-mode",children:[f.jsxs("h5",{children:[t," Ionian"]}),f.jsxs("div",{className:"mode-rotation",children:["Start from ",t]})]}),f.jsxs("div",{className:"derived-mode",children:[f.jsxs("h5",{children:[n.length>1?n[1].root:""," Dorian"]}),f.jsx("div",{className:"mode-rotation",children:"Start from the 2nd note"})]}),f.jsxs("div",{className:"derived-mode",children:[f.jsxs("h5",{children:[n.length>2?n[2].root:""," Phrygian"]}),f.jsx("div",{className:"mode-rotation",children:"Start from the 3rd note"})]}),f.jsxs("div",{className:"derived-mode",children:[f.jsxs("h5",{children:[n.length>3?n[3].root:""," Lydian"]}),f.jsx("div",{className:"mode-rotation",children:"Start from the 4th note"})]}),f.jsxs("div",{className:"derived-mode",children:[f.jsxs("h5",{children:[n.length>4?n[4].root:""," Mixolydian"]}),f.jsx("div",{className:"mode-rotation",children:"Start from the 5th note"})]}),f.jsxs("div",{className:"derived-mode",children:[f.jsxs("h5",{children:[n.length>5?n[5].root:""," Aeolian"]}),f.jsx("div",{className:"mode-rotation",children:"Start from the 6th note"})]}),f.jsxs("div",{className:"derived-mode",children:[f.jsxs("h5",{children:[n.length>6?n[6].root:""," Locrian"]}),f.jsx("div",{className:"mode-rotation",children:"Start from the 7th note"})]})]})]})]}),f.jsxs("div",{className:"practical-applications",children:[f.jsx("h3",{children:"Practical Applications"}),f.jsxs("div",{className:"application",children:[f.jsx("h4",{children:"Composition"}),f.jsx("p",{children:"Modes provide different emotional colors for your music. Switch between modes to create contrast or establish a particular mood. For example, Dorian mode creates a jazzy, slightly melancholic feel that's neither too dark nor too bright."})]}),f.jsxs("div",{className:"application",children:[f.jsx("h4",{children:"Improvisation"}),f.jsx("p",{children:"Modes give improvisers a framework for creating melodies with specific characters. When soloing over chord progressions, understanding which mode fits each chord helps create melodic lines that complement the harmony."})]}),f.jsxs("div",{className:"application",children:[f.jsx("h4",{children:"Analysis"}),f.jsx("p",{children:"Modal analysis helps understand why certain pieces sound the way they do. Film composers often use Lydian mode for wonder and fantasy, while Dorian mode appears frequently in folk and jazz."})]})]})]})},BT=()=>f.jsxs("div",{className:"page-container",children:[f.jsx(as,{}),f.jsx("div",{className:"content-container",children:f.jsx(WT,{})})]}),UT=()=>{const[t,e]=A.useState(null),[n,s]=A.useState(null),[r,i]=A.useState(null),{playNote:o,playInterval:a}=el();A.useEffect(()=>{if(t&&n){const u=j0(t.replace(/\d/g,""),n.replace(/\d/g,""));i(u)}else i(null)},[t,n]);const l=u=>{t?t&&!n?(s(u),o(u),setTimeout(()=>{a(t,u)},700)):(e(u),s(null),o(u)):(e(u),o(u))},c=()=>{const h=(()=>{const p=[];for(let v=3;v<=5;v++)en.forEach(g=>{p.push(`${g}${v}`)});return p})();return f.jsx("div",{className:"keyboard",children:h.map(p=>{const v=p.replace(/\d/g,""),g=v.includes("#"),_=p===t||p===n;return f.jsx("div",{className:`piano-key ${g?"black-key":"white-key"} ${_?"selected":""}`,onClick:()=>l(p),children:f.jsx("span",{children:v})},p)})})};return f.jsxs("div",{className:"interval-demonstrator",children:[f.jsx("h2",{children:"Interval Relationship Demonstrator"}),f.jsx("p",{children:"Intervals create relationships between notes and are the building blocks of melody and harmony. Select two notes on the keyboard to hear and analyze their interval relationship."}),f.jsxs("div",{className:"selection-display",children:[f.jsxs("div",{className:"selected-notes",children:[f.jsxs("div",{className:"note-display",children:[f.jsx("strong",{children:"First Note:"})," ",t||"Select a note"]}),f.jsxs("div",{className:"note-display",children:[f.jsx("strong",{children:"Second Note:"})," ",n||"Select a note"]})]}),r&&f.jsxs("div",{className:"interval-info",children:[f.jsxs("h3",{children:["Interval: ",r.name]}),f.jsxs("p",{children:["Semitones: ",r.semitones]}),f.jsxs("p",{children:["Frequency Ratio: ",r.ratio]}),f.jsxs("p",{children:["Character: ",r.character]})]})]}),f.jsx("div",{className:"keyboard-container",children:c()}),f.jsxs("div",{className:"controls",children:[f.jsx("button",{onClick:()=>{t&&n&&a(t,n)},disabled:!t||!n,children:"Play Interval"}),f.jsx("button",{onClick:()=>{e(null),s(null)},children:"Reset"})]})]})},qT=()=>f.jsxs("div",{className:"page-container",children:[f.jsx(as,{}),f.jsx("div",{className:"content-container",children:f.jsx(UT,{})})]}),$T=()=>{const[t,e]=A.useState("C"),[n,s]=A.useState("major"),[r,i]=A.useState([]),[o,a]=A.useState({}),[l,c]=A.useState([]),{playNote:u,playSequence:h}=el();A.useEffect(()=>{const d=vr(t,n),m=d.map(T=>`${T}4`);i(m);const y={};m.forEach((T,w)=>{y[T]={color:v(w),label:`${w+1}`}}),a(y),p(d)},[t,n]);const p=d=>{const m=[];for(let S=0;S<d.length-1;S++){const C=nt(d[S]),E=(nt(d[S+1])-C+12)%12;E===1?m.push({from:d[S],to:d[S+1],type:"half",semitones:E}):E===2?m.push({from:d[S],to:d[S+1],type:"whole",semitones:E}):m.push({from:d[S],to:d[S+1],type:"other",semitones:E})}const y=nt(d[d.length-1]),w=(nt(d[0])-y+12)%12;m.push({from:d[d.length-1],to:d[0],type:w===1?"half":w===2?"whole":"other",semitones:w}),c(m)},v=d=>{const m=["#FF5722","#4CAF50","#2196F3","#FFC107","#9C27B0","#00BCD4","#F44336"];return m[d%m.length]},g=()=>{const d=[...r],m=[...r].reverse().slice(1);h([...d,...m],120)},_=d=>{u(d)},x=()=>{const m=(()=>{const y=[];for(let T=3;T<=5;T++)en.forEach(w=>{y.push(`${w}${T}`)});return y})();return f.jsx("div",{className:"keyboard",children:m.map(y=>{const w=y.replace(/\d/g,"").includes("#"),S=r.includes(y),C=o[y];return f.jsx("div",{className:`piano-key ${w?"black-key":"white-key"} ${S?"in-scale":""}`,style:S?{backgroundColor:C==null?void 0:C.color}:{},onClick:()=>_(y),children:f.jsx("span",{children:S?C==null?void 0:C.label:""})},y)})})};return f.jsxs("div",{className:"scale-lab",children:[f.jsx("h2",{children:"Scale Construction Laboratory"}),f.jsx("p",{children:"Explore how different scales are constructed using specific patterns of intervals. Select a root note and scale type to see the pattern visualized on the keyboard."}),f.jsxs("div",{className:"controls",children:[f.jsxs("div",{className:"control-group",children:[f.jsx("label",{htmlFor:"root-note",children:"Root Note:"}),f.jsx("select",{id:"root-note",value:t,onChange:d=>e(d.target.value),children:en.map(d=>f.jsx("option",{value:d,children:d},d))})]}),f.jsxs("div",{className:"control-group",children:[f.jsx("label",{htmlFor:"scale-type",children:"Scale Type:"}),f.jsx("select",{id:"scale-type",value:n,onChange:d=>s(d.target.value),children:Object.keys(Ec).map(d=>f.jsx("option",{value:d,children:d.charAt(0).toUpperCase()+d.slice(1)},d))})]}),f.jsx("button",{className:"play-button",onClick:g,children:"Play Scale"})]}),f.jsxs("div",{className:"scale-display",children:[f.jsx("h3",{children:"Scale Notes:"}),f.jsx("div",{className:"scale-notes",children:r.map((d,m)=>f.jsxs("div",{className:"scale-note",style:{backgroundColor:v(m)},onClick:()=>_(d),children:[d.replace(/\d/g,""),f.jsx("span",{className:"degree",children:m+1})]},m))})]}),f.jsxs("div",{className:"step-pattern",children:[f.jsx("h3",{children:"Step Pattern:"}),f.jsx("div",{className:"steps",children:l.map((d,m)=>f.jsxs("div",{className:`step ${d.type}`,children:[f.jsxs("div",{className:"notes",children:[f.jsx("span",{children:d.from}),f.jsx("span",{children:"to"}),f.jsx("span",{children:d.to})]}),f.jsx("div",{className:"description",children:d.type==="half"?"Half Step (1 semitone)":d.type==="whole"?"Whole Step (2 semitones)":`${d.semitones} semitones`})]},m))})]}),f.jsxs("div",{className:"keyboard-container",children:[f.jsx("h3",{children:"Interactive Keyboard:"}),x()]}),f.jsxs("div",{className:"scale-theory",children:[f.jsxs("h3",{children:["About ",t," ",n.charAt(0).toUpperCase()+n.slice(1)," Scale:"]}),f.jsxs("p",{children:["The ",t," ",n," scale consists of ",r.length," notes.",n==="major"&&" The major scale is one of the most common scales in Western music, with a bright and happy sound.",n==="minor"&&" The natural minor scale has a darker, more melancholic sound compared to the major scale.",n==="dorian"&&" The Dorian mode is a minor mode with a raised 6th degree, giving it a jazzy and slightly less somber sound than the natural minor.",n==="phrygian"&&" The Phrygian mode has a distinctive Spanish or Eastern flavor, with its flattened 2nd degree.",n==="lydian"&&" The Lydian mode has a dreamy, floating quality due to its raised 4th degree.",n==="mixolydian"&&" The Mixolydian mode has a bluesy, dominant 7th chord sound due to its flattened 7th degree.",n==="locrian"&&" The Locrian mode is the most dissonant of the modes, with both a flattened 2nd and 5th degree."]}),f.jsxs("p",{children:["The formula for this scale is:",Ec[n].map((d,m)=>f.jsxs("span",{children:[m>0?" - ":"",d]},m))]})]})]})},HT=()=>f.jsxs("div",{className:"page-container",children:[f.jsx(as,{}),f.jsx("div",{className:"content-container",children:f.jsx($T,{})})]}),GT=()=>{const[t,e]=A.useState("C"),[n,s]=A.useState("major"),[r,i]=A.useState([]),[o,a]=A.useState([]),[l,c]=A.useState(null),[u,h]=A.useState([]),[p,v]=A.useState([]),[g,_]=A.useState("scales"),{playNote:x,playSequence:d,playChord:m}=el();A.useEffect(()=>{const C=vr(t,n).map(E=>`${E}4`);i(C);const k=ta(t,n);if(c(k),k){const N=vr(k.root,k.type).map(O=>`${O}4`);a(N),h(ea(t,n)),v(ea(k.root,k.type))}},[t,n]);const y=S=>{if(S&&S.length>0){const C=[...S],k=[...S].reverse().slice(1);d([...C,...k],120)}},T=S=>{if(S&&S.chord){const C=S.chord.map(k=>`${k}4`);m(C)}},w=()=>{r.length>0&&o.length>0&&(y(r),setTimeout(()=>{y(o)},4e3))};return f.jsxs("div",{className:"relative-explorer",children:[f.jsx("h2",{children:"Relative Major/Minor Explorer"}),f.jsx("p",{children:"Explore the relationship between relative major and minor keys, which share the same notes but start from different positions, creating different tonalities."}),f.jsxs("div",{className:"controls",children:[f.jsxs("div",{className:"control-group",children:[f.jsx("label",{htmlFor:"root-note",children:"Root Note:"}),f.jsx("select",{id:"root-note",value:t,onChange:S=>e(S.target.value),children:en.map(S=>f.jsx("option",{value:S,children:S},S))})]}),f.jsxs("div",{className:"control-group",children:[f.jsx("label",{htmlFor:"scale-type",children:"Scale Type:"}),f.jsxs("select",{id:"scale-type",value:n,onChange:S=>s(S.target.value),children:[f.jsx("option",{value:"major",children:"Major"}),f.jsx("option",{value:"minor",children:"Minor"})]})]}),f.jsx("button",{className:"play-button",onClick:w,children:"Play Both Scales"})]}),f.jsxs("div",{className:"tabs",children:[f.jsx("button",{className:`tab ${g==="scales"?"active":""}`,onClick:()=>_("scales"),children:"Scales"}),f.jsx("button",{className:`tab ${g==="chords"?"active":""}`,onClick:()=>_("chords"),children:"Chords"}),f.jsx("button",{className:`tab ${g==="theory"?"active":""}`,onClick:()=>_("theory"),children:"Theory"})]}),f.jsxs("div",{className:"tab-content",children:[g==="scales"&&f.jsxs("div",{className:"scales-view",children:[f.jsxs("div",{className:"scale-box primary",children:[f.jsxs("h3",{children:[t," ",n.charAt(0).toUpperCase()+n.slice(1)]}),f.jsx("div",{className:"scale-notes",children:r.map((S,C)=>f.jsxs("div",{className:"scale-note",onClick:()=>x(S),children:[S.replace(/\d/g,""),f.jsx("span",{className:"degree",children:C+1})]},C))}),f.jsx("button",{onClick:()=>y(r),children:"Play Scale"})]}),f.jsx("div",{className:"relationship-arrow",children:n==="major"?"↔ Relative Minor":"↔ Relative Major"}),l&&f.jsxs("div",{className:"scale-box relative",children:[f.jsxs("h3",{children:[l.root," ",l.type.charAt(0).toUpperCase()+l.type.slice(1)]}),f.jsx("div",{className:"scale-notes",children:o.map((S,C)=>f.jsxs("div",{className:"scale-note",onClick:()=>x(S),children:[S.replace(/\d/g,""),f.jsx("span",{className:"degree",children:C+1})]},C))}),f.jsx("button",{onClick:()=>y(o),children:"Play Scale"})]})]}),g==="chords"&&f.jsxs("div",{className:"chords-view",children:[f.jsxs("div",{className:"chord-box primary",children:[f.jsxs("h3",{children:[t," ",n.charAt(0).toUpperCase()+n.slice(1)," Chords"]}),f.jsx("div",{className:"chord-list",children:u.map((S,C)=>f.jsxs("div",{className:"chord-item",onClick:()=>T(S),children:[f.jsx("div",{className:"chord-name",children:S.numeral}),f.jsxs("div",{className:"chord-notes",children:[S.root,S.type," (",S.chord.join(", "),")"]}),f.jsx("div",{className:"chord-function",children:S.function})]},C))})]}),l&&f.jsxs("div",{className:"chord-box relative",children:[f.jsxs("h3",{children:[l.root," ",l.type.charAt(0).toUpperCase()+l.type.slice(1)," Chords"]}),f.jsx("div",{className:"chord-list",children:p.map((S,C)=>f.jsxs("div",{className:"chord-item",onClick:()=>T(S),children:[f.jsx("div",{className:"chord-name",children:S.numeral}),f.jsxs("div",{className:"chord-notes",children:[S.root,S.type," (",S.chord.join(", "),")"]}),f.jsx("div",{className:"chord-function",children:S.function})]},C))})]})]}),g==="theory"&&f.jsxs("div",{className:"theory-view",children:[f.jsx("h3",{children:"Understanding Relative Keys"}),f.jsxs("div",{className:"theory-content",children:[f.jsxs("p",{children:[f.jsx("strong",{children:"Relative keys"})," are musical keys that share the same key signature (the same set of sharps or flats). Every major key has a relative minor key, and every minor key has a relative major key."]}),f.jsx("h4",{children:"Key Relationships:"}),f.jsxs("ul",{children:[f.jsxs("li",{children:[f.jsx("strong",{children:"To find the relative minor"})," of a major key: Go down 3 semitones (or up 9 semitones) from the major key's tonic. For example, the relative minor of C major is A minor."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"To find the relative major"})," of a minor key: Go up 3 semitones (or down 9 semitones) from the minor key's tonic. For example, the relative major of A minor is C major."]})]}),f.jsx("h4",{children:"What Makes Them Special:"}),f.jsxs("ul",{children:[f.jsxs("li",{children:[f.jsx("strong",{children:"Same notes, different starting point:"})," Both relative keys use exactly the same notes, but they start from different positions in the scale."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Different character:"})," Despite sharing the same notes, they sound very different because of the different tonal center and chord relationships."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Different chord functions:"})," The chords play different functional roles in each key, creating distinct harmonies and resolutions."]})]}),l&&f.jsxs("div",{className:"example-box",children:[f.jsx("h4",{children:"Current Example:"}),f.jsxs("p",{children:[t," ",n," and ",l.root," ",l.type," are relative keys."]}),f.jsx("p",{children:"Both keys share exactly the same notes, starting from different positions. However, the emotional character is quite different:"}),f.jsxs("ul",{children:[f.jsxs("li",{children:[t," ",n," typically sounds ",n==="major"?"bright and happy":"dark and melancholic","."]}),f.jsxs("li",{children:[l.root," ",l.type," typically sounds ",l.type==="major"?"bright and happy":"dark and melancholic","."]})]})]})]})]})]})]})},QT=()=>f.jsxs("div",{className:"page-container",children:[f.jsx(as,{}),f.jsx("div",{className:"content-container",children:f.jsx(GT,{})})]}),YT=()=>f.jsx(N0,{children:f.jsx(zg,{children:f.jsx(Bg,{children:f.jsx(D0,{children:f.jsx(CT,{children:f.jsx("div",{className:"app",children:f.jsxs(h0,{children:[f.jsx(Qt,{path:"/",element:f.jsx(NT,{})}),f.jsx(Qt,{path:"/dashboard",element:f.jsx(ET,{})}),f.jsx(Qt,{path:"/notes",element:f.jsx(DT,{})}),f.jsx(Qt,{path:"/intervals",element:f.jsx(qT,{})}),f.jsx(Qt,{path:"/scales",element:f.jsx(HT,{})}),f.jsx(Qt,{path:"/relative",element:f.jsx(QT,{})}),f.jsx(Qt,{path:"/circle-of-fifths",element:f.jsx(VT,{})}),f.jsx(Qt,{path:"/chord-visualizer",element:f.jsx(zT,{})}),f.jsx(Qt,{path:"/mode-transformer",element:f.jsx(BT,{})})]})})})})})})}),XT=A.createContext(),KT=({children:t})=>{const{progress:e,updatePreferences:n}=Lg(),s=e.preferences||{notationPreference:"piano",audioEnabled:!0,showTips:!0},l={preferences:s,setNotationPreference:c=>{["piano","guitar","standard"].includes(c)&&n({notationPreference:c})},toggleAudio:()=>{n({audioEnabled:!s.audioEnabled})},toggleTips:()=>{n({showTips:!s.showTips})},setMultiplePreferences:c=>{n(c)}};return f.jsx(XT.Provider,{value:l,children:t})};Il.createRoot(document.getElementById("root")).render(f.jsx(ff.StrictMode,{children:f.jsx(_0,{children:f.jsx(zg,{children:f.jsx(Bg,{children:f.jsx(KT,{children:f.jsx(YT,{})})})})})}));
//# sourceMappingURL=main-D7tviw0r.js.map
