function Yg(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const r in s)if(r!=="default"&&!(r in t)){const i=Object.getOwnPropertyDescriptor(s,r);i&&Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:()=>s[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function Xg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var rf={exports:{}},va={},of={exports:{}},K={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ti=Symbol.for("react.element"),Kg=Symbol.for("react.portal"),Zg=Symbol.for("react.fragment"),Jg=Symbol.for("react.strict_mode"),ev=Symbol.for("react.profiler"),tv=Symbol.for("react.provider"),nv=Symbol.for("react.context"),sv=Symbol.for("react.forward_ref"),rv=Symbol.for("react.suspense"),iv=Symbol.for("react.memo"),ov=Symbol.for("react.lazy"),wh=Symbol.iterator;function av(t){return t===null||typeof t!="object"?null:(t=wh&&t[wh]||t["@@iterator"],typeof t=="function"?t:null)}var af={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lf=Object.assign,cf={};function Tr(t,e,n){this.props=t,this.context=e,this.refs=cf,this.updater=n||af}Tr.prototype.isReactComponent={};Tr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Tr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function uf(){}uf.prototype=Tr.prototype;function Bc(t,e,n){this.props=t,this.context=e,this.refs=cf,this.updater=n||af}var Uc=Bc.prototype=new uf;Uc.constructor=Bc;lf(Uc,Tr.prototype);Uc.isPureReactComponent=!0;var Sh=Array.isArray,hf=Object.prototype.hasOwnProperty,$c={current:null},df={key:!0,ref:!0,__self:!0,__source:!0};function ff(t,e,n){var s,r={},i=null,o=null;if(e!=null)for(s in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)hf.call(e,s)&&!df.hasOwnProperty(s)&&(r[s]=e[s]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(t&&t.defaultProps)for(s in a=t.defaultProps,a)r[s]===void 0&&(r[s]=a[s]);return{$$typeof:Ti,type:t,key:i,ref:o,props:r,_owner:$c.current}}function lv(t,e){return{$$typeof:Ti,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function qc(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ti}function cv(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var kh=/\/+/g;function rl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?cv(""+t.key):e.toString(36)}function po(t,e,n,s,r){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ti:case Kg:o=!0}}if(o)return o=t,r=r(o),t=s===""?"."+rl(o,0):s,Sh(r)?(n="",t!=null&&(n=t.replace(kh,"$&/")+"/"),po(r,e,n,"",function(c){return c})):r!=null&&(qc(r)&&(r=lv(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(kh,"$&/")+"/")+t)),e.push(r)),1;if(o=0,s=s===""?".":s+":",Sh(t))for(var a=0;a<t.length;a++){i=t[a];var l=s+rl(i,a);o+=po(i,e,n,l,r)}else if(l=av(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=s+rl(i,a++),o+=po(i,e,n,l,r);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Hi(t,e,n){if(t==null)return t;var s=[],r=0;return po(t,s,"","",function(i){return e.call(n,i,r++)}),s}function uv(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var at={current:null},mo={transition:null},hv={ReactCurrentDispatcher:at,ReactCurrentBatchConfig:mo,ReactCurrentOwner:$c};function pf(){throw Error("act(...) is not supported in production builds of React.")}K.Children={map:Hi,forEach:function(t,e,n){Hi(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Hi(t,function(){e++}),e},toArray:function(t){return Hi(t,function(e){return e})||[]},only:function(t){if(!qc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};K.Component=Tr;K.Fragment=Zg;K.Profiler=ev;K.PureComponent=Bc;K.StrictMode=Jg;K.Suspense=rv;K.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hv;K.act=pf;K.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var s=lf({},t.props),r=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=$c.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)hf.call(e,l)&&!df.hasOwnProperty(l)&&(s[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];s.children=a}return{$$typeof:Ti,type:t.type,key:r,ref:i,props:s,_owner:o}};K.createContext=function(t){return t={$$typeof:nv,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:tv,_context:t},t.Consumer=t};K.createElement=ff;K.createFactory=function(t){var e=ff.bind(null,t);return e.type=t,e};K.createRef=function(){return{current:null}};K.forwardRef=function(t){return{$$typeof:sv,render:t}};K.isValidElement=qc;K.lazy=function(t){return{$$typeof:ov,_payload:{_status:-1,_result:t},_init:uv}};K.memo=function(t,e){return{$$typeof:iv,type:t,compare:e===void 0?null:e}};K.startTransition=function(t){var e=mo.transition;mo.transition={};try{t()}finally{mo.transition=e}};K.unstable_act=pf;K.useCallback=function(t,e){return at.current.useCallback(t,e)};K.useContext=function(t){return at.current.useContext(t)};K.useDebugValue=function(){};K.useDeferredValue=function(t){return at.current.useDeferredValue(t)};K.useEffect=function(t,e){return at.current.useEffect(t,e)};K.useId=function(){return at.current.useId()};K.useImperativeHandle=function(t,e,n){return at.current.useImperativeHandle(t,e,n)};K.useInsertionEffect=function(t,e){return at.current.useInsertionEffect(t,e)};K.useLayoutEffect=function(t,e){return at.current.useLayoutEffect(t,e)};K.useMemo=function(t,e){return at.current.useMemo(t,e)};K.useReducer=function(t,e,n){return at.current.useReducer(t,e,n)};K.useRef=function(t){return at.current.useRef(t)};K.useState=function(t){return at.current.useState(t)};K.useSyncExternalStore=function(t,e,n){return at.current.useSyncExternalStore(t,e,n)};K.useTransition=function(){return at.current.useTransition()};K.version="18.3.1";of.exports=K;var j=of.exports;const mf=Xg(j),dv=Yg({__proto__:null,default:mf},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fv=j,pv=Symbol.for("react.element"),mv=Symbol.for("react.fragment"),gv=Object.prototype.hasOwnProperty,vv=fv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,yv={key:!0,ref:!0,__self:!0,__source:!0};function gf(t,e,n){var s,r={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(s in e)gv.call(e,s)&&!yv.hasOwnProperty(s)&&(r[s]=e[s]);if(t&&t.defaultProps)for(s in e=t.defaultProps,e)r[s]===void 0&&(r[s]=e[s]);return{$$typeof:pv,type:t,key:i,ref:o,props:r,_owner:vv.current}}va.Fragment=mv;va.jsx=gf;va.jsxs=gf;rf.exports=va;var u=rf.exports,Ml={},vf={exports:{}},Tt={},yf={exports:{}},_f={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,R){var F=M.length;M.push(R);e:for(;0<F;){var W=F-1>>>1,$=M[W];if(0<r($,R))M[W]=R,M[F]=$,F=W;else break e}}function n(M){return M.length===0?null:M[0]}function s(M){if(M.length===0)return null;var R=M[0],F=M.pop();if(F!==R){M[0]=F;e:for(var W=0,$=M.length,Fe=$>>>1;W<Fe;){var ke=2*(W+1)-1,Q=M[ke],J=ke+1,Ne=M[J];if(0>r(Q,F))J<$&&0>r(Ne,Q)?(M[W]=Ne,M[J]=F,W=J):(M[W]=Q,M[ke]=F,W=ke);else if(J<$&&0>r(Ne,F))M[W]=Ne,M[J]=F,W=J;else break e}}return R}function r(M,R){var F=M.sortIndex-R.sortIndex;return F!==0?F:M.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,d=null,p=3,v=!1,g=!1,_=!1,w=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(M){for(var R=n(c);R!==null;){if(R.callback===null)s(c);else if(R.startTime<=M)s(c),R.sortIndex=R.expirationTime,e(l,R);else break;R=n(c)}}function T(M){if(_=!1,y(M),!g)if(n(l)!==null)g=!0,L(x);else{var R=n(c);R!==null&&V(T,R.startTime-M)}}function x(M,R){g=!1,_&&(_=!1,f(k),k=-1),v=!0;var F=p;try{for(y(R),d=n(l);d!==null&&(!(d.expirationTime>R)||M&&!N());){var W=d.callback;if(typeof W=="function"){d.callback=null,p=d.priorityLevel;var $=W(d.expirationTime<=R);R=t.unstable_now(),typeof $=="function"?d.callback=$:d===n(l)&&s(l),y(R)}else s(l);d=n(l)}if(d!==null)var Fe=!0;else{var ke=n(c);ke!==null&&V(T,ke.startTime-R),Fe=!1}return Fe}finally{d=null,p=F,v=!1}}var S=!1,C=null,k=-1,E=5,A=-1;function N(){return!(t.unstable_now()-A<E)}function I(){if(C!==null){var M=t.unstable_now();A=M;var R=!0;try{R=C(!0,M)}finally{R?O():(S=!1,C=null)}}else S=!1}var O;if(typeof m=="function")O=function(){m(I)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,D=P.port2;P.port1.onmessage=I,O=function(){D.postMessage(null)}}else O=function(){w(I,0)};function L(M){C=M,S||(S=!0,O())}function V(M,R){k=w(function(){M(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){g||v||(g=!0,L(x))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(M){switch(p){case 1:case 2:case 3:var R=3;break;default:R=p}var F=p;p=R;try{return M()}finally{p=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,R){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var F=p;p=M;try{return R()}finally{p=F}},t.unstable_scheduleCallback=function(M,R,F){var W=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?W+F:W):F=W,M){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=F+$,M={id:h++,callback:R,priorityLevel:M,startTime:F,expirationTime:$,sortIndex:-1},F>W?(M.sortIndex=F,e(c,M),n(l)===null&&M===n(c)&&(_?(f(k),k=-1):_=!0,V(T,F-W))):(M.sortIndex=$,e(l,M),g||v||(g=!0,L(x))),M},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(M){var R=p;return function(){var F=p;p=R;try{return M.apply(this,arguments)}finally{p=F}}}})(_f);yf.exports=_f;var _v=yf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xv=j,kt=_v;function b(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xf=new Set,ni={};function Os(t,e){ur(t,e),ur(t+"Capture",e)}function ur(t,e){for(ni[t]=e,t=0;t<e.length;t++)xf.add(e[t])}var yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pl=Object.prototype.hasOwnProperty,wv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Th={},Ch={};function Sv(t){return Pl.call(Ch,t)?!0:Pl.call(Th,t)?!1:wv.test(t)?Ch[t]=!0:(Th[t]=!0,!1)}function kv(t,e,n,s){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Tv(t,e,n,s){if(e===null||typeof e>"u"||kv(t,e,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function lt(t,e,n,s,r,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){qe[t]=new lt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];qe[e]=new lt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){qe[t]=new lt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){qe[t]=new lt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){qe[t]=new lt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){qe[t]=new lt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){qe[t]=new lt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){qe[t]=new lt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){qe[t]=new lt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Hc=/[\-:]([a-z])/g;function Gc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Hc,Gc);qe[e]=new lt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Hc,Gc);qe[e]=new lt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Hc,Gc);qe[e]=new lt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){qe[t]=new lt(t,1,!1,t.toLowerCase(),null,!1,!1)});qe.xlinkHref=new lt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){qe[t]=new lt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Qc(t,e,n,s){var r=qe.hasOwnProperty(e)?qe[e]:null;(r!==null?r.type!==0:s||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Tv(e,n,r,s)&&(n=null),s||r===null?Sv(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,s=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,s?t.setAttributeNS(s,e,n):t.setAttribute(e,n))))}var kn=xv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gi=Symbol.for("react.element"),Bs=Symbol.for("react.portal"),Us=Symbol.for("react.fragment"),Yc=Symbol.for("react.strict_mode"),Rl=Symbol.for("react.profiler"),wf=Symbol.for("react.provider"),Sf=Symbol.for("react.context"),Xc=Symbol.for("react.forward_ref"),bl=Symbol.for("react.suspense"),Dl=Symbol.for("react.suspense_list"),Kc=Symbol.for("react.memo"),On=Symbol.for("react.lazy"),kf=Symbol.for("react.offscreen"),Nh=Symbol.iterator;function br(t){return t===null||typeof t!="object"?null:(t=Nh&&t[Nh]||t["@@iterator"],typeof t=="function"?t:null)}var ge=Object.assign,il;function Ur(t){if(il===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);il=e&&e[1]||""}return`
`+il+t}var ol=!1;function al(t,e){if(!t||ol)return"";ol=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var s=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){s=c}t.call(e.prototype)}else{try{throw Error()}catch(c){s=c}t()}}catch(c){if(c&&s&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),i=s.stack.split(`
`),o=r.length-1,a=i.length-1;1<=o&&0<=a&&r[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==i[a]){var l=`
`+r[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{ol=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ur(t):""}function Cv(t){switch(t.tag){case 5:return Ur(t.type);case 16:return Ur("Lazy");case 13:return Ur("Suspense");case 19:return Ur("SuspenseList");case 0:case 2:case 15:return t=al(t.type,!1),t;case 11:return t=al(t.type.render,!1),t;case 1:return t=al(t.type,!0),t;default:return""}}function Fl(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Us:return"Fragment";case Bs:return"Portal";case Rl:return"Profiler";case Yc:return"StrictMode";case bl:return"Suspense";case Dl:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Sf:return(t.displayName||"Context")+".Consumer";case wf:return(t._context.displayName||"Context")+".Provider";case Xc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Kc:return e=t.displayName||null,e!==null?e:Fl(t.type)||"Memo";case On:e=t._payload,t=t._init;try{return Fl(t(e))}catch{}}return null}function Nv(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fl(e);case 8:return e===Yc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Zn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Tf(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ev(t){var e=Tf(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Qi(t){t._valueTracker||(t._valueTracker=Ev(t))}function Cf(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),s="";return t&&(s=Tf(t)?t.checked?"true":"false":t.value),t=s,t!==n?(e.setValue(t),!0):!1}function jo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ll(t,e){var n=e.checked;return ge({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Eh(t,e){var n=e.defaultValue==null?"":e.defaultValue,s=e.checked!=null?e.checked:e.defaultChecked;n=Zn(e.value!=null?e.value:n),t._wrapperState={initialChecked:s,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Nf(t,e){e=e.checked,e!=null&&Qc(t,"checked",e,!1)}function Vl(t,e){Nf(t,e);var n=Zn(e.value),s=e.type;if(n!=null)s==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(s==="submit"||s==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?zl(t,e.type,n):e.hasOwnProperty("defaultValue")&&zl(t,e.type,Zn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ah(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!(s!=="submit"&&s!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function zl(t,e,n){(e!=="number"||jo(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var $r=Array.isArray;function nr(t,e,n,s){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&s&&(t[n].defaultSelected=!0)}else{for(n=""+Zn(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,s&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function Wl(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(b(91));return ge({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function jh(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(b(92));if($r(n)){if(1<n.length)throw Error(b(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Zn(n)}}function Ef(t,e){var n=Zn(e.value),s=Zn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),s!=null&&(t.defaultValue=""+s)}function Ih(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Af(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bl(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Af(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Yi,jf=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,s,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,s,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Yi=Yi||document.createElement("div"),Yi.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Yi.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function si(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Gr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Av=["Webkit","ms","Moz","O"];Object.keys(Gr).forEach(function(t){Av.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Gr[e]=Gr[t]})});function If(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Gr.hasOwnProperty(t)&&Gr[t]?(""+e).trim():e+"px"}function Of(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var s=n.indexOf("--")===0,r=If(n,e[n],s);n==="float"&&(n="cssFloat"),s?t.setProperty(n,r):t[n]=r}}var jv=ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ul(t,e){if(e){if(jv[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(b(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(b(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(b(61))}if(e.style!=null&&typeof e.style!="object")throw Error(b(62))}}function $l(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ql=null;function Zc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Hl=null,sr=null,rr=null;function Oh(t){if(t=Ei(t)){if(typeof Hl!="function")throw Error(b(280));var e=t.stateNode;e&&(e=Sa(e),Hl(t.stateNode,t.type,e))}}function Mf(t){sr?rr?rr.push(t):rr=[t]:sr=t}function Pf(){if(sr){var t=sr,e=rr;if(rr=sr=null,Oh(t),e)for(t=0;t<e.length;t++)Oh(e[t])}}function Rf(t,e){return t(e)}function bf(){}var ll=!1;function Df(t,e,n){if(ll)return t(e,n);ll=!0;try{return Rf(t,e,n)}finally{ll=!1,(sr!==null||rr!==null)&&(bf(),Pf())}}function ri(t,e){var n=t.stateNode;if(n===null)return null;var s=Sa(n);if(s===null)return null;n=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(b(231,e,typeof n));return n}var Gl=!1;if(yn)try{var Dr={};Object.defineProperty(Dr,"passive",{get:function(){Gl=!0}}),window.addEventListener("test",Dr,Dr),window.removeEventListener("test",Dr,Dr)}catch{Gl=!1}function Iv(t,e,n,s,r,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var Qr=!1,Io=null,Oo=!1,Ql=null,Ov={onError:function(t){Qr=!0,Io=t}};function Mv(t,e,n,s,r,i,o,a,l){Qr=!1,Io=null,Iv.apply(Ov,arguments)}function Pv(t,e,n,s,r,i,o,a,l){if(Mv.apply(this,arguments),Qr){if(Qr){var c=Io;Qr=!1,Io=null}else throw Error(b(198));Oo||(Oo=!0,Ql=c)}}function Ms(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Ff(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Mh(t){if(Ms(t)!==t)throw Error(b(188))}function Rv(t){var e=t.alternate;if(!e){if(e=Ms(t),e===null)throw Error(b(188));return e!==t?null:t}for(var n=t,s=e;;){var r=n.return;if(r===null)break;var i=r.alternate;if(i===null){if(s=r.return,s!==null){n=s;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return Mh(r),t;if(i===s)return Mh(r),e;i=i.sibling}throw Error(b(188))}if(n.return!==s.return)n=r,s=i;else{for(var o=!1,a=r.child;a;){if(a===n){o=!0,n=r,s=i;break}if(a===s){o=!0,s=r,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,s=r;break}if(a===s){o=!0,s=i,n=r;break}a=a.sibling}if(!o)throw Error(b(189))}}if(n.alternate!==s)throw Error(b(190))}if(n.tag!==3)throw Error(b(188));return n.stateNode.current===n?t:e}function Lf(t){return t=Rv(t),t!==null?Vf(t):null}function Vf(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Vf(t);if(e!==null)return e;t=t.sibling}return null}var zf=kt.unstable_scheduleCallback,Ph=kt.unstable_cancelCallback,bv=kt.unstable_shouldYield,Dv=kt.unstable_requestPaint,Te=kt.unstable_now,Fv=kt.unstable_getCurrentPriorityLevel,Jc=kt.unstable_ImmediatePriority,Wf=kt.unstable_UserBlockingPriority,Mo=kt.unstable_NormalPriority,Lv=kt.unstable_LowPriority,Bf=kt.unstable_IdlePriority,ya=null,Jt=null;function Vv(t){if(Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(ya,t,void 0,(t.current.flags&128)===128)}catch{}}var Bt=Math.clz32?Math.clz32:Bv,zv=Math.log,Wv=Math.LN2;function Bv(t){return t>>>=0,t===0?32:31-(zv(t)/Wv|0)|0}var Xi=64,Ki=4194304;function qr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Po(t,e){var n=t.pendingLanes;if(n===0)return 0;var s=0,r=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~r;a!==0?s=qr(a):(i&=o,i!==0&&(s=qr(i)))}else o=n&~r,o!==0?s=qr(o):i!==0&&(s=qr(i));if(s===0)return 0;if(e!==0&&e!==s&&!(e&r)&&(r=s&-s,i=e&-e,r>=i||r===16&&(i&4194240)!==0))return e;if(s&4&&(s|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=s;0<e;)n=31-Bt(e),r=1<<n,s|=t[n],e&=~r;return s}function Uv(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $v(t,e){for(var n=t.suspendedLanes,s=t.pingedLanes,r=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Bt(i),a=1<<o,l=r[o];l===-1?(!(a&n)||a&s)&&(r[o]=Uv(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Yl(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Uf(){var t=Xi;return Xi<<=1,!(Xi&4194240)&&(Xi=64),t}function cl(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ci(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Bt(e),t[e]=n}function qv(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var s=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-Bt(n),i=1<<r;e[r]=0,s[r]=-1,t[r]=-1,n&=~i}}function eu(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var s=31-Bt(n),r=1<<s;r&e|t[s]&e&&(t[s]|=e),n&=~r}}var ne=0;function $f(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var qf,tu,Hf,Gf,Qf,Xl=!1,Zi=[],Wn=null,Bn=null,Un=null,ii=new Map,oi=new Map,Rn=[],Hv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rh(t,e){switch(t){case"focusin":case"focusout":Wn=null;break;case"dragenter":case"dragleave":Bn=null;break;case"mouseover":case"mouseout":Un=null;break;case"pointerover":case"pointerout":ii.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":oi.delete(e.pointerId)}}function Fr(t,e,n,s,r,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[r]},e!==null&&(e=Ei(e),e!==null&&tu(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function Gv(t,e,n,s,r){switch(e){case"focusin":return Wn=Fr(Wn,t,e,n,s,r),!0;case"dragenter":return Bn=Fr(Bn,t,e,n,s,r),!0;case"mouseover":return Un=Fr(Un,t,e,n,s,r),!0;case"pointerover":var i=r.pointerId;return ii.set(i,Fr(ii.get(i)||null,t,e,n,s,r)),!0;case"gotpointercapture":return i=r.pointerId,oi.set(i,Fr(oi.get(i)||null,t,e,n,s,r)),!0}return!1}function Yf(t){var e=fs(t.target);if(e!==null){var n=Ms(e);if(n!==null){if(e=n.tag,e===13){if(e=Ff(n),e!==null){t.blockedOn=e,Qf(t.priority,function(){Hf(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function go(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Kl(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var s=new n.constructor(n.type,n);ql=s,n.target.dispatchEvent(s),ql=null}else return e=Ei(n),e!==null&&tu(e),t.blockedOn=n,!1;e.shift()}return!0}function bh(t,e,n){go(t)&&n.delete(e)}function Qv(){Xl=!1,Wn!==null&&go(Wn)&&(Wn=null),Bn!==null&&go(Bn)&&(Bn=null),Un!==null&&go(Un)&&(Un=null),ii.forEach(bh),oi.forEach(bh)}function Lr(t,e){t.blockedOn===e&&(t.blockedOn=null,Xl||(Xl=!0,kt.unstable_scheduleCallback(kt.unstable_NormalPriority,Qv)))}function ai(t){function e(r){return Lr(r,t)}if(0<Zi.length){Lr(Zi[0],t);for(var n=1;n<Zi.length;n++){var s=Zi[n];s.blockedOn===t&&(s.blockedOn=null)}}for(Wn!==null&&Lr(Wn,t),Bn!==null&&Lr(Bn,t),Un!==null&&Lr(Un,t),ii.forEach(e),oi.forEach(e),n=0;n<Rn.length;n++)s=Rn[n],s.blockedOn===t&&(s.blockedOn=null);for(;0<Rn.length&&(n=Rn[0],n.blockedOn===null);)Yf(n),n.blockedOn===null&&Rn.shift()}var ir=kn.ReactCurrentBatchConfig,Ro=!0;function Yv(t,e,n,s){var r=ne,i=ir.transition;ir.transition=null;try{ne=1,nu(t,e,n,s)}finally{ne=r,ir.transition=i}}function Xv(t,e,n,s){var r=ne,i=ir.transition;ir.transition=null;try{ne=4,nu(t,e,n,s)}finally{ne=r,ir.transition=i}}function nu(t,e,n,s){if(Ro){var r=Kl(t,e,n,s);if(r===null)_l(t,e,s,bo,n),Rh(t,s);else if(Gv(r,t,e,n,s))s.stopPropagation();else if(Rh(t,s),e&4&&-1<Hv.indexOf(t)){for(;r!==null;){var i=Ei(r);if(i!==null&&qf(i),i=Kl(t,e,n,s),i===null&&_l(t,e,s,bo,n),i===r)break;r=i}r!==null&&s.stopPropagation()}else _l(t,e,s,null,n)}}var bo=null;function Kl(t,e,n,s){if(bo=null,t=Zc(s),t=fs(t),t!==null)if(e=Ms(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Ff(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return bo=t,null}function Xf(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Fv()){case Jc:return 1;case Wf:return 4;case Mo:case Lv:return 16;case Bf:return 536870912;default:return 16}default:return 16}}var Dn=null,su=null,vo=null;function Kf(){if(vo)return vo;var t,e=su,n=e.length,s,r="value"in Dn?Dn.value:Dn.textContent,i=r.length;for(t=0;t<n&&e[t]===r[t];t++);var o=n-t;for(s=1;s<=o&&e[n-s]===r[i-s];s++);return vo=r.slice(t,1<s?1-s:void 0)}function yo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ji(){return!0}function Dh(){return!1}function Ct(t){function e(n,s,r,i,o){this._reactName=n,this._targetInst=r,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ji:Dh,this.isPropagationStopped=Dh,this}return ge(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ji)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ji)},persist:function(){},isPersistent:Ji}),e}var Cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ru=Ct(Cr),Ni=ge({},Cr,{view:0,detail:0}),Kv=Ct(Ni),ul,hl,Vr,_a=ge({},Ni,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:iu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Vr&&(Vr&&t.type==="mousemove"?(ul=t.screenX-Vr.screenX,hl=t.screenY-Vr.screenY):hl=ul=0,Vr=t),ul)},movementY:function(t){return"movementY"in t?t.movementY:hl}}),Fh=Ct(_a),Zv=ge({},_a,{dataTransfer:0}),Jv=Ct(Zv),ey=ge({},Ni,{relatedTarget:0}),dl=Ct(ey),ty=ge({},Cr,{animationName:0,elapsedTime:0,pseudoElement:0}),ny=Ct(ty),sy=ge({},Cr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ry=Ct(sy),iy=ge({},Cr,{data:0}),Lh=Ct(iy),oy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ay={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ly={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cy(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ly[t])?!!e[t]:!1}function iu(){return cy}var uy=ge({},Ni,{key:function(t){if(t.key){var e=oy[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=yo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ay[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:iu,charCode:function(t){return t.type==="keypress"?yo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?yo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),hy=Ct(uy),dy=ge({},_a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vh=Ct(dy),fy=ge({},Ni,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:iu}),py=Ct(fy),my=ge({},Cr,{propertyName:0,elapsedTime:0,pseudoElement:0}),gy=Ct(my),vy=ge({},_a,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),yy=Ct(vy),_y=[9,13,27,32],ou=yn&&"CompositionEvent"in window,Yr=null;yn&&"documentMode"in document&&(Yr=document.documentMode);var xy=yn&&"TextEvent"in window&&!Yr,Zf=yn&&(!ou||Yr&&8<Yr&&11>=Yr),zh=" ",Wh=!1;function Jf(t,e){switch(t){case"keyup":return _y.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ep(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $s=!1;function wy(t,e){switch(t){case"compositionend":return ep(e);case"keypress":return e.which!==32?null:(Wh=!0,zh);case"textInput":return t=e.data,t===zh&&Wh?null:t;default:return null}}function Sy(t,e){if($s)return t==="compositionend"||!ou&&Jf(t,e)?(t=Kf(),vo=su=Dn=null,$s=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Zf&&e.locale!=="ko"?null:e.data;default:return null}}var ky={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ky[t.type]:e==="textarea"}function tp(t,e,n,s){Mf(s),e=Do(e,"onChange"),0<e.length&&(n=new ru("onChange","change",null,n,s),t.push({event:n,listeners:e}))}var Xr=null,li=null;function Ty(t){dp(t,0)}function xa(t){var e=Gs(t);if(Cf(e))return t}function Cy(t,e){if(t==="change")return e}var np=!1;if(yn){var fl;if(yn){var pl="oninput"in document;if(!pl){var Uh=document.createElement("div");Uh.setAttribute("oninput","return;"),pl=typeof Uh.oninput=="function"}fl=pl}else fl=!1;np=fl&&(!document.documentMode||9<document.documentMode)}function $h(){Xr&&(Xr.detachEvent("onpropertychange",sp),li=Xr=null)}function sp(t){if(t.propertyName==="value"&&xa(li)){var e=[];tp(e,li,t,Zc(t)),Df(Ty,e)}}function Ny(t,e,n){t==="focusin"?($h(),Xr=e,li=n,Xr.attachEvent("onpropertychange",sp)):t==="focusout"&&$h()}function Ey(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xa(li)}function Ay(t,e){if(t==="click")return xa(e)}function jy(t,e){if(t==="input"||t==="change")return xa(e)}function Iy(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var $t=typeof Object.is=="function"?Object.is:Iy;function ci(t,e){if($t(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var r=n[s];if(!Pl.call(e,r)||!$t(t[r],e[r]))return!1}return!0}function qh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Hh(t,e){var n=qh(t);t=0;for(var s;n;){if(n.nodeType===3){if(s=t+n.textContent.length,t<=e&&s>=e)return{node:n,offset:e-t};t=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=qh(n)}}function rp(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?rp(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ip(){for(var t=window,e=jo();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=jo(t.document)}return e}function au(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Oy(t){var e=ip(),n=t.focusedElem,s=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&rp(n.ownerDocument.documentElement,n)){if(s!==null&&au(n)){if(e=s.start,t=s.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,i=Math.min(s.start,r);s=s.end===void 0?i:Math.min(s.end,r),!t.extend&&i>s&&(r=s,s=i,i=r),r=Hh(n,i);var o=Hh(n,s);r&&o&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),i>s?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var My=yn&&"documentMode"in document&&11>=document.documentMode,qs=null,Zl=null,Kr=null,Jl=!1;function Gh(t,e,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Jl||qs==null||qs!==jo(s)||(s=qs,"selectionStart"in s&&au(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Kr&&ci(Kr,s)||(Kr=s,s=Do(Zl,"onSelect"),0<s.length&&(e=new ru("onSelect","select",null,e,n),t.push({event:e,listeners:s}),e.target=qs)))}function eo(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Hs={animationend:eo("Animation","AnimationEnd"),animationiteration:eo("Animation","AnimationIteration"),animationstart:eo("Animation","AnimationStart"),transitionend:eo("Transition","TransitionEnd")},ml={},op={};yn&&(op=document.createElement("div").style,"AnimationEvent"in window||(delete Hs.animationend.animation,delete Hs.animationiteration.animation,delete Hs.animationstart.animation),"TransitionEvent"in window||delete Hs.transitionend.transition);function wa(t){if(ml[t])return ml[t];if(!Hs[t])return t;var e=Hs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in op)return ml[t]=e[n];return t}var ap=wa("animationend"),lp=wa("animationiteration"),cp=wa("animationstart"),up=wa("transitionend"),hp=new Map,Qh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ss(t,e){hp.set(t,e),Os(e,[t])}for(var gl=0;gl<Qh.length;gl++){var vl=Qh[gl],Py=vl.toLowerCase(),Ry=vl[0].toUpperCase()+vl.slice(1);ss(Py,"on"+Ry)}ss(ap,"onAnimationEnd");ss(lp,"onAnimationIteration");ss(cp,"onAnimationStart");ss("dblclick","onDoubleClick");ss("focusin","onFocus");ss("focusout","onBlur");ss(up,"onTransitionEnd");ur("onMouseEnter",["mouseout","mouseover"]);ur("onMouseLeave",["mouseout","mouseover"]);ur("onPointerEnter",["pointerout","pointerover"]);ur("onPointerLeave",["pointerout","pointerover"]);Os("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Os("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Os("onBeforeInput",["compositionend","keypress","textInput","paste"]);Os("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Os("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Os("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),by=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hr));function Yh(t,e,n){var s=t.type||"unknown-event";t.currentTarget=n,Pv(s,e,void 0,t),t.currentTarget=null}function dp(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var s=t[n],r=s.event;s=s.listeners;e:{var i=void 0;if(e)for(var o=s.length-1;0<=o;o--){var a=s[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&r.isPropagationStopped())break e;Yh(r,a,c),i=l}else for(o=0;o<s.length;o++){if(a=s[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&r.isPropagationStopped())break e;Yh(r,a,c),i=l}}}if(Oo)throw t=Ql,Oo=!1,Ql=null,t}function oe(t,e){var n=e[rc];n===void 0&&(n=e[rc]=new Set);var s=t+"__bubble";n.has(s)||(fp(e,t,2,!1),n.add(s))}function yl(t,e,n){var s=0;e&&(s|=4),fp(n,t,s,e)}var to="_reactListening"+Math.random().toString(36).slice(2);function ui(t){if(!t[to]){t[to]=!0,xf.forEach(function(n){n!=="selectionchange"&&(by.has(n)||yl(n,!1,t),yl(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[to]||(e[to]=!0,yl("selectionchange",!1,e))}}function fp(t,e,n,s){switch(Xf(e)){case 1:var r=Yv;break;case 4:r=Xv;break;default:r=nu}n=r.bind(null,e,n,t),r=void 0,!Gl||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),s?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function _l(t,e,n,s,r){var i=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var a=s.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=s.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=fs(a),o===null)return;if(l=o.tag,l===5||l===6){s=i=o;continue e}a=a.parentNode}}s=s.return}Df(function(){var c=i,h=Zc(n),d=[];e:{var p=hp.get(t);if(p!==void 0){var v=ru,g=t;switch(t){case"keypress":if(yo(n)===0)break e;case"keydown":case"keyup":v=hy;break;case"focusin":g="focus",v=dl;break;case"focusout":g="blur",v=dl;break;case"beforeblur":case"afterblur":v=dl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Fh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Jv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=py;break;case ap:case lp:case cp:v=ny;break;case up:v=gy;break;case"scroll":v=Kv;break;case"wheel":v=yy;break;case"copy":case"cut":case"paste":v=ry;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Vh}var _=(e&4)!==0,w=!_&&t==="scroll",f=_?p!==null?p+"Capture":null:p;_=[];for(var m=c,y;m!==null;){y=m;var T=y.stateNode;if(y.tag===5&&T!==null&&(y=T,f!==null&&(T=ri(m,f),T!=null&&_.push(hi(m,T,y)))),w)break;m=m.return}0<_.length&&(p=new v(p,g,null,n,h),d.push({event:p,listeners:_}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",p&&n!==ql&&(g=n.relatedTarget||n.fromElement)&&(fs(g)||g[_n]))break e;if((v||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,v?(g=n.relatedTarget||n.toElement,v=c,g=g?fs(g):null,g!==null&&(w=Ms(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(v=null,g=c),v!==g)){if(_=Fh,T="onMouseLeave",f="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(_=Vh,T="onPointerLeave",f="onPointerEnter",m="pointer"),w=v==null?p:Gs(v),y=g==null?p:Gs(g),p=new _(T,m+"leave",v,n,h),p.target=w,p.relatedTarget=y,T=null,fs(h)===c&&(_=new _(f,m+"enter",g,n,h),_.target=y,_.relatedTarget=w,T=_),w=T,v&&g)t:{for(_=v,f=g,m=0,y=_;y;y=zs(y))m++;for(y=0,T=f;T;T=zs(T))y++;for(;0<m-y;)_=zs(_),m--;for(;0<y-m;)f=zs(f),y--;for(;m--;){if(_===f||f!==null&&_===f.alternate)break t;_=zs(_),f=zs(f)}_=null}else _=null;v!==null&&Xh(d,p,v,_,!1),g!==null&&w!==null&&Xh(d,w,g,_,!0)}}e:{if(p=c?Gs(c):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var x=Cy;else if(Bh(p))if(np)x=jy;else{x=Ey;var S=Ny}else(v=p.nodeName)&&v.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(x=Ay);if(x&&(x=x(t,c))){tp(d,x,n,h);break e}S&&S(t,p,c),t==="focusout"&&(S=p._wrapperState)&&S.controlled&&p.type==="number"&&zl(p,"number",p.value)}switch(S=c?Gs(c):window,t){case"focusin":(Bh(S)||S.contentEditable==="true")&&(qs=S,Zl=c,Kr=null);break;case"focusout":Kr=Zl=qs=null;break;case"mousedown":Jl=!0;break;case"contextmenu":case"mouseup":case"dragend":Jl=!1,Gh(d,n,h);break;case"selectionchange":if(My)break;case"keydown":case"keyup":Gh(d,n,h)}var C;if(ou)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else $s?Jf(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(Zf&&n.locale!=="ko"&&($s||k!=="onCompositionStart"?k==="onCompositionEnd"&&$s&&(C=Kf()):(Dn=h,su="value"in Dn?Dn.value:Dn.textContent,$s=!0)),S=Do(c,k),0<S.length&&(k=new Lh(k,t,null,n,h),d.push({event:k,listeners:S}),C?k.data=C:(C=ep(n),C!==null&&(k.data=C)))),(C=xy?wy(t,n):Sy(t,n))&&(c=Do(c,"onBeforeInput"),0<c.length&&(h=new Lh("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:c}),h.data=C))}dp(d,e)})}function hi(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Do(t,e){for(var n=e+"Capture",s=[];t!==null;){var r=t,i=r.stateNode;r.tag===5&&i!==null&&(r=i,i=ri(t,n),i!=null&&s.unshift(hi(t,i,r)),i=ri(t,e),i!=null&&s.push(hi(t,i,r))),t=t.return}return s}function zs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Xh(t,e,n,s,r){for(var i=e._reactName,o=[];n!==null&&n!==s;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===s)break;a.tag===5&&c!==null&&(a=c,r?(l=ri(n,i),l!=null&&o.unshift(hi(n,l,a))):r||(l=ri(n,i),l!=null&&o.push(hi(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Dy=/\r\n?/g,Fy=/\u0000|\uFFFD/g;function Kh(t){return(typeof t=="string"?t:""+t).replace(Dy,`
`).replace(Fy,"")}function no(t,e,n){if(e=Kh(e),Kh(t)!==e&&n)throw Error(b(425))}function Fo(){}var ec=null,tc=null;function nc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var sc=typeof setTimeout=="function"?setTimeout:void 0,Ly=typeof clearTimeout=="function"?clearTimeout:void 0,Zh=typeof Promise=="function"?Promise:void 0,Vy=typeof queueMicrotask=="function"?queueMicrotask:typeof Zh<"u"?function(t){return Zh.resolve(null).then(t).catch(zy)}:sc;function zy(t){setTimeout(function(){throw t})}function xl(t,e){var n=e,s=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(s===0){t.removeChild(r),ai(e);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=r}while(n);ai(e)}function $n(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Jh(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Nr=Math.random().toString(36).slice(2),Zt="__reactFiber$"+Nr,di="__reactProps$"+Nr,_n="__reactContainer$"+Nr,rc="__reactEvents$"+Nr,Wy="__reactListeners$"+Nr,By="__reactHandles$"+Nr;function fs(t){var e=t[Zt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[_n]||n[Zt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Jh(t);t!==null;){if(n=t[Zt])return n;t=Jh(t)}return e}t=n,n=t.parentNode}return null}function Ei(t){return t=t[Zt]||t[_n],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Gs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(b(33))}function Sa(t){return t[di]||null}var ic=[],Qs=-1;function rs(t){return{current:t}}function le(t){0>Qs||(t.current=ic[Qs],ic[Qs]=null,Qs--)}function re(t,e){Qs++,ic[Qs]=t.current,t.current=e}var Jn={},Je=rs(Jn),dt=rs(!1),Ss=Jn;function hr(t,e){var n=t.type.contextTypes;if(!n)return Jn;var s=t.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var r={},i;for(i in n)r[i]=e[i];return s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function ft(t){return t=t.childContextTypes,t!=null}function Lo(){le(dt),le(Je)}function ed(t,e,n){if(Je.current!==Jn)throw Error(b(168));re(Je,e),re(dt,n)}function pp(t,e,n){var s=t.stateNode;if(e=e.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var r in s)if(!(r in e))throw Error(b(108,Nv(t)||"Unknown",r));return ge({},n,s)}function Vo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Jn,Ss=Je.current,re(Je,t),re(dt,dt.current),!0}function td(t,e,n){var s=t.stateNode;if(!s)throw Error(b(169));n?(t=pp(t,e,Ss),s.__reactInternalMemoizedMergedChildContext=t,le(dt),le(Je),re(Je,t)):le(dt),re(dt,n)}var fn=null,ka=!1,wl=!1;function mp(t){fn===null?fn=[t]:fn.push(t)}function Uy(t){ka=!0,mp(t)}function is(){if(!wl&&fn!==null){wl=!0;var t=0,e=ne;try{var n=fn;for(ne=1;t<n.length;t++){var s=n[t];do s=s(!0);while(s!==null)}fn=null,ka=!1}catch(r){throw fn!==null&&(fn=fn.slice(t+1)),zf(Jc,is),r}finally{ne=e,wl=!1}}return null}var Ys=[],Xs=0,zo=null,Wo=0,Et=[],At=0,ks=null,pn=1,mn="";function hs(t,e){Ys[Xs++]=Wo,Ys[Xs++]=zo,zo=t,Wo=e}function gp(t,e,n){Et[At++]=pn,Et[At++]=mn,Et[At++]=ks,ks=t;var s=pn;t=mn;var r=32-Bt(s)-1;s&=~(1<<r),n+=1;var i=32-Bt(e)+r;if(30<i){var o=r-r%5;i=(s&(1<<o)-1).toString(32),s>>=o,r-=o,pn=1<<32-Bt(e)+r|n<<r|s,mn=i+t}else pn=1<<i|n<<r|s,mn=t}function lu(t){t.return!==null&&(hs(t,1),gp(t,1,0))}function cu(t){for(;t===zo;)zo=Ys[--Xs],Ys[Xs]=null,Wo=Ys[--Xs],Ys[Xs]=null;for(;t===ks;)ks=Et[--At],Et[At]=null,mn=Et[--At],Et[At]=null,pn=Et[--At],Et[At]=null}var wt=null,_t=null,he=!1,Lt=null;function vp(t,e){var n=jt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function nd(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,wt=t,_t=$n(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,wt=t,_t=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ks!==null?{id:pn,overflow:mn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=jt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,wt=t,_t=null,!0):!1;default:return!1}}function oc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ac(t){if(he){var e=_t;if(e){var n=e;if(!nd(t,e)){if(oc(t))throw Error(b(418));e=$n(n.nextSibling);var s=wt;e&&nd(t,e)?vp(s,n):(t.flags=t.flags&-4097|2,he=!1,wt=t)}}else{if(oc(t))throw Error(b(418));t.flags=t.flags&-4097|2,he=!1,wt=t}}}function sd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;wt=t}function so(t){if(t!==wt)return!1;if(!he)return sd(t),he=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!nc(t.type,t.memoizedProps)),e&&(e=_t)){if(oc(t))throw yp(),Error(b(418));for(;e;)vp(t,e),e=$n(e.nextSibling)}if(sd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(b(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){_t=$n(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}_t=null}}else _t=wt?$n(t.stateNode.nextSibling):null;return!0}function yp(){for(var t=_t;t;)t=$n(t.nextSibling)}function dr(){_t=wt=null,he=!1}function uu(t){Lt===null?Lt=[t]:Lt.push(t)}var $y=kn.ReactCurrentBatchConfig;function zr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(b(309));var s=n.stateNode}if(!s)throw Error(b(147,t));var r=s,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=r.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(b(284));if(!n._owner)throw Error(b(290,t))}return t}function ro(t,e){throw t=Object.prototype.toString.call(e),Error(b(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function rd(t){var e=t._init;return e(t._payload)}function _p(t){function e(f,m){if(t){var y=f.deletions;y===null?(f.deletions=[m],f.flags|=16):y.push(m)}}function n(f,m){if(!t)return null;for(;m!==null;)e(f,m),m=m.sibling;return null}function s(f,m){for(f=new Map;m!==null;)m.key!==null?f.set(m.key,m):f.set(m.index,m),m=m.sibling;return f}function r(f,m){return f=Qn(f,m),f.index=0,f.sibling=null,f}function i(f,m,y){return f.index=y,t?(y=f.alternate,y!==null?(y=y.index,y<m?(f.flags|=2,m):y):(f.flags|=2,m)):(f.flags|=1048576,m)}function o(f){return t&&f.alternate===null&&(f.flags|=2),f}function a(f,m,y,T){return m===null||m.tag!==6?(m=Al(y,f.mode,T),m.return=f,m):(m=r(m,y),m.return=f,m)}function l(f,m,y,T){var x=y.type;return x===Us?h(f,m,y.props.children,T,y.key):m!==null&&(m.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===On&&rd(x)===m.type)?(T=r(m,y.props),T.ref=zr(f,m,y),T.return=f,T):(T=Co(y.type,y.key,y.props,null,f.mode,T),T.ref=zr(f,m,y),T.return=f,T)}function c(f,m,y,T){return m===null||m.tag!==4||m.stateNode.containerInfo!==y.containerInfo||m.stateNode.implementation!==y.implementation?(m=jl(y,f.mode,T),m.return=f,m):(m=r(m,y.children||[]),m.return=f,m)}function h(f,m,y,T,x){return m===null||m.tag!==7?(m=_s(y,f.mode,T,x),m.return=f,m):(m=r(m,y),m.return=f,m)}function d(f,m,y){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Al(""+m,f.mode,y),m.return=f,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Gi:return y=Co(m.type,m.key,m.props,null,f.mode,y),y.ref=zr(f,null,m),y.return=f,y;case Bs:return m=jl(m,f.mode,y),m.return=f,m;case On:var T=m._init;return d(f,T(m._payload),y)}if($r(m)||br(m))return m=_s(m,f.mode,y,null),m.return=f,m;ro(f,m)}return null}function p(f,m,y,T){var x=m!==null?m.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return x!==null?null:a(f,m,""+y,T);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Gi:return y.key===x?l(f,m,y,T):null;case Bs:return y.key===x?c(f,m,y,T):null;case On:return x=y._init,p(f,m,x(y._payload),T)}if($r(y)||br(y))return x!==null?null:h(f,m,y,T,null);ro(f,y)}return null}function v(f,m,y,T,x){if(typeof T=="string"&&T!==""||typeof T=="number")return f=f.get(y)||null,a(m,f,""+T,x);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Gi:return f=f.get(T.key===null?y:T.key)||null,l(m,f,T,x);case Bs:return f=f.get(T.key===null?y:T.key)||null,c(m,f,T,x);case On:var S=T._init;return v(f,m,y,S(T._payload),x)}if($r(T)||br(T))return f=f.get(y)||null,h(m,f,T,x,null);ro(m,T)}return null}function g(f,m,y,T){for(var x=null,S=null,C=m,k=m=0,E=null;C!==null&&k<y.length;k++){C.index>k?(E=C,C=null):E=C.sibling;var A=p(f,C,y[k],T);if(A===null){C===null&&(C=E);break}t&&C&&A.alternate===null&&e(f,C),m=i(A,m,k),S===null?x=A:S.sibling=A,S=A,C=E}if(k===y.length)return n(f,C),he&&hs(f,k),x;if(C===null){for(;k<y.length;k++)C=d(f,y[k],T),C!==null&&(m=i(C,m,k),S===null?x=C:S.sibling=C,S=C);return he&&hs(f,k),x}for(C=s(f,C);k<y.length;k++)E=v(C,f,k,y[k],T),E!==null&&(t&&E.alternate!==null&&C.delete(E.key===null?k:E.key),m=i(E,m,k),S===null?x=E:S.sibling=E,S=E);return t&&C.forEach(function(N){return e(f,N)}),he&&hs(f,k),x}function _(f,m,y,T){var x=br(y);if(typeof x!="function")throw Error(b(150));if(y=x.call(y),y==null)throw Error(b(151));for(var S=x=null,C=m,k=m=0,E=null,A=y.next();C!==null&&!A.done;k++,A=y.next()){C.index>k?(E=C,C=null):E=C.sibling;var N=p(f,C,A.value,T);if(N===null){C===null&&(C=E);break}t&&C&&N.alternate===null&&e(f,C),m=i(N,m,k),S===null?x=N:S.sibling=N,S=N,C=E}if(A.done)return n(f,C),he&&hs(f,k),x;if(C===null){for(;!A.done;k++,A=y.next())A=d(f,A.value,T),A!==null&&(m=i(A,m,k),S===null?x=A:S.sibling=A,S=A);return he&&hs(f,k),x}for(C=s(f,C);!A.done;k++,A=y.next())A=v(C,f,k,A.value,T),A!==null&&(t&&A.alternate!==null&&C.delete(A.key===null?k:A.key),m=i(A,m,k),S===null?x=A:S.sibling=A,S=A);return t&&C.forEach(function(I){return e(f,I)}),he&&hs(f,k),x}function w(f,m,y,T){if(typeof y=="object"&&y!==null&&y.type===Us&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Gi:e:{for(var x=y.key,S=m;S!==null;){if(S.key===x){if(x=y.type,x===Us){if(S.tag===7){n(f,S.sibling),m=r(S,y.props.children),m.return=f,f=m;break e}}else if(S.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===On&&rd(x)===S.type){n(f,S.sibling),m=r(S,y.props),m.ref=zr(f,S,y),m.return=f,f=m;break e}n(f,S);break}else e(f,S);S=S.sibling}y.type===Us?(m=_s(y.props.children,f.mode,T,y.key),m.return=f,f=m):(T=Co(y.type,y.key,y.props,null,f.mode,T),T.ref=zr(f,m,y),T.return=f,f=T)}return o(f);case Bs:e:{for(S=y.key;m!==null;){if(m.key===S)if(m.tag===4&&m.stateNode.containerInfo===y.containerInfo&&m.stateNode.implementation===y.implementation){n(f,m.sibling),m=r(m,y.children||[]),m.return=f,f=m;break e}else{n(f,m);break}else e(f,m);m=m.sibling}m=jl(y,f.mode,T),m.return=f,f=m}return o(f);case On:return S=y._init,w(f,m,S(y._payload),T)}if($r(y))return g(f,m,y,T);if(br(y))return _(f,m,y,T);ro(f,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,m!==null&&m.tag===6?(n(f,m.sibling),m=r(m,y),m.return=f,f=m):(n(f,m),m=Al(y,f.mode,T),m.return=f,f=m),o(f)):n(f,m)}return w}var fr=_p(!0),xp=_p(!1),Bo=rs(null),Uo=null,Ks=null,hu=null;function du(){hu=Ks=Uo=null}function fu(t){var e=Bo.current;le(Bo),t._currentValue=e}function lc(t,e,n){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===n)break;t=t.return}}function or(t,e){Uo=t,hu=Ks=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ht=!0),t.firstContext=null)}function Mt(t){var e=t._currentValue;if(hu!==t)if(t={context:t,memoizedValue:e,next:null},Ks===null){if(Uo===null)throw Error(b(308));Ks=t,Uo.dependencies={lanes:0,firstContext:t}}else Ks=Ks.next=t;return e}var ps=null;function pu(t){ps===null?ps=[t]:ps.push(t)}function wp(t,e,n,s){var r=e.interleaved;return r===null?(n.next=n,pu(e)):(n.next=r.next,r.next=n),e.interleaved=n,xn(t,s)}function xn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Mn=!1;function mu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sp(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function gn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function qn(t,e,n){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,Z&2){var r=s.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),s.pending=e,xn(t,n)}return r=s.interleaved,r===null?(e.next=e,pu(s)):(e.next=r.next,r.next=e),s.interleaved=e,xn(t,n)}function _o(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,eu(t,n)}}function id(t,e){var n=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var r=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?r=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?r=i=e:i=i.next=e}else r=i=e;n={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:s.shared,effects:s.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function $o(t,e,n,s){var r=t.updateQueue;Mn=!1;var i=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(i!==null){var d=r.baseState;o=0,h=c=l=null,a=i;do{var p=a.lane,v=a.eventTime;if((s&p)===p){h!==null&&(h=h.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,_=a;switch(p=e,v=n,_.tag){case 1:if(g=_.payload,typeof g=="function"){d=g.call(v,d,p);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=_.payload,p=typeof g=="function"?g.call(v,d,p):g,p==null)break e;d=ge({},d,p);break e;case 2:Mn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=r.effects,p===null?r.effects=[a]:p.push(a))}else v={eventTime:v,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=v,l=d):h=h.next=v,o|=p;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;p=a,a=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(!0);if(h===null&&(l=d),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=h,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else i===null&&(r.shared.lanes=0);Cs|=o,t.lanes=o,t.memoizedState=d}}function od(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var s=t[e],r=s.callback;if(r!==null){if(s.callback=null,s=n,typeof r!="function")throw Error(b(191,r));r.call(s)}}}var Ai={},en=rs(Ai),fi=rs(Ai),pi=rs(Ai);function ms(t){if(t===Ai)throw Error(b(174));return t}function gu(t,e){switch(re(pi,e),re(fi,t),re(en,Ai),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Bl(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Bl(e,t)}le(en),re(en,e)}function pr(){le(en),le(fi),le(pi)}function kp(t){ms(pi.current);var e=ms(en.current),n=Bl(e,t.type);e!==n&&(re(fi,t),re(en,n))}function vu(t){fi.current===t&&(le(en),le(fi))}var pe=rs(0);function qo(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Sl=[];function yu(){for(var t=0;t<Sl.length;t++)Sl[t]._workInProgressVersionPrimary=null;Sl.length=0}var xo=kn.ReactCurrentDispatcher,kl=kn.ReactCurrentBatchConfig,Ts=0,me=null,Pe=null,Le=null,Ho=!1,Zr=!1,mi=0,qy=0;function Ge(){throw Error(b(321))}function _u(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!$t(t[n],e[n]))return!1;return!0}function xu(t,e,n,s,r,i){if(Ts=i,me=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,xo.current=t===null||t.memoizedState===null?Yy:Xy,t=n(s,r),Zr){i=0;do{if(Zr=!1,mi=0,25<=i)throw Error(b(301));i+=1,Le=Pe=null,e.updateQueue=null,xo.current=Ky,t=n(s,r)}while(Zr)}if(xo.current=Go,e=Pe!==null&&Pe.next!==null,Ts=0,Le=Pe=me=null,Ho=!1,e)throw Error(b(300));return t}function wu(){var t=mi!==0;return mi=0,t}function Kt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Le===null?me.memoizedState=Le=t:Le=Le.next=t,Le}function Pt(){if(Pe===null){var t=me.alternate;t=t!==null?t.memoizedState:null}else t=Pe.next;var e=Le===null?me.memoizedState:Le.next;if(e!==null)Le=e,Pe=t;else{if(t===null)throw Error(b(310));Pe=t,t={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},Le===null?me.memoizedState=Le=t:Le=Le.next=t}return Le}function gi(t,e){return typeof e=="function"?e(t):e}function Tl(t){var e=Pt(),n=e.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=t;var s=Pe,r=s.baseQueue,i=n.pending;if(i!==null){if(r!==null){var o=r.next;r.next=i.next,i.next=o}s.baseQueue=r=i,n.pending=null}if(r!==null){i=r.next,s=s.baseState;var a=o=null,l=null,c=i;do{var h=c.lane;if((Ts&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),s=c.hasEagerState?c.eagerState:t(s,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=s):l=l.next=d,me.lanes|=h,Cs|=h}c=c.next}while(c!==null&&c!==i);l===null?o=s:l.next=a,$t(s,e.memoizedState)||(ht=!0),e.memoizedState=s,e.baseState=o,e.baseQueue=l,n.lastRenderedState=s}if(t=n.interleaved,t!==null){r=t;do i=r.lane,me.lanes|=i,Cs|=i,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Cl(t){var e=Pt(),n=e.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=t;var s=n.dispatch,r=n.pending,i=e.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do i=t(i,o.action),o=o.next;while(o!==r);$t(i,e.memoizedState)||(ht=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,s]}function Tp(){}function Cp(t,e){var n=me,s=Pt(),r=e(),i=!$t(s.memoizedState,r);if(i&&(s.memoizedState=r,ht=!0),s=s.queue,Su(Ap.bind(null,n,s,t),[t]),s.getSnapshot!==e||i||Le!==null&&Le.memoizedState.tag&1){if(n.flags|=2048,vi(9,Ep.bind(null,n,s,r,e),void 0,null),ze===null)throw Error(b(349));Ts&30||Np(n,e,r)}return r}function Np(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=me.updateQueue,e===null?(e={lastEffect:null,stores:null},me.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Ep(t,e,n,s){e.value=n,e.getSnapshot=s,jp(e)&&Ip(t)}function Ap(t,e,n){return n(function(){jp(e)&&Ip(t)})}function jp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!$t(t,n)}catch{return!0}}function Ip(t){var e=xn(t,1);e!==null&&Ut(e,t,1,-1)}function ad(t){var e=Kt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:t},e.queue=t,t=t.dispatch=Qy.bind(null,me,t),[e.memoizedState,t]}function vi(t,e,n,s){return t={tag:t,create:e,destroy:n,deps:s,next:null},e=me.updateQueue,e===null?(e={lastEffect:null,stores:null},me.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,e.lastEffect=t)),t}function Op(){return Pt().memoizedState}function wo(t,e,n,s){var r=Kt();me.flags|=t,r.memoizedState=vi(1|e,n,void 0,s===void 0?null:s)}function Ta(t,e,n,s){var r=Pt();s=s===void 0?null:s;var i=void 0;if(Pe!==null){var o=Pe.memoizedState;if(i=o.destroy,s!==null&&_u(s,o.deps)){r.memoizedState=vi(e,n,i,s);return}}me.flags|=t,r.memoizedState=vi(1|e,n,i,s)}function ld(t,e){return wo(8390656,8,t,e)}function Su(t,e){return Ta(2048,8,t,e)}function Mp(t,e){return Ta(4,2,t,e)}function Pp(t,e){return Ta(4,4,t,e)}function Rp(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function bp(t,e,n){return n=n!=null?n.concat([t]):null,Ta(4,4,Rp.bind(null,e,t),n)}function ku(){}function Dp(t,e){var n=Pt();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&_u(e,s[1])?s[0]:(n.memoizedState=[t,e],t)}function Fp(t,e){var n=Pt();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&_u(e,s[1])?s[0]:(t=t(),n.memoizedState=[t,e],t)}function Lp(t,e,n){return Ts&21?($t(n,e)||(n=Uf(),me.lanes|=n,Cs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ht=!0),t.memoizedState=n)}function Hy(t,e){var n=ne;ne=n!==0&&4>n?n:4,t(!0);var s=kl.transition;kl.transition={};try{t(!1),e()}finally{ne=n,kl.transition=s}}function Vp(){return Pt().memoizedState}function Gy(t,e,n){var s=Gn(t);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},zp(t))Wp(e,n);else if(n=wp(t,e,n,s),n!==null){var r=it();Ut(n,t,s,r),Bp(n,e,s)}}function Qy(t,e,n){var s=Gn(t),r={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(zp(t))Wp(e,r);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(r.hasEagerState=!0,r.eagerState=a,$t(a,o)){var l=e.interleaved;l===null?(r.next=r,pu(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}n=wp(t,e,r,s),n!==null&&(r=it(),Ut(n,t,s,r),Bp(n,e,s))}}function zp(t){var e=t.alternate;return t===me||e!==null&&e===me}function Wp(t,e){Zr=Ho=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Bp(t,e,n){if(n&4194240){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,eu(t,n)}}var Go={readContext:Mt,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useInsertionEffect:Ge,useLayoutEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useMutableSource:Ge,useSyncExternalStore:Ge,useId:Ge,unstable_isNewReconciler:!1},Yy={readContext:Mt,useCallback:function(t,e){return Kt().memoizedState=[t,e===void 0?null:e],t},useContext:Mt,useEffect:ld,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,wo(4194308,4,Rp.bind(null,e,t),n)},useLayoutEffect:function(t,e){return wo(4194308,4,t,e)},useInsertionEffect:function(t,e){return wo(4,2,t,e)},useMemo:function(t,e){var n=Kt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var s=Kt();return e=n!==void 0?n(e):e,s.memoizedState=s.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},s.queue=t,t=t.dispatch=Gy.bind(null,me,t),[s.memoizedState,t]},useRef:function(t){var e=Kt();return t={current:t},e.memoizedState=t},useState:ad,useDebugValue:ku,useDeferredValue:function(t){return Kt().memoizedState=t},useTransition:function(){var t=ad(!1),e=t[0];return t=Hy.bind(null,t[1]),Kt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var s=me,r=Kt();if(he){if(n===void 0)throw Error(b(407));n=n()}else{if(n=e(),ze===null)throw Error(b(349));Ts&30||Np(s,e,n)}r.memoizedState=n;var i={value:n,getSnapshot:e};return r.queue=i,ld(Ap.bind(null,s,i,t),[t]),s.flags|=2048,vi(9,Ep.bind(null,s,i,n,e),void 0,null),n},useId:function(){var t=Kt(),e=ze.identifierPrefix;if(he){var n=mn,s=pn;n=(s&~(1<<32-Bt(s)-1)).toString(32)+n,e=":"+e+"R"+n,n=mi++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=qy++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Xy={readContext:Mt,useCallback:Dp,useContext:Mt,useEffect:Su,useImperativeHandle:bp,useInsertionEffect:Mp,useLayoutEffect:Pp,useMemo:Fp,useReducer:Tl,useRef:Op,useState:function(){return Tl(gi)},useDebugValue:ku,useDeferredValue:function(t){var e=Pt();return Lp(e,Pe.memoizedState,t)},useTransition:function(){var t=Tl(gi)[0],e=Pt().memoizedState;return[t,e]},useMutableSource:Tp,useSyncExternalStore:Cp,useId:Vp,unstable_isNewReconciler:!1},Ky={readContext:Mt,useCallback:Dp,useContext:Mt,useEffect:Su,useImperativeHandle:bp,useInsertionEffect:Mp,useLayoutEffect:Pp,useMemo:Fp,useReducer:Cl,useRef:Op,useState:function(){return Cl(gi)},useDebugValue:ku,useDeferredValue:function(t){var e=Pt();return Pe===null?e.memoizedState=t:Lp(e,Pe.memoizedState,t)},useTransition:function(){var t=Cl(gi)[0],e=Pt().memoizedState;return[t,e]},useMutableSource:Tp,useSyncExternalStore:Cp,useId:Vp,unstable_isNewReconciler:!1};function Dt(t,e){if(t&&t.defaultProps){e=ge({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function cc(t,e,n,s){e=t.memoizedState,n=n(s,e),n=n==null?e:ge({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ca={isMounted:function(t){return(t=t._reactInternals)?Ms(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var s=it(),r=Gn(t),i=gn(s,r);i.payload=e,n!=null&&(i.callback=n),e=qn(t,i,r),e!==null&&(Ut(e,t,r,s),_o(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var s=it(),r=Gn(t),i=gn(s,r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=qn(t,i,r),e!==null&&(Ut(e,t,r,s),_o(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=it(),s=Gn(t),r=gn(n,s);r.tag=2,e!=null&&(r.callback=e),e=qn(t,r,s),e!==null&&(Ut(e,t,s,n),_o(e,t,s))}};function cd(t,e,n,s,r,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,i,o):e.prototype&&e.prototype.isPureReactComponent?!ci(n,s)||!ci(r,i):!0}function Up(t,e,n){var s=!1,r=Jn,i=e.contextType;return typeof i=="object"&&i!==null?i=Mt(i):(r=ft(e)?Ss:Je.current,s=e.contextTypes,i=(s=s!=null)?hr(t,r):Jn),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ca,t.stateNode=e,e._reactInternals=t,s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=i),e}function ud(t,e,n,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,s),e.state!==t&&Ca.enqueueReplaceState(e,e.state,null)}function uc(t,e,n,s){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},mu(t);var i=e.contextType;typeof i=="object"&&i!==null?r.context=Mt(i):(i=ft(e)?Ss:Je.current,r.context=hr(t,i)),r.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(cc(t,e,i,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Ca.enqueueReplaceState(r,r.state,null),$o(t,n,r,s),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function mr(t,e){try{var n="",s=e;do n+=Cv(s),s=s.return;while(s);var r=n}catch(i){r=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:r,digest:null}}function Nl(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function hc(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Zy=typeof WeakMap=="function"?WeakMap:Map;function $p(t,e,n){n=gn(-1,n),n.tag=3,n.payload={element:null};var s=e.value;return n.callback=function(){Yo||(Yo=!0,wc=s),hc(t,e)},n}function qp(t,e,n){n=gn(-1,n),n.tag=3;var s=t.type.getDerivedStateFromError;if(typeof s=="function"){var r=e.value;n.payload=function(){return s(r)},n.callback=function(){hc(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){hc(t,e),typeof s!="function"&&(Hn===null?Hn=new Set([this]):Hn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function hd(t,e,n){var s=t.pingCache;if(s===null){s=t.pingCache=new Zy;var r=new Set;s.set(e,r)}else r=s.get(e),r===void 0&&(r=new Set,s.set(e,r));r.has(n)||(r.add(n),t=d_.bind(null,t,e,n),e.then(t,t))}function dd(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function fd(t,e,n,s,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=gn(-1,1),e.tag=2,qn(n,e,1))),n.lanes|=1),t)}var Jy=kn.ReactCurrentOwner,ht=!1;function tt(t,e,n,s){e.child=t===null?xp(e,null,n,s):fr(e,t.child,n,s)}function pd(t,e,n,s,r){n=n.render;var i=e.ref;return or(e,r),s=xu(t,e,n,s,i,r),n=wu(),t!==null&&!ht?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,wn(t,e,r)):(he&&n&&lu(e),e.flags|=1,tt(t,e,s,r),e.child)}function md(t,e,n,s,r){if(t===null){var i=n.type;return typeof i=="function"&&!Ou(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Hp(t,e,i,s,r)):(t=Co(n.type,null,s,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&r)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:ci,n(o,s)&&t.ref===e.ref)return wn(t,e,r)}return e.flags|=1,t=Qn(i,s),t.ref=e.ref,t.return=e,e.child=t}function Hp(t,e,n,s,r){if(t!==null){var i=t.memoizedProps;if(ci(i,s)&&t.ref===e.ref)if(ht=!1,e.pendingProps=s=i,(t.lanes&r)!==0)t.flags&131072&&(ht=!0);else return e.lanes=t.lanes,wn(t,e,r)}return dc(t,e,n,s,r)}function Gp(t,e,n){var s=e.pendingProps,r=s.children,i=t!==null?t.memoizedState:null;if(s.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},re(Js,gt),gt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,re(Js,gt),gt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:n,re(Js,gt),gt|=s}else i!==null?(s=i.baseLanes|n,e.memoizedState=null):s=n,re(Js,gt),gt|=s;return tt(t,e,r,n),e.child}function Qp(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function dc(t,e,n,s,r){var i=ft(n)?Ss:Je.current;return i=hr(e,i),or(e,r),n=xu(t,e,n,s,i,r),s=wu(),t!==null&&!ht?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,wn(t,e,r)):(he&&s&&lu(e),e.flags|=1,tt(t,e,n,r),e.child)}function gd(t,e,n,s,r){if(ft(n)){var i=!0;Vo(e)}else i=!1;if(or(e,r),e.stateNode===null)So(t,e),Up(e,n,s),uc(e,n,s,r),s=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Mt(c):(c=ft(n)?Ss:Je.current,c=hr(e,c));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==s||l!==c)&&ud(e,o,s,c),Mn=!1;var p=e.memoizedState;o.state=p,$o(e,s,o,r),l=e.memoizedState,a!==s||p!==l||dt.current||Mn?(typeof h=="function"&&(cc(e,n,h,s),l=e.memoizedState),(a=Mn||cd(e,n,a,s,p,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=l),o.props=s,o.state=l,o.context=c,s=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{o=e.stateNode,Sp(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Dt(e.type,a),o.props=c,d=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Mt(l):(l=ft(n)?Ss:Je.current,l=hr(e,l));var v=n.getDerivedStateFromProps;(h=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||p!==l)&&ud(e,o,s,l),Mn=!1,p=e.memoizedState,o.state=p,$o(e,s,o,r);var g=e.memoizedState;a!==d||p!==g||dt.current||Mn?(typeof v=="function"&&(cc(e,n,v,s),g=e.memoizedState),(c=Mn||cd(e,n,c,s,p,g,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=g),o.props=s,o.state=g,o.context=l,s=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),s=!1)}return fc(t,e,n,s,i,r)}function fc(t,e,n,s,r,i){Qp(t,e);var o=(e.flags&128)!==0;if(!s&&!o)return r&&td(e,n,!1),wn(t,e,i);s=e.stateNode,Jy.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return e.flags|=1,t!==null&&o?(e.child=fr(e,t.child,null,i),e.child=fr(e,null,a,i)):tt(t,e,a,i),e.memoizedState=s.state,r&&td(e,n,!0),e.child}function Yp(t){var e=t.stateNode;e.pendingContext?ed(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ed(t,e.context,!1),gu(t,e.containerInfo)}function vd(t,e,n,s,r){return dr(),uu(r),e.flags|=256,tt(t,e,n,s),e.child}var pc={dehydrated:null,treeContext:null,retryLane:0};function mc(t){return{baseLanes:t,cachePool:null,transitions:null}}function Xp(t,e,n){var s=e.pendingProps,r=pe.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(r&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),re(pe,r&1),t===null)return ac(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=s.children,t=s.fallback,i?(s=e.mode,i=e.child,o={mode:"hidden",children:o},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Aa(o,s,0,null),t=_s(t,s,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=mc(n),e.memoizedState=pc,t):Tu(e,o));if(r=t.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return e_(t,e,o,s,a,r,n);if(i){i=s.fallback,o=e.mode,r=t.child,a=r.sibling;var l={mode:"hidden",children:s.children};return!(o&1)&&e.child!==r?(s=e.child,s.childLanes=0,s.pendingProps=l,e.deletions=null):(s=Qn(r,l),s.subtreeFlags=r.subtreeFlags&14680064),a!==null?i=Qn(a,i):(i=_s(i,o,n,null),i.flags|=2),i.return=e,s.return=e,s.sibling=i,e.child=s,s=i,i=e.child,o=t.child.memoizedState,o=o===null?mc(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=pc,s}return i=t.child,t=i.sibling,s=Qn(i,{mode:"visible",children:s.children}),!(e.mode&1)&&(s.lanes=n),s.return=e,s.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=s,e.memoizedState=null,s}function Tu(t,e){return e=Aa({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function io(t,e,n,s){return s!==null&&uu(s),fr(e,t.child,null,n),t=Tu(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function e_(t,e,n,s,r,i,o){if(n)return e.flags&256?(e.flags&=-257,s=Nl(Error(b(422))),io(t,e,o,s)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=s.fallback,r=e.mode,s=Aa({mode:"visible",children:s.children},r,0,null),i=_s(i,r,o,null),i.flags|=2,s.return=e,i.return=e,s.sibling=i,e.child=s,e.mode&1&&fr(e,t.child,null,o),e.child.memoizedState=mc(o),e.memoizedState=pc,i);if(!(e.mode&1))return io(t,e,o,null);if(r.data==="$!"){if(s=r.nextSibling&&r.nextSibling.dataset,s)var a=s.dgst;return s=a,i=Error(b(419)),s=Nl(i,s,void 0),io(t,e,o,s)}if(a=(o&t.childLanes)!==0,ht||a){if(s=ze,s!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(s.suspendedLanes|o)?0:r,r!==0&&r!==i.retryLane&&(i.retryLane=r,xn(t,r),Ut(s,t,r,-1))}return Iu(),s=Nl(Error(b(421))),io(t,e,o,s)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=f_.bind(null,t),r._reactRetry=e,null):(t=i.treeContext,_t=$n(r.nextSibling),wt=e,he=!0,Lt=null,t!==null&&(Et[At++]=pn,Et[At++]=mn,Et[At++]=ks,pn=t.id,mn=t.overflow,ks=e),e=Tu(e,s.children),e.flags|=4096,e)}function yd(t,e,n){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),lc(t.return,e,n)}function El(t,e,n,s,r){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:r}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=r)}function Kp(t,e,n){var s=e.pendingProps,r=s.revealOrder,i=s.tail;if(tt(t,e,s.children,n),s=pe.current,s&2)s=s&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&yd(t,n,e);else if(t.tag===19)yd(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}if(re(pe,s),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&qo(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),El(e,!1,r,n,i);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&qo(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}El(e,!0,n,null,i);break;case"together":El(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function So(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function wn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Cs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(b(153));if(e.child!==null){for(t=e.child,n=Qn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Qn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function t_(t,e,n){switch(e.tag){case 3:Yp(e),dr();break;case 5:kp(e);break;case 1:ft(e.type)&&Vo(e);break;case 4:gu(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,r=e.memoizedProps.value;re(Bo,s._currentValue),s._currentValue=r;break;case 13:if(s=e.memoizedState,s!==null)return s.dehydrated!==null?(re(pe,pe.current&1),e.flags|=128,null):n&e.child.childLanes?Xp(t,e,n):(re(pe,pe.current&1),t=wn(t,e,n),t!==null?t.sibling:null);re(pe,pe.current&1);break;case 19:if(s=(n&e.childLanes)!==0,t.flags&128){if(s)return Kp(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),re(pe,pe.current),s)break;return null;case 22:case 23:return e.lanes=0,Gp(t,e,n)}return wn(t,e,n)}var Zp,gc,Jp,em;Zp=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};gc=function(){};Jp=function(t,e,n,s){var r=t.memoizedProps;if(r!==s){t=e.stateNode,ms(en.current);var i=null;switch(n){case"input":r=Ll(t,r),s=Ll(t,s),i=[];break;case"select":r=ge({},r,{value:void 0}),s=ge({},s,{value:void 0}),i=[];break;case"textarea":r=Wl(t,r),s=Wl(t,s),i=[];break;default:typeof r.onClick!="function"&&typeof s.onClick=="function"&&(t.onclick=Fo)}Ul(n,s);var o;n=null;for(c in r)if(!s.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ni.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in s){var l=s[c];if(a=r!=null?r[c]:void 0,s.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ni.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&oe("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};em=function(t,e,n,s){n!==s&&(e.flags|=4)};function Wr(t,e){if(!he)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function Qe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,s=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags&14680064,s|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=s,t.childLanes=n,e}function n_(t,e,n){var s=e.pendingProps;switch(cu(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qe(e),null;case 1:return ft(e.type)&&Lo(),Qe(e),null;case 3:return s=e.stateNode,pr(),le(dt),le(Je),yu(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(so(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Lt!==null&&(Tc(Lt),Lt=null))),gc(t,e),Qe(e),null;case 5:vu(e);var r=ms(pi.current);if(n=e.type,t!==null&&e.stateNode!=null)Jp(t,e,n,s,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(e.stateNode===null)throw Error(b(166));return Qe(e),null}if(t=ms(en.current),so(e)){s=e.stateNode,n=e.type;var i=e.memoizedProps;switch(s[Zt]=e,s[di]=i,t=(e.mode&1)!==0,n){case"dialog":oe("cancel",s),oe("close",s);break;case"iframe":case"object":case"embed":oe("load",s);break;case"video":case"audio":for(r=0;r<Hr.length;r++)oe(Hr[r],s);break;case"source":oe("error",s);break;case"img":case"image":case"link":oe("error",s),oe("load",s);break;case"details":oe("toggle",s);break;case"input":Eh(s,i),oe("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},oe("invalid",s);break;case"textarea":jh(s,i),oe("invalid",s)}Ul(n,i),r=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?s.textContent!==a&&(i.suppressHydrationWarning!==!0&&no(s.textContent,a,t),r=["children",a]):typeof a=="number"&&s.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&no(s.textContent,a,t),r=["children",""+a]):ni.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&oe("scroll",s)}switch(n){case"input":Qi(s),Ah(s,i,!0);break;case"textarea":Qi(s),Ih(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=Fo)}s=r,e.updateQueue=s,s!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Af(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof s.is=="string"?t=o.createElement(n,{is:s.is}):(t=o.createElement(n),n==="select"&&(o=t,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):t=o.createElementNS(t,n),t[Zt]=e,t[di]=s,Zp(t,e,!1,!1),e.stateNode=t;e:{switch(o=$l(n,s),n){case"dialog":oe("cancel",t),oe("close",t),r=s;break;case"iframe":case"object":case"embed":oe("load",t),r=s;break;case"video":case"audio":for(r=0;r<Hr.length;r++)oe(Hr[r],t);r=s;break;case"source":oe("error",t),r=s;break;case"img":case"image":case"link":oe("error",t),oe("load",t),r=s;break;case"details":oe("toggle",t),r=s;break;case"input":Eh(t,s),r=Ll(t,s),oe("invalid",t);break;case"option":r=s;break;case"select":t._wrapperState={wasMultiple:!!s.multiple},r=ge({},s,{value:void 0}),oe("invalid",t);break;case"textarea":jh(t,s),r=Wl(t,s),oe("invalid",t);break;default:r=s}Ul(n,r),a=r;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Of(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&jf(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&si(t,l):typeof l=="number"&&si(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ni.hasOwnProperty(i)?l!=null&&i==="onScroll"&&oe("scroll",t):l!=null&&Qc(t,i,l,o))}switch(n){case"input":Qi(t),Ah(t,s,!1);break;case"textarea":Qi(t),Ih(t);break;case"option":s.value!=null&&t.setAttribute("value",""+Zn(s.value));break;case"select":t.multiple=!!s.multiple,i=s.value,i!=null?nr(t,!!s.multiple,i,!1):s.defaultValue!=null&&nr(t,!!s.multiple,s.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Fo)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Qe(e),null;case 6:if(t&&e.stateNode!=null)em(t,e,t.memoizedProps,s);else{if(typeof s!="string"&&e.stateNode===null)throw Error(b(166));if(n=ms(pi.current),ms(en.current),so(e)){if(s=e.stateNode,n=e.memoizedProps,s[Zt]=e,(i=s.nodeValue!==n)&&(t=wt,t!==null))switch(t.tag){case 3:no(s.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&no(s.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[Zt]=e,e.stateNode=s}return Qe(e),null;case 13:if(le(pe),s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(he&&_t!==null&&e.mode&1&&!(e.flags&128))yp(),dr(),e.flags|=98560,i=!1;else if(i=so(e),s!==null&&s.dehydrated!==null){if(t===null){if(!i)throw Error(b(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(b(317));i[Zt]=e}else dr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Qe(e),i=!1}else Lt!==null&&(Tc(Lt),Lt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(s=s!==null,s!==(t!==null&&t.memoizedState!==null)&&s&&(e.child.flags|=8192,e.mode&1&&(t===null||pe.current&1?be===0&&(be=3):Iu())),e.updateQueue!==null&&(e.flags|=4),Qe(e),null);case 4:return pr(),gc(t,e),t===null&&ui(e.stateNode.containerInfo),Qe(e),null;case 10:return fu(e.type._context),Qe(e),null;case 17:return ft(e.type)&&Lo(),Qe(e),null;case 19:if(le(pe),i=e.memoizedState,i===null)return Qe(e),null;if(s=(e.flags&128)!==0,o=i.rendering,o===null)if(s)Wr(i,!1);else{if(be!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=qo(t),o!==null){for(e.flags|=128,Wr(i,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=n,n=e.child;n!==null;)i=n,t=s,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return re(pe,pe.current&1|2),e.child}t=t.sibling}i.tail!==null&&Te()>gr&&(e.flags|=128,s=!0,Wr(i,!1),e.lanes=4194304)}else{if(!s)if(t=qo(o),t!==null){if(e.flags|=128,s=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Wr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!he)return Qe(e),null}else 2*Te()-i.renderingStartTime>gr&&n!==1073741824&&(e.flags|=128,s=!0,Wr(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Te(),e.sibling=null,n=pe.current,re(pe,s?n&1|2:n&1),e):(Qe(e),null);case 22:case 23:return ju(),s=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==s&&(e.flags|=8192),s&&e.mode&1?gt&1073741824&&(Qe(e),e.subtreeFlags&6&&(e.flags|=8192)):Qe(e),null;case 24:return null;case 25:return null}throw Error(b(156,e.tag))}function s_(t,e){switch(cu(e),e.tag){case 1:return ft(e.type)&&Lo(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return pr(),le(dt),le(Je),yu(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return vu(e),null;case 13:if(le(pe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(b(340));dr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return le(pe),null;case 4:return pr(),null;case 10:return fu(e.type._context),null;case 22:case 23:return ju(),null;case 24:return null;default:return null}}var oo=!1,Xe=!1,r_=typeof WeakSet=="function"?WeakSet:Set,B=null;function Zs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){_e(t,e,s)}else n.current=null}function vc(t,e,n){try{n()}catch(s){_e(t,e,s)}}var _d=!1;function i_(t,e){if(ec=Ro,t=ip(),au(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var r=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,h=0,d=t,p=null;t:for(;;){for(var v;d!==n||r!==0&&d.nodeType!==3||(a=o+r),d!==i||s!==0&&d.nodeType!==3||(l=o+s),d.nodeType===3&&(o+=d.nodeValue.length),(v=d.firstChild)!==null;)p=d,d=v;for(;;){if(d===t)break t;if(p===n&&++c===r&&(a=o),p===i&&++h===s&&(l=o),(v=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=v}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(tc={focusedElem:t,selectionRange:n},Ro=!1,B=e;B!==null;)if(e=B,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,B=t;else for(;B!==null;){e=B;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var _=g.memoizedProps,w=g.memoizedState,f=e.stateNode,m=f.getSnapshotBeforeUpdate(e.elementType===e.type?_:Dt(e.type,_),w);f.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(b(163))}}catch(T){_e(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,B=t;break}B=e.return}return g=_d,_d=!1,g}function Jr(t,e,n){var s=e.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&t)===t){var i=r.destroy;r.destroy=void 0,i!==void 0&&vc(e,n,i)}r=r.next}while(r!==s)}}function Na(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var s=n.create;n.destroy=s()}n=n.next}while(n!==e)}}function yc(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function tm(t){var e=t.alternate;e!==null&&(t.alternate=null,tm(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Zt],delete e[di],delete e[rc],delete e[Wy],delete e[By])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function nm(t){return t.tag===5||t.tag===3||t.tag===4}function xd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||nm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _c(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Fo));else if(s!==4&&(t=t.child,t!==null))for(_c(t,e,n),t=t.sibling;t!==null;)_c(t,e,n),t=t.sibling}function xc(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(s!==4&&(t=t.child,t!==null))for(xc(t,e,n),t=t.sibling;t!==null;)xc(t,e,n),t=t.sibling}var Be=null,Ft=!1;function jn(t,e,n){for(n=n.child;n!==null;)sm(t,e,n),n=n.sibling}function sm(t,e,n){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(ya,n)}catch{}switch(n.tag){case 5:Xe||Zs(n,e);case 6:var s=Be,r=Ft;Be=null,jn(t,e,n),Be=s,Ft=r,Be!==null&&(Ft?(t=Be,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Be.removeChild(n.stateNode));break;case 18:Be!==null&&(Ft?(t=Be,n=n.stateNode,t.nodeType===8?xl(t.parentNode,n):t.nodeType===1&&xl(t,n),ai(t)):xl(Be,n.stateNode));break;case 4:s=Be,r=Ft,Be=n.stateNode.containerInfo,Ft=!0,jn(t,e,n),Be=s,Ft=r;break;case 0:case 11:case 14:case 15:if(!Xe&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){r=s=s.next;do{var i=r,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&vc(n,e,o),r=r.next}while(r!==s)}jn(t,e,n);break;case 1:if(!Xe&&(Zs(n,e),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(a){_e(n,e,a)}jn(t,e,n);break;case 21:jn(t,e,n);break;case 22:n.mode&1?(Xe=(s=Xe)||n.memoizedState!==null,jn(t,e,n),Xe=s):jn(t,e,n);break;default:jn(t,e,n)}}function wd(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new r_),e.forEach(function(s){var r=p_.bind(null,t,s);n.has(s)||(n.add(s),s.then(r,r))})}}function Rt(t,e){var n=e.deletions;if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Be=a.stateNode,Ft=!1;break e;case 3:Be=a.stateNode.containerInfo,Ft=!0;break e;case 4:Be=a.stateNode.containerInfo,Ft=!0;break e}a=a.return}if(Be===null)throw Error(b(160));sm(i,o,r),Be=null,Ft=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){_e(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)rm(e,t),e=e.sibling}function rm(t,e){var n=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Rt(e,t),Yt(t),s&4){try{Jr(3,t,t.return),Na(3,t)}catch(_){_e(t,t.return,_)}try{Jr(5,t,t.return)}catch(_){_e(t,t.return,_)}}break;case 1:Rt(e,t),Yt(t),s&512&&n!==null&&Zs(n,n.return);break;case 5:if(Rt(e,t),Yt(t),s&512&&n!==null&&Zs(n,n.return),t.flags&32){var r=t.stateNode;try{si(r,"")}catch(_){_e(t,t.return,_)}}if(s&4&&(r=t.stateNode,r!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Nf(r,i),$l(a,o);var c=$l(a,i);for(o=0;o<l.length;o+=2){var h=l[o],d=l[o+1];h==="style"?Of(r,d):h==="dangerouslySetInnerHTML"?jf(r,d):h==="children"?si(r,d):Qc(r,h,d,c)}switch(a){case"input":Vl(r,i);break;case"textarea":Ef(r,i);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?nr(r,!!i.multiple,v,!1):p!==!!i.multiple&&(i.defaultValue!=null?nr(r,!!i.multiple,i.defaultValue,!0):nr(r,!!i.multiple,i.multiple?[]:"",!1))}r[di]=i}catch(_){_e(t,t.return,_)}}break;case 6:if(Rt(e,t),Yt(t),s&4){if(t.stateNode===null)throw Error(b(162));r=t.stateNode,i=t.memoizedProps;try{r.nodeValue=i}catch(_){_e(t,t.return,_)}}break;case 3:if(Rt(e,t),Yt(t),s&4&&n!==null&&n.memoizedState.isDehydrated)try{ai(e.containerInfo)}catch(_){_e(t,t.return,_)}break;case 4:Rt(e,t),Yt(t);break;case 13:Rt(e,t),Yt(t),r=t.child,r.flags&8192&&(i=r.memoizedState!==null,r.stateNode.isHidden=i,!i||r.alternate!==null&&r.alternate.memoizedState!==null||(Eu=Te())),s&4&&wd(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Xe=(c=Xe)||h,Rt(e,t),Xe=c):Rt(e,t),Yt(t),s&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(B=t,h=t.child;h!==null;){for(d=B=h;B!==null;){switch(p=B,v=p.child,p.tag){case 0:case 11:case 14:case 15:Jr(4,p,p.return);break;case 1:Zs(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){s=p,n=p.return;try{e=s,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(_){_e(s,n,_)}}break;case 5:Zs(p,p.return);break;case 22:if(p.memoizedState!==null){kd(d);continue}}v!==null?(v.return=p,B=v):kd(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{r=d.stateNode,c?(i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=If("display",o))}catch(_){_e(t,t.return,_)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(_){_e(t,t.return,_)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Rt(e,t),Yt(t),s&4&&wd(t);break;case 21:break;default:Rt(e,t),Yt(t)}}function Yt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(nm(n)){var s=n;break e}n=n.return}throw Error(b(160))}switch(s.tag){case 5:var r=s.stateNode;s.flags&32&&(si(r,""),s.flags&=-33);var i=xd(t);xc(t,i,r);break;case 3:case 4:var o=s.stateNode.containerInfo,a=xd(t);_c(t,a,o);break;default:throw Error(b(161))}}catch(l){_e(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function o_(t,e,n){B=t,im(t)}function im(t,e,n){for(var s=(t.mode&1)!==0;B!==null;){var r=B,i=r.child;if(r.tag===22&&s){var o=r.memoizedState!==null||oo;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||Xe;a=oo;var c=Xe;if(oo=o,(Xe=l)&&!c)for(B=r;B!==null;)o=B,l=o.child,o.tag===22&&o.memoizedState!==null?Td(r):l!==null?(l.return=o,B=l):Td(r);for(;i!==null;)B=i,im(i),i=i.sibling;B=r,oo=a,Xe=c}Sd(t)}else r.subtreeFlags&8772&&i!==null?(i.return=r,B=i):Sd(t)}}function Sd(t){for(;B!==null;){var e=B;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Xe||Na(5,e);break;case 1:var s=e.stateNode;if(e.flags&4&&!Xe)if(n===null)s.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:Dt(e.type,n.memoizedProps);s.componentDidUpdate(r,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&od(e,i,s);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}od(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&ai(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(b(163))}Xe||e.flags&512&&yc(e)}catch(p){_e(e,e.return,p)}}if(e===t){B=null;break}if(n=e.sibling,n!==null){n.return=e.return,B=n;break}B=e.return}}function kd(t){for(;B!==null;){var e=B;if(e===t){B=null;break}var n=e.sibling;if(n!==null){n.return=e.return,B=n;break}B=e.return}}function Td(t){for(;B!==null;){var e=B;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Na(4,e)}catch(l){_e(e,n,l)}break;case 1:var s=e.stateNode;if(typeof s.componentDidMount=="function"){var r=e.return;try{s.componentDidMount()}catch(l){_e(e,r,l)}}var i=e.return;try{yc(e)}catch(l){_e(e,i,l)}break;case 5:var o=e.return;try{yc(e)}catch(l){_e(e,o,l)}}}catch(l){_e(e,e.return,l)}if(e===t){B=null;break}var a=e.sibling;if(a!==null){a.return=e.return,B=a;break}B=e.return}}var a_=Math.ceil,Qo=kn.ReactCurrentDispatcher,Cu=kn.ReactCurrentOwner,It=kn.ReactCurrentBatchConfig,Z=0,ze=null,je=null,Ue=0,gt=0,Js=rs(0),be=0,yi=null,Cs=0,Ea=0,Nu=0,ei=null,ut=null,Eu=0,gr=1/0,hn=null,Yo=!1,wc=null,Hn=null,ao=!1,Fn=null,Xo=0,ti=0,Sc=null,ko=-1,To=0;function it(){return Z&6?Te():ko!==-1?ko:ko=Te()}function Gn(t){return t.mode&1?Z&2&&Ue!==0?Ue&-Ue:$y.transition!==null?(To===0&&(To=Uf()),To):(t=ne,t!==0||(t=window.event,t=t===void 0?16:Xf(t.type)),t):1}function Ut(t,e,n,s){if(50<ti)throw ti=0,Sc=null,Error(b(185));Ci(t,n,s),(!(Z&2)||t!==ze)&&(t===ze&&(!(Z&2)&&(Ea|=n),be===4&&bn(t,Ue)),pt(t,s),n===1&&Z===0&&!(e.mode&1)&&(gr=Te()+500,ka&&is()))}function pt(t,e){var n=t.callbackNode;$v(t,e);var s=Po(t,t===ze?Ue:0);if(s===0)n!==null&&Ph(n),t.callbackNode=null,t.callbackPriority=0;else if(e=s&-s,t.callbackPriority!==e){if(n!=null&&Ph(n),e===1)t.tag===0?Uy(Cd.bind(null,t)):mp(Cd.bind(null,t)),Vy(function(){!(Z&6)&&is()}),n=null;else{switch($f(s)){case 1:n=Jc;break;case 4:n=Wf;break;case 16:n=Mo;break;case 536870912:n=Bf;break;default:n=Mo}n=fm(n,om.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function om(t,e){if(ko=-1,To=0,Z&6)throw Error(b(327));var n=t.callbackNode;if(ar()&&t.callbackNode!==n)return null;var s=Po(t,t===ze?Ue:0);if(s===0)return null;if(s&30||s&t.expiredLanes||e)e=Ko(t,s);else{e=s;var r=Z;Z|=2;var i=lm();(ze!==t||Ue!==e)&&(hn=null,gr=Te()+500,ys(t,e));do try{u_();break}catch(a){am(t,a)}while(!0);du(),Qo.current=i,Z=r,je!==null?e=0:(ze=null,Ue=0,e=be)}if(e!==0){if(e===2&&(r=Yl(t),r!==0&&(s=r,e=kc(t,r))),e===1)throw n=yi,ys(t,0),bn(t,s),pt(t,Te()),n;if(e===6)bn(t,s);else{if(r=t.current.alternate,!(s&30)&&!l_(r)&&(e=Ko(t,s),e===2&&(i=Yl(t),i!==0&&(s=i,e=kc(t,i))),e===1))throw n=yi,ys(t,0),bn(t,s),pt(t,Te()),n;switch(t.finishedWork=r,t.finishedLanes=s,e){case 0:case 1:throw Error(b(345));case 2:ds(t,ut,hn);break;case 3:if(bn(t,s),(s&130023424)===s&&(e=Eu+500-Te(),10<e)){if(Po(t,0)!==0)break;if(r=t.suspendedLanes,(r&s)!==s){it(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=sc(ds.bind(null,t,ut,hn),e);break}ds(t,ut,hn);break;case 4:if(bn(t,s),(s&4194240)===s)break;for(e=t.eventTimes,r=-1;0<s;){var o=31-Bt(s);i=1<<o,o=e[o],o>r&&(r=o),s&=~i}if(s=r,s=Te()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*a_(s/1960))-s,10<s){t.timeoutHandle=sc(ds.bind(null,t,ut,hn),s);break}ds(t,ut,hn);break;case 5:ds(t,ut,hn);break;default:throw Error(b(329))}}}return pt(t,Te()),t.callbackNode===n?om.bind(null,t):null}function kc(t,e){var n=ei;return t.current.memoizedState.isDehydrated&&(ys(t,e).flags|=256),t=Ko(t,e),t!==2&&(e=ut,ut=n,e!==null&&Tc(e)),t}function Tc(t){ut===null?ut=t:ut.push.apply(ut,t)}function l_(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var r=n[s],i=r.getSnapshot;r=r.value;try{if(!$t(i(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function bn(t,e){for(e&=~Nu,e&=~Ea,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Bt(e),s=1<<n;t[n]=-1,e&=~s}}function Cd(t){if(Z&6)throw Error(b(327));ar();var e=Po(t,0);if(!(e&1))return pt(t,Te()),null;var n=Ko(t,e);if(t.tag!==0&&n===2){var s=Yl(t);s!==0&&(e=s,n=kc(t,s))}if(n===1)throw n=yi,ys(t,0),bn(t,e),pt(t,Te()),n;if(n===6)throw Error(b(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ds(t,ut,hn),pt(t,Te()),null}function Au(t,e){var n=Z;Z|=1;try{return t(e)}finally{Z=n,Z===0&&(gr=Te()+500,ka&&is())}}function Ns(t){Fn!==null&&Fn.tag===0&&!(Z&6)&&ar();var e=Z;Z|=1;var n=It.transition,s=ne;try{if(It.transition=null,ne=1,t)return t()}finally{ne=s,It.transition=n,Z=e,!(Z&6)&&is()}}function ju(){gt=Js.current,le(Js)}function ys(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Ly(n)),je!==null)for(n=je.return;n!==null;){var s=n;switch(cu(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Lo();break;case 3:pr(),le(dt),le(Je),yu();break;case 5:vu(s);break;case 4:pr();break;case 13:le(pe);break;case 19:le(pe);break;case 10:fu(s.type._context);break;case 22:case 23:ju()}n=n.return}if(ze=t,je=t=Qn(t.current,null),Ue=gt=e,be=0,yi=null,Nu=Ea=Cs=0,ut=ei=null,ps!==null){for(e=0;e<ps.length;e++)if(n=ps[e],s=n.interleaved,s!==null){n.interleaved=null;var r=s.next,i=n.pending;if(i!==null){var o=i.next;i.next=r,s.next=o}n.pending=s}ps=null}return t}function am(t,e){do{var n=je;try{if(du(),xo.current=Go,Ho){for(var s=me.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}Ho=!1}if(Ts=0,Le=Pe=me=null,Zr=!1,mi=0,Cu.current=null,n===null||n.return===null){be=1,yi=e,je=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Ue,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var v=dd(o);if(v!==null){v.flags&=-257,fd(v,o,a,i,e),v.mode&1&&hd(i,c,e),e=v,l=c;var g=e.updateQueue;if(g===null){var _=new Set;_.add(l),e.updateQueue=_}else g.add(l);break e}else{if(!(e&1)){hd(i,c,e),Iu();break e}l=Error(b(426))}}else if(he&&a.mode&1){var w=dd(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),fd(w,o,a,i,e),uu(mr(l,a));break e}}i=l=mr(l,a),be!==4&&(be=2),ei===null?ei=[i]:ei.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var f=$p(i,l,e);id(i,f);break e;case 1:a=l;var m=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Hn===null||!Hn.has(y)))){i.flags|=65536,e&=-e,i.lanes|=e;var T=qp(i,a,e);id(i,T);break e}}i=i.return}while(i!==null)}um(n)}catch(x){e=x,je===n&&n!==null&&(je=n=n.return);continue}break}while(!0)}function lm(){var t=Qo.current;return Qo.current=Go,t===null?Go:t}function Iu(){(be===0||be===3||be===2)&&(be=4),ze===null||!(Cs&268435455)&&!(Ea&268435455)||bn(ze,Ue)}function Ko(t,e){var n=Z;Z|=2;var s=lm();(ze!==t||Ue!==e)&&(hn=null,ys(t,e));do try{c_();break}catch(r){am(t,r)}while(!0);if(du(),Z=n,Qo.current=s,je!==null)throw Error(b(261));return ze=null,Ue=0,be}function c_(){for(;je!==null;)cm(je)}function u_(){for(;je!==null&&!bv();)cm(je)}function cm(t){var e=dm(t.alternate,t,gt);t.memoizedProps=t.pendingProps,e===null?um(t):je=e,Cu.current=null}function um(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=s_(n,e),n!==null){n.flags&=32767,je=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{be=6,je=null;return}}else if(n=n_(n,e,gt),n!==null){je=n;return}if(e=e.sibling,e!==null){je=e;return}je=e=t}while(e!==null);be===0&&(be=5)}function ds(t,e,n){var s=ne,r=It.transition;try{It.transition=null,ne=1,h_(t,e,n,s)}finally{It.transition=r,ne=s}return null}function h_(t,e,n,s){do ar();while(Fn!==null);if(Z&6)throw Error(b(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(b(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(qv(t,i),t===ze&&(je=ze=null,Ue=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ao||(ao=!0,fm(Mo,function(){return ar(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=It.transition,It.transition=null;var o=ne;ne=1;var a=Z;Z|=4,Cu.current=null,i_(t,n),rm(n,t),Oy(tc),Ro=!!ec,tc=ec=null,t.current=n,o_(n),Dv(),Z=a,ne=o,It.transition=i}else t.current=n;if(ao&&(ao=!1,Fn=t,Xo=r),i=t.pendingLanes,i===0&&(Hn=null),Vv(n.stateNode),pt(t,Te()),e!==null)for(s=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],s(r.value,{componentStack:r.stack,digest:r.digest});if(Yo)throw Yo=!1,t=wc,wc=null,t;return Xo&1&&t.tag!==0&&ar(),i=t.pendingLanes,i&1?t===Sc?ti++:(ti=0,Sc=t):ti=0,is(),null}function ar(){if(Fn!==null){var t=$f(Xo),e=It.transition,n=ne;try{if(It.transition=null,ne=16>t?16:t,Fn===null)var s=!1;else{if(t=Fn,Fn=null,Xo=0,Z&6)throw Error(b(331));var r=Z;for(Z|=4,B=t.current;B!==null;){var i=B,o=i.child;if(B.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(B=c;B!==null;){var h=B;switch(h.tag){case 0:case 11:case 15:Jr(8,h,i)}var d=h.child;if(d!==null)d.return=h,B=d;else for(;B!==null;){h=B;var p=h.sibling,v=h.return;if(tm(h),h===c){B=null;break}if(p!==null){p.return=v,B=p;break}B=v}}}var g=i.alternate;if(g!==null){var _=g.child;if(_!==null){g.child=null;do{var w=_.sibling;_.sibling=null,_=w}while(_!==null)}}B=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,B=o;else e:for(;B!==null;){if(i=B,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Jr(9,i,i.return)}var f=i.sibling;if(f!==null){f.return=i.return,B=f;break e}B=i.return}}var m=t.current;for(B=m;B!==null;){o=B;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,B=y;else e:for(o=m;B!==null;){if(a=B,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Na(9,a)}}catch(x){_e(a,a.return,x)}if(a===o){B=null;break e}var T=a.sibling;if(T!==null){T.return=a.return,B=T;break e}B=a.return}}if(Z=r,is(),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(ya,t)}catch{}s=!0}return s}finally{ne=n,It.transition=e}}return!1}function Nd(t,e,n){e=mr(n,e),e=$p(t,e,1),t=qn(t,e,1),e=it(),t!==null&&(Ci(t,1,e),pt(t,e))}function _e(t,e,n){if(t.tag===3)Nd(t,t,n);else for(;e!==null;){if(e.tag===3){Nd(e,t,n);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Hn===null||!Hn.has(s))){t=mr(n,t),t=qp(e,t,1),e=qn(e,t,1),t=it(),e!==null&&(Ci(e,1,t),pt(e,t));break}}e=e.return}}function d_(t,e,n){var s=t.pingCache;s!==null&&s.delete(e),e=it(),t.pingedLanes|=t.suspendedLanes&n,ze===t&&(Ue&n)===n&&(be===4||be===3&&(Ue&130023424)===Ue&&500>Te()-Eu?ys(t,0):Nu|=n),pt(t,e)}function hm(t,e){e===0&&(t.mode&1?(e=Ki,Ki<<=1,!(Ki&130023424)&&(Ki=4194304)):e=1);var n=it();t=xn(t,e),t!==null&&(Ci(t,e,n),pt(t,n))}function f_(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),hm(t,n)}function p_(t,e){var n=0;switch(t.tag){case 13:var s=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:s=t.stateNode;break;default:throw Error(b(314))}s!==null&&s.delete(e),hm(t,n)}var dm;dm=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||dt.current)ht=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ht=!1,t_(t,e,n);ht=!!(t.flags&131072)}else ht=!1,he&&e.flags&1048576&&gp(e,Wo,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;So(t,e),t=e.pendingProps;var r=hr(e,Je.current);or(e,n),r=xu(null,e,s,t,r,n);var i=wu();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ft(s)?(i=!0,Vo(e)):i=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,mu(e),r.updater=Ca,e.stateNode=r,r._reactInternals=e,uc(e,s,t,n),e=fc(null,e,s,!0,i,n)):(e.tag=0,he&&i&&lu(e),tt(null,e,r,n),e=e.child),e;case 16:s=e.elementType;e:{switch(So(t,e),t=e.pendingProps,r=s._init,s=r(s._payload),e.type=s,r=e.tag=g_(s),t=Dt(s,t),r){case 0:e=dc(null,e,s,t,n);break e;case 1:e=gd(null,e,s,t,n);break e;case 11:e=pd(null,e,s,t,n);break e;case 14:e=md(null,e,s,Dt(s.type,t),n);break e}throw Error(b(306,s,""))}return e;case 0:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:Dt(s,r),dc(t,e,s,r,n);case 1:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:Dt(s,r),gd(t,e,s,r,n);case 3:e:{if(Yp(e),t===null)throw Error(b(387));s=e.pendingProps,i=e.memoizedState,r=i.element,Sp(t,e),$o(e,s,null,n);var o=e.memoizedState;if(s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){r=mr(Error(b(423)),e),e=vd(t,e,s,n,r);break e}else if(s!==r){r=mr(Error(b(424)),e),e=vd(t,e,s,n,r);break e}else for(_t=$n(e.stateNode.containerInfo.firstChild),wt=e,he=!0,Lt=null,n=xp(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(dr(),s===r){e=wn(t,e,n);break e}tt(t,e,s,n)}e=e.child}return e;case 5:return kp(e),t===null&&ac(e),s=e.type,r=e.pendingProps,i=t!==null?t.memoizedProps:null,o=r.children,nc(s,r)?o=null:i!==null&&nc(s,i)&&(e.flags|=32),Qp(t,e),tt(t,e,o,n),e.child;case 6:return t===null&&ac(e),null;case 13:return Xp(t,e,n);case 4:return gu(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=fr(e,null,s,n):tt(t,e,s,n),e.child;case 11:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:Dt(s,r),pd(t,e,s,r,n);case 7:return tt(t,e,e.pendingProps,n),e.child;case 8:return tt(t,e,e.pendingProps.children,n),e.child;case 12:return tt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(s=e.type._context,r=e.pendingProps,i=e.memoizedProps,o=r.value,re(Bo,s._currentValue),s._currentValue=o,i!==null)if($t(i.value,o)){if(i.children===r.children&&!dt.current){e=wn(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===s){if(i.tag===1){l=gn(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),lc(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(b(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),lc(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}tt(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,s=e.pendingProps.children,or(e,n),r=Mt(r),s=s(r),e.flags|=1,tt(t,e,s,n),e.child;case 14:return s=e.type,r=Dt(s,e.pendingProps),r=Dt(s.type,r),md(t,e,s,r,n);case 15:return Hp(t,e,e.type,e.pendingProps,n);case 17:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:Dt(s,r),So(t,e),e.tag=1,ft(s)?(t=!0,Vo(e)):t=!1,or(e,n),Up(e,s,r),uc(e,s,r,n),fc(null,e,s,!0,t,n);case 19:return Kp(t,e,n);case 22:return Gp(t,e,n)}throw Error(b(156,e.tag))};function fm(t,e){return zf(t,e)}function m_(t,e,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jt(t,e,n,s){return new m_(t,e,n,s)}function Ou(t){return t=t.prototype,!(!t||!t.isReactComponent)}function g_(t){if(typeof t=="function")return Ou(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Xc)return 11;if(t===Kc)return 14}return 2}function Qn(t,e){var n=t.alternate;return n===null?(n=jt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Co(t,e,n,s,r,i){var o=2;if(s=t,typeof t=="function")Ou(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Us:return _s(n.children,r,i,e);case Yc:o=8,r|=8;break;case Rl:return t=jt(12,n,e,r|2),t.elementType=Rl,t.lanes=i,t;case bl:return t=jt(13,n,e,r),t.elementType=bl,t.lanes=i,t;case Dl:return t=jt(19,n,e,r),t.elementType=Dl,t.lanes=i,t;case kf:return Aa(n,r,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case wf:o=10;break e;case Sf:o=9;break e;case Xc:o=11;break e;case Kc:o=14;break e;case On:o=16,s=null;break e}throw Error(b(130,t==null?t:typeof t,""))}return e=jt(o,n,e,r),e.elementType=t,e.type=s,e.lanes=i,e}function _s(t,e,n,s){return t=jt(7,t,s,e),t.lanes=n,t}function Aa(t,e,n,s){return t=jt(22,t,s,e),t.elementType=kf,t.lanes=n,t.stateNode={isHidden:!1},t}function Al(t,e,n){return t=jt(6,t,null,e),t.lanes=n,t}function jl(t,e,n){return e=jt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function v_(t,e,n,s,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cl(0),this.expirationTimes=cl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cl(0),this.identifierPrefix=s,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Mu(t,e,n,s,r,i,o,a,l){return t=new v_(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=jt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},mu(i),t}function y_(t,e,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bs,key:s==null?null:""+s,children:t,containerInfo:e,implementation:n}}function pm(t){if(!t)return Jn;t=t._reactInternals;e:{if(Ms(t)!==t||t.tag!==1)throw Error(b(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ft(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(b(171))}if(t.tag===1){var n=t.type;if(ft(n))return pp(t,n,e)}return e}function mm(t,e,n,s,r,i,o,a,l){return t=Mu(n,s,!0,t,r,i,o,a,l),t.context=pm(null),n=t.current,s=it(),r=Gn(n),i=gn(s,r),i.callback=e??null,qn(n,i,r),t.current.lanes=r,Ci(t,r,s),pt(t,s),t}function ja(t,e,n,s){var r=e.current,i=it(),o=Gn(r);return n=pm(n),e.context===null?e.context=n:e.pendingContext=n,e=gn(i,o),e.payload={element:t},s=s===void 0?null:s,s!==null&&(e.callback=s),t=qn(r,e,o),t!==null&&(Ut(t,r,o,i),_o(t,r,o)),o}function Zo(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ed(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Pu(t,e){Ed(t,e),(t=t.alternate)&&Ed(t,e)}function __(){return null}var gm=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ru(t){this._internalRoot=t}Ia.prototype.render=Ru.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(b(409));ja(t,e,null,null)};Ia.prototype.unmount=Ru.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ns(function(){ja(null,t,null,null)}),e[_n]=null}};function Ia(t){this._internalRoot=t}Ia.prototype.unstable_scheduleHydration=function(t){if(t){var e=Gf();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Rn.length&&e!==0&&e<Rn[n].priority;n++);Rn.splice(n,0,t),n===0&&Yf(t)}};function bu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Oa(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ad(){}function x_(t,e,n,s,r){if(r){if(typeof s=="function"){var i=s;s=function(){var c=Zo(o);i.call(c)}}var o=mm(e,s,t,0,null,!1,!1,"",Ad);return t._reactRootContainer=o,t[_n]=o.current,ui(t.nodeType===8?t.parentNode:t),Ns(),o}for(;r=t.lastChild;)t.removeChild(r);if(typeof s=="function"){var a=s;s=function(){var c=Zo(l);a.call(c)}}var l=Mu(t,0,!1,null,null,!1,!1,"",Ad);return t._reactRootContainer=l,t[_n]=l.current,ui(t.nodeType===8?t.parentNode:t),Ns(function(){ja(e,l,n,s)}),l}function Ma(t,e,n,s,r){var i=n._reactRootContainer;if(i){var o=i;if(typeof r=="function"){var a=r;r=function(){var l=Zo(o);a.call(l)}}ja(e,o,t,r)}else o=x_(n,e,t,r,s);return Zo(o)}qf=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=qr(e.pendingLanes);n!==0&&(eu(e,n|1),pt(e,Te()),!(Z&6)&&(gr=Te()+500,is()))}break;case 13:Ns(function(){var s=xn(t,1);if(s!==null){var r=it();Ut(s,t,1,r)}}),Pu(t,1)}};tu=function(t){if(t.tag===13){var e=xn(t,134217728);if(e!==null){var n=it();Ut(e,t,134217728,n)}Pu(t,134217728)}};Hf=function(t){if(t.tag===13){var e=Gn(t),n=xn(t,e);if(n!==null){var s=it();Ut(n,t,e,s)}Pu(t,e)}};Gf=function(){return ne};Qf=function(t,e){var n=ne;try{return ne=t,e()}finally{ne=n}};Hl=function(t,e,n){switch(e){case"input":if(Vl(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var s=n[e];if(s!==t&&s.form===t.form){var r=Sa(s);if(!r)throw Error(b(90));Cf(s),Vl(s,r)}}}break;case"textarea":Ef(t,n);break;case"select":e=n.value,e!=null&&nr(t,!!n.multiple,e,!1)}};Rf=Au;bf=Ns;var w_={usingClientEntryPoint:!1,Events:[Ei,Gs,Sa,Mf,Pf,Au]},Br={findFiberByHostInstance:fs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},S_={bundleType:Br.bundleType,version:Br.version,rendererPackageName:Br.rendererPackageName,rendererConfig:Br.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:kn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Lf(t),t===null?null:t.stateNode},findFiberByHostInstance:Br.findFiberByHostInstance||__,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lo.isDisabled&&lo.supportsFiber)try{ya=lo.inject(S_),Jt=lo}catch{}}Tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=w_;Tt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bu(e))throw Error(b(200));return y_(t,e,null,n)};Tt.createRoot=function(t,e){if(!bu(t))throw Error(b(299));var n=!1,s="",r=gm;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=Mu(t,1,!1,null,null,n,!1,s,r),t[_n]=e.current,ui(t.nodeType===8?t.parentNode:t),new Ru(e)};Tt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(b(188)):(t=Object.keys(t).join(","),Error(b(268,t)));return t=Lf(e),t=t===null?null:t.stateNode,t};Tt.flushSync=function(t){return Ns(t)};Tt.hydrate=function(t,e,n){if(!Oa(e))throw Error(b(200));return Ma(null,t,e,!0,n)};Tt.hydrateRoot=function(t,e,n){if(!bu(t))throw Error(b(405));var s=n!=null&&n.hydratedSources||null,r=!1,i="",o=gm;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=mm(e,null,t,1,n??null,r,!1,i,o),t[_n]=e.current,ui(t),s)for(t=0;t<s.length;t++)n=s[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Ia(e)};Tt.render=function(t,e,n){if(!Oa(e))throw Error(b(200));return Ma(null,t,e,!1,n)};Tt.unmountComponentAtNode=function(t){if(!Oa(t))throw Error(b(40));return t._reactRootContainer?(Ns(function(){Ma(null,null,t,!1,function(){t._reactRootContainer=null,t[_n]=null})}),!0):!1};Tt.unstable_batchedUpdates=Au;Tt.unstable_renderSubtreeIntoContainer=function(t,e,n,s){if(!Oa(n))throw Error(b(200));if(t==null||t._reactInternals===void 0)throw Error(b(38));return Ma(t,e,n,!1,s)};Tt.version="18.3.1-next-f1338f8080-20240426";function vm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vm)}catch(t){console.error(t)}}vm(),vf.exports=Tt;var k_=vf.exports,jd=k_;Ml.createRoot=jd.createRoot,Ml.hydrateRoot=jd.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _i(){return _i=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},_i.apply(this,arguments)}var Ln;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ln||(Ln={}));const Id="popstate";function T_(t){t===void 0&&(t={});function e(r,i){let{pathname:o="/",search:a="",hash:l=""}=Ps(r.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Cc("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){let o=r.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=r.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof i=="string"?i:Jo(i))}function s(r,i){Du(r.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return N_(e,n,s,t)}function Se(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Du(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function C_(){return Math.random().toString(36).substr(2,8)}function Od(t,e){return{usr:t.state,key:t.key,idx:e}}function Cc(t,e,n,s){return n===void 0&&(n=null),_i({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ps(e):e,{state:n,key:e&&e.key||s||C_()})}function Jo(t){let{pathname:e="/",search:n="",hash:s=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Ps(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substr(s),t=t.substr(0,s)),t&&(e.pathname=t)}return e}function N_(t,e,n,s){s===void 0&&(s={});let{window:r=document.defaultView,v5Compat:i=!1}=s,o=r.history,a=Ln.Pop,l=null,c=h();c==null&&(c=0,o.replaceState(_i({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function d(){a=Ln.Pop;let w=h(),f=w==null?null:w-c;c=w,l&&l({action:a,location:_.location,delta:f})}function p(w,f){a=Ln.Push;let m=Cc(_.location,w,f);n&&n(m,w),c=h()+1;let y=Od(m,c),T=_.createHref(m);try{o.pushState(y,"",T)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;r.location.assign(T)}i&&l&&l({action:a,location:_.location,delta:1})}function v(w,f){a=Ln.Replace;let m=Cc(_.location,w,f);n&&n(m,w),c=h();let y=Od(m,c),T=_.createHref(m);o.replaceState(y,"",T),i&&l&&l({action:a,location:_.location,delta:0})}function g(w){let f=r.location.origin!=="null"?r.location.origin:r.location.href,m=typeof w=="string"?w:Jo(w);return m=m.replace(/ $/,"%20"),Se(f,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,f)}let _={get action(){return a},get location(){return t(r,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(Id,d),l=w,()=>{r.removeEventListener(Id,d),l=null}},createHref(w){return e(r,w)},createURL:g,encodeLocation(w){let f=g(w);return{pathname:f.pathname,search:f.search,hash:f.hash}},push:p,replace:v,go(w){return o.go(w)}};return _}var Md;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Md||(Md={}));function E_(t,e,n){return n===void 0&&(n="/"),A_(t,e,n)}function A_(t,e,n,s){let r=typeof e=="string"?Ps(e):e,i=vr(r.pathname||"/",n);if(i==null)return null;let o=ym(t);j_(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=z_(i);a=L_(o[l],c)}return a}function ym(t,e,n,s){e===void 0&&(e=[]),n===void 0&&(n=[]),s===void 0&&(s="");let r=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Se(l.relativePath.startsWith(s),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(s.length));let c=Yn([s,l.relativePath]),h=n.concat(l);i.children&&i.children.length>0&&(Se(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),ym(i.children,e,h,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:D_(c,i.index),routesMeta:h})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))r(i,o);else for(let l of _m(i.path))r(i,o,l)}),e}function _m(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,r=n.endsWith("?"),i=n.replace(/\?$/,"");if(s.length===0)return r?[i,""]:[i];let o=_m(s.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),r&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function j_(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:F_(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const I_=/^:[\w-]+$/,O_=3,M_=2,P_=1,R_=10,b_=-2,Pd=t=>t==="*";function D_(t,e){let n=t.split("/"),s=n.length;return n.some(Pd)&&(s+=b_),e&&(s+=M_),n.filter(r=>!Pd(r)).reduce((r,i)=>r+(I_.test(i)?O_:i===""?P_:R_),s)}function F_(t,e){return t.length===e.length&&t.slice(0,-1).every((s,r)=>s===e[r])?t[t.length-1]-e[e.length-1]:0}function L_(t,e,n){let{routesMeta:s}=t,r={},i="/",o=[];for(let a=0;a<s.length;++a){let l=s[a],c=a===s.length-1,h=i==="/"?e:e.slice(i.length)||"/",d=Nc({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h),p=l.route;if(!d)return null;Object.assign(r,d.params),o.push({params:r,pathname:Yn([i,d.pathname]),pathnameBase:$_(Yn([i,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(i=Yn([i,d.pathnameBase]))}return o}function Nc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=V_(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let i=r[0],o=i.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:s.reduce((c,h,d)=>{let{paramName:p,isOptional:v}=h;if(p==="*"){let _=a[d]||"";o=i.slice(0,i.length-_.length).replace(/(.)\/+$/,"$1")}const g=a[d];return v&&!g?c[p]=void 0:c[p]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function V_(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Du(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let s=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(s.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),s]}function z_(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Du(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function vr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function W_(t,e){e===void 0&&(e="/");let{pathname:n,search:s="",hash:r=""}=typeof t=="string"?Ps(t):t;return{pathname:n?n.startsWith("/")?n:B_(n,e):e,search:q_(s),hash:H_(r)}}function B_(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Il(t,e,n,s){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function U_(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function xm(t,e){let n=U_(t);return e?n.map((s,r)=>r===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function wm(t,e,n,s){s===void 0&&(s=!1);let r;typeof t=="string"?r=Ps(t):(r=_i({},t),Se(!r.pathname||!r.pathname.includes("?"),Il("?","pathname","search",r)),Se(!r.pathname||!r.pathname.includes("#"),Il("#","pathname","hash",r)),Se(!r.search||!r.search.includes("#"),Il("#","search","hash",r)));let i=t===""||r.pathname==="",o=i?"/":r.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!s&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),d-=1;r.pathname=p.join("/")}a=d>=0?e[d]:"/"}let l=W_(r,a),c=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}const Yn=t=>t.join("/").replace(/\/\/+/g,"/"),$_=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),q_=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,H_=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function G_(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Sm=["post","put","patch","delete"];new Set(Sm);const Q_=["get",...Sm];new Set(Q_);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xi(){return xi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},xi.apply(this,arguments)}const Pa=j.createContext(null),km=j.createContext(null),os=j.createContext(null),Ra=j.createContext(null),Rs=j.createContext({outlet:null,matches:[],isDataRoute:!1}),Tm=j.createContext(null);function Y_(t,e){let{relative:n}=e===void 0?{}:e;ji()||Se(!1);let{basename:s,navigator:r}=j.useContext(os),{hash:i,pathname:o,search:a}=ba(t,{relative:n}),l=o;return s!=="/"&&(l=o==="/"?s:Yn([s,o])),r.createHref({pathname:l,search:a,hash:i})}function ji(){return j.useContext(Ra)!=null}function Ii(){return ji()||Se(!1),j.useContext(Ra).location}function Cm(t){j.useContext(os).static||j.useLayoutEffect(t)}function X_(){let{isDataRoute:t}=j.useContext(Rs);return t?c0():K_()}function K_(){ji()||Se(!1);let t=j.useContext(Pa),{basename:e,future:n,navigator:s}=j.useContext(os),{matches:r}=j.useContext(Rs),{pathname:i}=Ii(),o=JSON.stringify(xm(r,n.v7_relativeSplatPath)),a=j.useRef(!1);return Cm(()=>{a.current=!0}),j.useCallback(function(c,h){if(h===void 0&&(h={}),!a.current)return;if(typeof c=="number"){s.go(c);return}let d=wm(c,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Yn([e,d.pathname])),(h.replace?s.replace:s.push)(d,h.state,h)},[e,s,o,i,t])}function ba(t,e){let{relative:n}=e===void 0?{}:e,{future:s}=j.useContext(os),{matches:r}=j.useContext(Rs),{pathname:i}=Ii(),o=JSON.stringify(xm(r,s.v7_relativeSplatPath));return j.useMemo(()=>wm(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function Z_(t,e){return J_(t,e)}function J_(t,e,n,s){ji()||Se(!1);let{navigator:r,static:i}=j.useContext(os),{matches:o}=j.useContext(Rs),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let h=Ii(),d;if(e){var p;let f=typeof e=="string"?Ps(e):e;c==="/"||(p=f.pathname)!=null&&p.startsWith(c)||Se(!1),d=f}else d=h;let v=d.pathname||"/",g=v;if(c!=="/"){let f=c.replace(/^\//,"").split("/");g="/"+v.replace(/^\//,"").split("/").slice(f.length).join("/")}let _=E_(t,{pathname:g}),w=r0(_&&_.map(f=>Object.assign({},f,{params:Object.assign({},l,f.params),pathname:Yn([c,r.encodeLocation?r.encodeLocation(f.pathname).pathname:f.pathname]),pathnameBase:f.pathnameBase==="/"?c:Yn([c,r.encodeLocation?r.encodeLocation(f.pathnameBase).pathname:f.pathnameBase])})),o,n,s);return e&&w?j.createElement(Ra.Provider,{value:{location:xi({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ln.Pop}},w):w}function e0(){let t=l0(),e=G_(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:r},n):null,null)}const t0=j.createElement(e0,null);class n0 extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?j.createElement(Rs.Provider,{value:this.props.routeContext},j.createElement(Tm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function s0(t){let{routeContext:e,match:n,children:s}=t,r=j.useContext(Pa);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),j.createElement(Rs.Provider,{value:e},s)}function r0(t,e,n,s){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),s===void 0&&(s=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=s)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(r=n)==null?void 0:r.errors;if(a!=null){let h=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);h>=0||Se(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,c=-1;if(n&&s&&s.v7_partialHydration)for(let h=0;h<o.length;h++){let d=o[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=h),d.route.id){let{loaderData:p,errors:v}=n,g=d.route.loader&&p[d.route.id]===void 0&&(!v||v[d.route.id]===void 0);if(d.route.lazy||g){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((h,d,p)=>{let v,g=!1,_=null,w=null;n&&(v=a&&d.route.id?a[d.route.id]:void 0,_=d.route.errorElement||t0,l&&(c<0&&p===0?(u0("route-fallback"),g=!0,w=null):c===p&&(g=!0,w=d.route.hydrateFallbackElement||null)));let f=e.concat(o.slice(0,p+1)),m=()=>{let y;return v?y=_:g?y=w:d.route.Component?y=j.createElement(d.route.Component,null):d.route.element?y=d.route.element:y=h,j.createElement(s0,{match:d,routeContext:{outlet:h,matches:f,isDataRoute:n!=null},children:y})};return n&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?j.createElement(n0,{location:n.location,revalidation:n.revalidation,component:_,error:v,children:m(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):m()},null)}var Nm=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Nm||{}),Em=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Em||{});function i0(t){let e=j.useContext(Pa);return e||Se(!1),e}function o0(t){let e=j.useContext(km);return e||Se(!1),e}function a0(t){let e=j.useContext(Rs);return e||Se(!1),e}function Am(t){let e=a0(),n=e.matches[e.matches.length-1];return n.route.id||Se(!1),n.route.id}function l0(){var t;let e=j.useContext(Tm),n=o0(),s=Am();return e!==void 0?e:(t=n.errors)==null?void 0:t[s]}function c0(){let{router:t}=i0(Nm.UseNavigateStable),e=Am(Em.UseNavigateStable),n=j.useRef(!1);return Cm(()=>{n.current=!0}),j.useCallback(function(r,i){i===void 0&&(i={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,xi({fromRouteId:e},i)))},[t,e])}const Rd={};function u0(t,e,n){Rd[t]||(Rd[t]=!0)}function h0(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function bt(t){Se(!1)}function d0(t){let{basename:e="/",children:n=null,location:s,navigationType:r=Ln.Pop,navigator:i,static:o=!1,future:a}=t;ji()&&Se(!1);let l=e.replace(/^\/*/,"/"),c=j.useMemo(()=>({basename:l,navigator:i,static:o,future:xi({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof s=="string"&&(s=Ps(s));let{pathname:h="/",search:d="",hash:p="",state:v=null,key:g="default"}=s,_=j.useMemo(()=>{let w=vr(h,l);return w==null?null:{location:{pathname:w,search:d,hash:p,state:v,key:g},navigationType:r}},[l,h,d,p,v,g,r]);return _==null?null:j.createElement(os.Provider,{value:c},j.createElement(Ra.Provider,{children:n,value:_}))}function f0(t){let{children:e,location:n}=t;return Z_(Ec(e),n)}new Promise(()=>{});function Ec(t,e){e===void 0&&(e=[]);let n=[];return j.Children.forEach(t,(s,r)=>{if(!j.isValidElement(s))return;let i=[...e,r];if(s.type===j.Fragment){n.push.apply(n,Ec(s.props.children,i));return}s.type!==bt&&Se(!1),!s.props.index||!s.props.children||Se(!1);let o={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=Ec(s.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ea(){return ea=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},ea.apply(this,arguments)}function jm(t,e){if(t==null)return{};var n={},s=Object.keys(t),r,i;for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function p0(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function m0(t,e){return t.button===0&&(!e||e==="_self")&&!p0(t)}const g0=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],v0=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],y0="6";try{window.__reactRouterVersion=y0}catch{}const _0=j.createContext({isTransitioning:!1}),x0="startTransition",bd=dv[x0];function w0(t){let{basename:e,children:n,future:s,window:r}=t,i=j.useRef();i.current==null&&(i.current=T_({window:r,v5Compat:!0}));let o=i.current,[a,l]=j.useState({action:o.action,location:o.location}),{v7_startTransition:c}=s||{},h=j.useCallback(d=>{c&&bd?bd(()=>l(d)):l(d)},[l,c]);return j.useLayoutEffect(()=>o.listen(h),[o,h]),j.useEffect(()=>h0(s),[s]),j.createElement(d0,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:s})}const S0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",k0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xs=j.forwardRef(function(e,n){let{onClick:s,relative:r,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:h,viewTransition:d}=e,p=jm(e,g0),{basename:v}=j.useContext(os),g,_=!1;if(typeof c=="string"&&k0.test(c)&&(g=c,S0))try{let y=new URL(window.location.href),T=c.startsWith("//")?new URL(y.protocol+c):new URL(c),x=vr(T.pathname,v);T.origin===y.origin&&x!=null?c=x+T.search+T.hash:_=!0}catch{}let w=Y_(c,{relative:r}),f=C0(c,{replace:o,state:a,target:l,preventScrollReset:h,relative:r,viewTransition:d});function m(y){s&&s(y),y.defaultPrevented||f(y)}return j.createElement("a",ea({},p,{href:g||w,onClick:_||i?s:m,ref:n,target:l}))}),Xt=j.forwardRef(function(e,n){let{"aria-current":s="page",caseSensitive:r=!1,className:i="",end:o=!1,style:a,to:l,viewTransition:c,children:h}=e,d=jm(e,v0),p=ba(l,{relative:d.relative}),v=Ii(),g=j.useContext(km),{navigator:_,basename:w}=j.useContext(os),f=g!=null&&N0(p)&&c===!0,m=_.encodeLocation?_.encodeLocation(p).pathname:p.pathname,y=v.pathname,T=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;r||(y=y.toLowerCase(),T=T?T.toLowerCase():null,m=m.toLowerCase()),T&&w&&(T=vr(T,w)||T);const x=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let S=y===m||!o&&y.startsWith(m)&&y.charAt(x)==="/",C=T!=null&&(T===m||!o&&T.startsWith(m)&&T.charAt(m.length)==="/"),k={isActive:S,isPending:C,isTransitioning:f},E=S?s:void 0,A;typeof i=="function"?A=i(k):A=[i,S?"active":null,C?"pending":null,f?"transitioning":null].filter(Boolean).join(" ");let N=typeof a=="function"?a(k):a;return j.createElement(xs,ea({},d,{"aria-current":E,className:A,ref:n,style:N,to:l,viewTransition:c}),typeof h=="function"?h(k):h)});var Ac;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Ac||(Ac={}));var Dd;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Dd||(Dd={}));function T0(t){let e=j.useContext(Pa);return e||Se(!1),e}function C0(t,e){let{target:n,replace:s,state:r,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=X_(),c=Ii(),h=ba(t,{relative:o});return j.useCallback(d=>{if(m0(d,n)){d.preventDefault();let p=s!==void 0?s:Jo(c)===Jo(h);l(t,{replace:p,state:r,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,h,s,r,n,t,i,o,a])}function N0(t,e){e===void 0&&(e={});let n=j.useContext(_0);n==null&&Se(!1);let{basename:s}=T0(Ac.useViewTransitionState),r=ba(t,{relative:e.relative});if(!n.isTransitioning)return!1;let i=vr(n.currentLocation.pathname,s)||n.currentLocation.pathname,o=vr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Nc(r.pathname,o)!=null||Nc(r.pathname,i)!=null}const E0=j.createContext(),A0=({children:t})=>{const e=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,[n,s]=j.useState(()=>{const a=localStorage.getItem("themePreference");return a!==null?a==="dark":e});j.useEffect(()=>{n?(document.body.classList.add("dark-theme"),document.body.classList.remove("light-theme")):(document.body.classList.add("light-theme"),document.body.classList.remove("dark-theme")),localStorage.setItem("themePreference",n?"dark":"light")},[n]),j.useEffect(()=>{const a=window.matchMedia("(prefers-color-scheme: dark)"),l=c=>{localStorage.getItem("themePreference")===null&&s(c.matches)};return a.addEventListener?a.addEventListener("change",l):a.addListener(l),()=>{a.removeEventListener?a.removeEventListener("change",l):a.removeListener(l)}},[]);const o={isDarkMode:n,toggleTheme:()=>{s(a=>!a)},setTheme:a=>{s(a==="dark")}};return u.jsx(E0.Provider,{value:o,children:t})},Ve=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],ta={major:[0,2,4,5,7,9,11],minor:[0,2,3,5,7,8,10],dorian:[0,2,3,5,7,9,10],phrygian:[0,1,3,5,7,8,10],lydian:[0,2,4,6,7,9,11],mixolydian:[0,2,4,5,7,9,10],locrian:[0,1,3,5,6,8,10],minorPentatonic:[0,3,5,7,10],majorPentatonic:[0,2,4,7,9],blues:[0,3,5,6,7,10],harmonicMinor:[0,2,3,5,7,8,11],melodicMinor:[0,2,3,5,7,9,11]},j0={maj:[0,4,7],min:[0,3,7],dim:[0,3,6],aug:[0,4,8],maj7:[0,4,7,11],min7:[0,3,7,10],7:[0,4,7,10],dim7:[0,3,6,9],m7b5:[0,3,6,10],maj9:[0,4,7,11,14],min9:[0,3,7,10,14],9:[0,4,7,10,14],maj6:[0,4,7,9],min6:[0,3,7,9],add9:[0,4,7,14],sus2:[0,2,7],sus4:[0,5,7]},jc={0:"Unison",1:"Minor 2nd",2:"Major 2nd",3:"Minor 3rd",4:"Major 3rd",5:"Perfect 4th",6:"Tritone",7:"Perfect 5th",8:"Minor 6th",9:"Major 6th",10:"Minor 7th",11:"Major 7th",12:"Octave"},I0={0:"Perfect consonance, foundation for harmony",1:"Strong dissonance, creates tension and urgency",2:"Mild dissonance, used for stepwise motion and creating movement",3:"Imperfect consonance, dark and somber quality",4:"Imperfect consonance, bright and happy quality",5:"Perfect consonance with a suspended quality, seeking resolution",6:`Strong dissonance, historically the "devil's interval"`,7:"Perfect consonance, stable and grounding",8:"Imperfect consonance with melancholic quality",9:"Imperfect consonance, warm and bright",10:"Mild dissonance, creates tension that resolves to the tonic",11:"Strong dissonance, creates anticipation for resolution",12:"Perfect consonance, emphasizes stability"},O0={0:"1:1",1:"16:15",2:"9:8",3:"6:5",4:"5:4",5:"4:3",6:"45:32",7:"3:2",8:"8:5",9:"5:3",10:"9:5",11:"15:8",12:"2:1"},Ic={major:["Tonic","Supertonic","Mediant","Subdominant","Dominant","Submediant","Leading Tone"],minor:["Tonic","Supertonic","Mediant","Subdominant","Dominant","Submediant","Subtonic"]},st=t=>{const e=t.replace(/\d/g,"");return Ve.indexOf(e)},Es=(t,e="major")=>{const n=st(t),s=ta[e];return n===-1||!s?[]:s.map(r=>{const i=(n+r)%12;return Ve[i]})},Im=(t,e="maj")=>{const n=st(t),s=j0[e];return n===-1||!s?[]:s.map(r=>{const i=(n+r)%12;return Ve[i]})},Oc=(t,e="maj",n=4)=>{const s=Im(t,e);if(s.length===0)return[];let r=n,i=st(s[0]);return s.map((o,a)=>{const l=st(o);return a>0&&l<=i&&(r+=1),i=l,`${o}${r}`})},M0=(t,e)=>{const n=st(t),s=st(e);if(n===-1||s===-1)return null;const r=(s-n+12)%12;return{semitones:r,name:jc[r],character:I0[r],ratio:O0[r]}},na=(t,e="major")=>{const n=Es(t,e);if(n.length===0)return[];const s={major:["maj","min","min","maj","maj","min","dim"],minor:["min","dim","maj","min","min","maj","maj"]},r={major:["I","ii","iii","IV","V","vi","vii°"],minor:["i","ii°","III","iv","v","VI","VII"]},i=s[e]||s.major,o=r[e]||r.major;return n.map((a,l)=>({root:a,type:i[l],chord:Im(a,i[l]),numeral:o[l],degree:l+1,function:Ic[e][l]}))},Fd=(t,e="major")=>{var n;return t<0||t>6?null:((n=Ic[e])==null?void 0:n[t])||Ic.major[t]},sa=(t,e)=>{const n=st(t);if(n===-1)return null;if(e==="major"){const s=(n+9)%12;return{root:Ve[s],type:"minor"}}else if(e==="minor"){const s=(n+3)%12;return{root:Ve[s],type:"major"}}return null},P0=(t,e="major")=>{const n=Es(t,e);if(n.length===0)return[];const s=["Ionian","Dorian","Phrygian","Lydian","Mixolydian","Aeolian","Locrian"];return n.map((r,i)=>{const o=[...n.slice(i),...n.slice(0,i)];return{root:r,name:s[i],scale:o,pattern:o.map((a,l)=>l===o.length-1?null:(st(o[l+1])-st(o[l])+12)%12===1?"H":"W").filter(a=>a!==null)}})},R0=()=>{const t={keys:[],innerKeys:[]};let e="C";for(let n=0;n<12;n++){const s=st(e),r=sa(e,"major");t.keys.push({note:e,keySignature:ra(e,"major"),relativeMinor:r.root});const i=(s+7)%12;e=Ve[i]}return t.innerKeys=t.keys.map(n=>({note:sa(n.note,"major").root,keySignature:ra(n.note,"major"),relativeMajor:n.note})),t},ra=(t,e)=>{const s=["C","G","D","A","E","B","F#","C#","G#","D#","A#","F"].indexOf(t);if(s===-1)return{sharps:0,flats:0};if(e==="major")return s<=6?{sharps:s}:{flats:12-s};if(e==="minor"){const r=sa(t,"minor").root;return ra(r,"major")}return{sharps:0,flats:0}},b0=j.createContext(),D0=({children:t})=>{const[e,n]=j.useState([]),[s,r]=j.useState({root:"C",type:"major"}),[i,o]=j.useState([]),[a,l]=j.useState([]);j.useEffect(()=>{const m=localStorage.getItem("savedProgressions");if(m)try{l(JSON.parse(m))}catch(y){console.error("Error loading saved progressions:",y)}},[]),j.useEffect(()=>{localStorage.setItem("savedProgressions",JSON.stringify(a))},[a]),j.useEffect(()=>{const m=na(s.root,s.type);o(m)},[s]);const f={currentProgression:e,currentKey:s,setCurrentKey:r,diatonicChords:i,addChord:m=>{n(y=>[...y,m])},removeChord:m=>{n(y=>y.filter((T,x)=>x!==m))},updateChord:(m,y)=>{n(T=>{const x=[...T];return x[m]=y,x})},clearProgression:()=>{n([])},saveProgression:m=>{const y={id:Date.now().toString(),name:m||`Progression ${a.length+1}`,key:s,chords:e,createdAt:new Date().toISOString()};return l(T=>[...T,y]),y.id},loadProgression:m=>{const y=a.find(T=>T.id===m);return y?(r(y.key),n(y.chords),!0):!1},deleteProgression:m=>{l(y=>y.filter(T=>T.id!==m))},savedProgressions:a,generateProgression:(m="basic")=>{const y={basic:[0,3,4,0],pop:[0,4,5,3],fifties:[0,5,3,4],jazz:[1,4,0,5],blues:[0,0,0,0,3,3,0,0,4,3,0,0]},T=y[m]||y.basic;if(i.length===0)return;const x=T.map(S=>S<i.length?i[S]:i[0]);return n(x),x}};return u.jsx(b0.Provider,{value:f,children:t})},Om="15.0.4",Ld=(t,e,n)=>({endTime:e,insertTime:n,type:"exponentialRampToValue",value:t}),Vd=(t,e,n)=>({endTime:e,insertTime:n,type:"linearRampToValue",value:t}),Mc=(t,e)=>({startTime:e,type:"setValue",value:t}),Mm=(t,e,n)=>({duration:n,startTime:e,type:"setValueCurve",values:t}),Pm=(t,e,{startTime:n,target:s,timeConstant:r})=>s+(e-s)*Math.exp((n-t)/r),er=t=>t.type==="exponentialRampToValue",ia=t=>t.type==="linearRampToValue",Pn=t=>er(t)||ia(t),Fu=t=>t.type==="setValue",dn=t=>t.type==="setValueCurve",oa=(t,e,n,s)=>{const r=t[e];return r===void 0?s:Pn(r)||Fu(r)?r.value:dn(r)?r.values[r.values.length-1]:Pm(n,oa(t,e-1,r.startTime,s),r)},zd=(t,e,n,s,r)=>n===void 0?[s.insertTime,r]:Pn(n)?[n.endTime,n.value]:Fu(n)?[n.startTime,n.value]:dn(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,oa(t,e-1,n.startTime,r)],Pc=t=>t.type==="cancelAndHold",Rc=t=>t.type==="cancelScheduledValues",In=t=>Pc(t)||Rc(t)?t.cancelTime:er(t)||ia(t)?t.endTime:t.startTime,Wd=(t,e,n,{endTime:s,value:r})=>n===r?r:0<n&&0<r||n<0&&r<0?n*(r/n)**((t-e)/(s-e)):0,Bd=(t,e,n,{endTime:s,value:r})=>n+(t-e)/(s-e)*(r-n),F0=(t,e)=>{const n=Math.floor(e),s=Math.ceil(e);return n===s?t[n]:(1-(e-n))*t[n]+(1-(s-e))*t[s]},L0=(t,{duration:e,startTime:n,values:s})=>{const r=(t-n)/e*(s.length-1);return F0(s,r)},co=t=>t.type==="setTarget";class V0{constructor(e){this._automationEvents=[],this._currenTime=0,this._defaultValue=e}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(e){const n=In(e);if(Pc(e)||Rc(e)){const s=this._automationEvents.findIndex(i=>Rc(e)&&dn(i)?i.startTime+i.duration>=n:In(i)>=n),r=this._automationEvents[s];if(s!==-1&&(this._automationEvents=this._automationEvents.slice(0,s)),Pc(e)){const i=this._automationEvents[this._automationEvents.length-1];if(r!==void 0&&Pn(r)){if(i!==void 0&&co(i))throw new Error("The internal list is malformed.");const o=i===void 0?r.insertTime:dn(i)?i.startTime+i.duration:In(i),a=i===void 0?this._defaultValue:dn(i)?i.values[i.values.length-1]:i.value,l=er(r)?Wd(n,o,a,r):Bd(n,o,a,r),c=er(r)?Ld(l,n,this._currenTime):Vd(l,n,this._currenTime);this._automationEvents.push(c)}if(i!==void 0&&co(i)&&this._automationEvents.push(Mc(this.getValue(n),n)),i!==void 0&&dn(i)&&i.startTime+i.duration>n){const o=n-i.startTime,a=(i.values.length-1)/i.duration,l=Math.max(2,1+Math.ceil(o*a)),c=o/(l-1)*a,h=i.values.slice(0,l);if(c<1)for(let d=1;d<l;d+=1){const p=c*d%1;h[d]=i.values[d-1]*(1-p)+i.values[d]*p}this._automationEvents[this._automationEvents.length-1]=Mm(h,i.startTime,o)}}}else{const s=this._automationEvents.findIndex(o=>In(o)>n),r=s===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[s-1];if(r!==void 0&&dn(r)&&In(r)+r.duration>n)return!1;const i=er(e)?Ld(e.value,e.endTime,this._currenTime):ia(e)?Vd(e.value,n,this._currenTime):e;if(s===-1)this._automationEvents.push(i);else{if(dn(e)&&n+e.duration>In(this._automationEvents[s]))return!1;this._automationEvents.splice(s,0,i)}}return!0}flush(e){const n=this._automationEvents.findIndex(s=>In(s)>e);if(n>1){const s=this._automationEvents.slice(n-1),r=s[0];co(r)&&s.unshift(Mc(oa(this._automationEvents,n-2,r.startTime,this._defaultValue),r.startTime)),this._automationEvents=s}}getValue(e){if(this._automationEvents.length===0)return this._defaultValue;const n=this._automationEvents.findIndex(o=>In(o)>e),s=this._automationEvents[n],r=(n===-1?this._automationEvents.length:n)-1,i=this._automationEvents[r];if(i!==void 0&&co(i)&&(s===void 0||!Pn(s)||s.insertTime>e))return Pm(e,oa(this._automationEvents,r-1,i.startTime,this._defaultValue),i);if(i!==void 0&&Fu(i)&&(s===void 0||!Pn(s)))return i.value;if(i!==void 0&&dn(i)&&(s===void 0||!Pn(s)||i.startTime+i.duration>e))return e<i.startTime+i.duration?L0(e,i):i.values[i.values.length-1];if(i!==void 0&&Pn(i)&&(s===void 0||!Pn(s)))return i.value;if(s!==void 0&&er(s)){const[o,a]=zd(this._automationEvents,r,i,s,this._defaultValue);return Wd(e,o,a,s)}if(s!==void 0&&ia(s)){const[o,a]=zd(this._automationEvents,r,i,s,this._defaultValue);return Bd(e,o,a,s)}return this._defaultValue}}const z0=t=>({cancelTime:t,type:"cancelAndHold"}),W0=t=>({cancelTime:t,type:"cancelScheduledValues"}),B0=(t,e)=>({endTime:e,type:"exponentialRampToValue",value:t}),U0=(t,e)=>({endTime:e,type:"linearRampToValue",value:t}),$0=(t,e,n)=>({startTime:e,target:t,timeConstant:n,type:"setTarget"}),q0=()=>new DOMException("","AbortError"),H0=t=>(e,n,[s,r,i],o)=>{t(e[r],[n,s,i],a=>a[0]===n&&a[1]===s,o)},G0=t=>(e,n,s)=>{const r=[];for(let i=0;i<s.numberOfInputs;i+=1)r.push(new Set);t.set(e,{activeInputs:r,outputs:new Set,passiveInputs:new WeakMap,renderer:n})},Q0=t=>(e,n)=>{t.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:n})},yr=new WeakSet,Rm=new WeakMap,Lu=new WeakMap,bm=new WeakMap,Vu=new WeakMap,Da=new WeakMap,Dm=new WeakMap,bc=new WeakMap,Dc=new WeakMap,Fc=new WeakMap,Fm={construct(){return Fm}},Y0=t=>{try{const e=new Proxy(t,Fm);new e}catch{return!1}return!0},Ud=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,$d=(t,e)=>{const n=[];let s=t.replace(/^[\s]+/,""),r=s.match(Ud);for(;r!==null;){const i=r[1].slice(1,-1),o=r[0].replace(/([\s]+)?;?$/,"").replace(i,new URL(i,e).toString());n.push(o),s=s.slice(r[0].length).replace(/^[\s]+/,""),r=s.match(Ud)}return[n.join(";"),s]},qd=t=>{if(t!==void 0&&!Array.isArray(t))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},Hd=t=>{if(!Y0(t))throw new TypeError("The given value for processorCtor should be a constructor.");if(t.prototype===null||typeof t.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},X0=(t,e,n,s,r,i,o,a,l,c,h,d,p)=>{let v=0;return(g,_,w={credentials:"omit"})=>{const f=h.get(g);if(f!==void 0&&f.has(_))return Promise.resolve();const m=c.get(g);if(m!==void 0){const x=m.get(_);if(x!==void 0)return x}const y=i(g),T=y.audioWorklet===void 0?r(_).then(([x,S])=>{const[C,k]=$d(x,S),E=`${C};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${k}
})})(window,'_AWGS')`;return n(E)}).then(()=>{const x=p._AWGS.pop();if(x===void 0)throw new SyntaxError;s(y.currentTime,y.sampleRate,()=>x(class{},void 0,(S,C)=>{if(S.trim()==="")throw e();const k=Dc.get(y);if(k!==void 0){if(k.has(S))throw e();Hd(C),qd(C.parameterDescriptors),k.set(S,C)}else Hd(C),qd(C.parameterDescriptors),Dc.set(y,new Map([[S,C]]))},y.sampleRate,void 0,void 0))}):Promise.all([r(_),Promise.resolve(t(d,d))]).then(([[x,S],C])=>{const k=v+1;v=k;const[E,A]=$d(x,S),P=`${E};((AudioWorkletProcessor,registerProcessor)=>{${A}
})(${C?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${C?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${C?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${k}',class extends AudioWorkletProcessor{process(){return !1}})`,D=new Blob([P],{type:"application/javascript; charset=utf-8"}),L=URL.createObjectURL(D);return y.audioWorklet.addModule(L,w).then(()=>{if(a(y))return y;const V=o(y);return V.audioWorklet.addModule(L,w).then(()=>V)}).then(V=>{if(l===null)throw new SyntaxError;try{new l(V,`__sac${k}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(L))});return m===void 0?c.set(g,new Map([[_,T]])):m.set(_,T),T.then(()=>{const x=h.get(g);x===void 0?h.set(g,new Set([_])):x.add(_)}).finally(()=>{const x=c.get(g);x!==void 0&&x.delete(_)}),T}},qt=(t,e)=>{const n=t.get(e);if(n===void 0)throw new Error("A value with the given key could not be found.");return n},Fa=(t,e)=>{const n=Array.from(t).filter(e);if(n.length>1)throw Error("More than one element was found.");if(n.length===0)throw Error("No element was found.");const[s]=n;return t.delete(s),s},Lm=(t,e,n,s)=>{const r=qt(t,e),i=Fa(r,o=>o[0]===n&&o[1]===s);return r.size===0&&t.delete(e),i},Oi=t=>qt(Dm,t),_r=t=>{if(yr.has(t))throw new Error("The AudioNode is already stored.");yr.add(t),Oi(t).forEach(e=>e(!0))},Vm=t=>"port"in t,Mi=t=>{if(!yr.has(t))throw new Error("The AudioNode is not stored.");yr.delete(t),Oi(t).forEach(e=>e(!1))},Lc=(t,e)=>{!Vm(t)&&e.every(n=>n.size===0)&&Mi(t)},K0=(t,e,n,s,r,i,o,a,l,c,h,d,p)=>{const v=new WeakMap;return(g,_,w,f,m)=>{const{activeInputs:y,passiveInputs:T}=i(_),{outputs:x}=i(g),S=a(g),C=k=>{const E=l(_),A=l(g);if(k){const N=Lm(T,g,w,f);t(y,g,N,!1),!m&&!d(g)&&n(A,E,w,f),p(_)&&_r(_)}else{const N=s(y,g,w,f);e(T,f,N,!1),!m&&!d(g)&&r(A,E,w,f);const I=o(_);if(I===0)h(_)&&Lc(_,y);else{const O=v.get(_);O!==void 0&&clearTimeout(O),v.set(_,setTimeout(()=>{h(_)&&Lc(_,y)},I*1e3))}}};return c(x,[_,w,f],k=>k[0]===_&&k[1]===w&&k[2]===f,!0)?(S.add(C),h(g)?t(y,g,[w,f,C],!0):e(T,f,[g,w,C],!0),!0):!1}},Z0=t=>(e,n,[s,r,i],o)=>{const a=e.get(s);a===void 0?e.set(s,new Set([[r,n,i]])):t(a,[r,n,i],l=>l[0]===r&&l[1]===n,o)},J0=t=>(e,n)=>{const s=t(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(s).connect(e.destination);const r=()=>{n.removeEventListener("ended",r),n.disconnect(s),s.disconnect()};n.addEventListener("ended",r)},ex=t=>(e,n)=>{t(e).add(n)},tx={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},nx=(t,e,n,s,r,i)=>class extends t{constructor(a,l){const c=r(a),h={...tx,...l},d=s(c,h),p=i(c)?e():null;super(a,!1,d,p),this._nativeAnalyserNode=d}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(a){this._nativeAnalyserNode.fftSize=a}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(a){const l=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=a,!(a>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=l,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(a){const l=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=a,!(this._nativeAnalyserNode.maxDecibels>a))throw this._nativeAnalyserNode.minDecibels=l,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(a){this._nativeAnalyserNode.smoothingTimeConstant=a}getByteFrequencyData(a){this._nativeAnalyserNode.getByteFrequencyData(a)}getByteTimeDomainData(a){this._nativeAnalyserNode.getByteTimeDomainData(a)}getFloatFrequencyData(a){this._nativeAnalyserNode.getFloatFrequencyData(a)}getFloatTimeDomainData(a){this._nativeAnalyserNode.getFloatTimeDomainData(a)}},et=(t,e)=>t.context===e,sx=(t,e,n)=>()=>{const s=new WeakMap,r=async(i,o)=>{let a=e(i);if(!et(a,o)){const c={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,fftSize:a.fftSize,maxDecibels:a.maxDecibels,minDecibels:a.minDecibels,smoothingTimeConstant:a.smoothingTimeConstant};a=t(o,c)}return s.set(o,a),await n(i,o,a),a};return{render(i,o){const a=s.get(o);return a!==void 0?Promise.resolve(a):r(i,o)}}},aa=t=>{try{t.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},ln=()=>new DOMException("","IndexSizeError"),zu=t=>{t.getChannelData=(e=>n=>{try{return e.call(t,n)}catch(s){throw s.code===12?ln():s}})(t.getChannelData)},rx={numberOfChannels:1},ix=(t,e,n,s,r,i,o,a)=>{let l=null;return class zm{constructor(h){if(r===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:d,numberOfChannels:p,sampleRate:v}={...rx,...h};l===null&&(l=new r(1,1,44100));const g=s!==null&&e(i,i)?new s({length:d,numberOfChannels:p,sampleRate:v}):l.createBuffer(p,d,v);if(g.numberOfChannels===0)throw n();return typeof g.copyFromChannel!="function"?(o(g),zu(g)):e(aa,()=>aa(g))||a(g),t.add(g),g}static[Symbol.hasInstance](h){return h!==null&&typeof h=="object"&&Object.getPrototypeOf(h)===zm.prototype||t.has(h)}}},vt=-34028234663852886e22,nt=34028234663852886e22,vn=t=>yr.has(t),ox={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},ax=(t,e,n,s,r,i,o,a)=>class extends t{constructor(c,h){const d=i(c),p={...ox,...h},v=r(d,p),g=o(d),_=g?e():null;super(c,!1,v,_),this._audioBufferSourceNodeRenderer=_,this._isBufferNullified=!1,this._isBufferSet=p.buffer!==null,this._nativeAudioBufferSourceNode=v,this._onended=null,this._playbackRate=n(this,g,v.playbackRate,nt,vt)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(c){if(this._nativeAudioBufferSourceNode.buffer=c,c!==null){if(this._isBufferSet)throw s();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(c){this._nativeAudioBufferSourceNode.loop=c}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(c){this._nativeAudioBufferSourceNode.loopEnd=c}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(c){this._nativeAudioBufferSourceNode.loopStart=c}get onended(){return this._onended}set onended(c){const h=typeof c=="function"?a(this,c):null;this._nativeAudioBufferSourceNode.onended=h;const d=this._nativeAudioBufferSourceNode.onended;this._onended=d!==null&&d===h?c:d}get playbackRate(){return this._playbackRate}start(c=0,h=0,d){if(this._nativeAudioBufferSourceNode.start(c,h,d),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=d===void 0?[c,h]:[c,h,d]),this.context.state!=="closed"){_r(this);const p=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",p),vn(this)&&Mi(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",p)}}stop(c=0){this._nativeAudioBufferSourceNode.stop(c),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=c)}},lx=(t,e,n,s,r)=>()=>{const i=new WeakMap;let o=null,a=null;const l=async(c,h)=>{let d=n(c);const p=et(d,h);if(!p){const v={buffer:d.buffer,channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,loop:d.loop,loopEnd:d.loopEnd,loopStart:d.loopStart,playbackRate:d.playbackRate.value};d=e(h,v),o!==null&&d.start(...o),a!==null&&d.stop(a)}return i.set(h,d),p?await t(h,c.playbackRate,d.playbackRate):await s(h,c.playbackRate,d.playbackRate),await r(c,h,d),d};return{set start(c){o=c},set stop(c){a=c},render(c,h){const d=i.get(h);return d!==void 0?Promise.resolve(d):l(c,h)}}},cx=t=>"playbackRate"in t,ux=t=>"frequency"in t&&"gain"in t,hx=t=>"offset"in t,dx=t=>!("frequency"in t)&&"gain"in t,fx=t=>"detune"in t&&"frequency"in t&&!("gain"in t),px=t=>"pan"in t,rt=t=>qt(Rm,t),Pi=t=>qt(bm,t),Vc=(t,e)=>{const{activeInputs:n}=rt(t);n.forEach(r=>r.forEach(([i])=>{e.includes(t)||Vc(i,[...e,t])}));const s=cx(t)?[t.playbackRate]:Vm(t)?Array.from(t.parameters.values()):ux(t)?[t.Q,t.detune,t.frequency,t.gain]:hx(t)?[t.offset]:dx(t)?[t.gain]:fx(t)?[t.detune,t.frequency]:px(t)?[t.pan]:[];for(const r of s){const i=Pi(r);i!==void 0&&i.activeInputs.forEach(([o])=>Vc(o,e))}vn(t)&&Mi(t)},Wm=t=>{Vc(t.destination,[])},mx=t=>t===void 0||typeof t=="number"||typeof t=="string"&&(t==="balanced"||t==="interactive"||t==="playback"),gx=(t,e,n,s,r,i,o,a,l)=>class extends t{constructor(h={}){if(l===null)throw new Error("Missing the native AudioContext constructor.");let d;try{d=new l(h)}catch(g){throw g.code===12&&g.message==="sampleRate is not in range"?n():g}if(d===null)throw s();if(!mx(h.latencyHint))throw new TypeError(`The provided value '${h.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(h.sampleRate!==void 0&&d.sampleRate!==h.sampleRate)throw n();super(d,2);const{latencyHint:p}=h,{sampleRate:v}=d;if(this._baseLatency=typeof d.baseLatency=="number"?d.baseLatency:p==="balanced"?512/v:p==="interactive"||p===void 0?256/v:p==="playback"?1024/v:Math.max(2,Math.min(128,Math.round(p*v/128)))*128/v,this._nativeAudioContext=d,l.name==="webkitAudioContext"?(this._nativeGainNode=d.createGain(),this._nativeOscillatorNode=d.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(d.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,d.state==="running"){this._state="suspended";const g=()=>{this._state==="suspended"&&(this._state=null),d.removeEventListener("statechange",g)};d.addEventListener("statechange",g)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw e()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),Wm(this)}))}createMediaElementSource(h){return new r(this,{mediaElement:h})}createMediaStreamDestination(){return new i(this)}createMediaStreamSource(h){return new o(this,{mediaStream:h})}createMediaStreamTrackSource(h){return new a(this,{mediaStreamTrack:h})}resume(){return this._state==="suspended"?new Promise((h,d)=>{const p=()=>{this._nativeAudioContext.removeEventListener("statechange",p),this._nativeAudioContext.state==="running"?h():this.resume().then(h,d)};this._nativeAudioContext.addEventListener("statechange",p)}):this._nativeAudioContext.resume().catch(h=>{throw h===void 0||h.code===15?e():h})}suspend(){return this._nativeAudioContext.suspend().catch(h=>{throw h===void 0?e():h})}},vx=(t,e,n,s,r,i,o,a)=>class extends t{constructor(c,h){const d=i(c),p=o(d),v=r(d,h,p),g=p?e(a):null;super(c,!1,v,g),this._isNodeOfNativeOfflineAudioContext=p,this._nativeAudioDestinationNode=v}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(c){if(this._isNodeOfNativeOfflineAudioContext)throw s();if(c>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=c}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(c){if(this._isNodeOfNativeOfflineAudioContext)throw s();this._nativeAudioDestinationNode.channelCountMode=c}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},yx=t=>{const e=new WeakMap,n=async(s,r)=>{const i=r.destination;return e.set(r,i),await t(s,r,i),i};return{render(s,r){const i=e.get(r);return i!==void 0?Promise.resolve(i):n(s,r)}}},_x=(t,e,n,s,r,i,o,a)=>(l,c)=>{const h=c.listener,d=()=>{const x=new Float32Array(1),S=e(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),C=o(c);let k=!1,E=[0,0,-1,0,1,0],A=[0,0,0];const N=()=>{if(k)return;k=!0;const D=s(c,256,9,0);D.onaudioprocess=({inputBuffer:L})=>{const V=[i(L,x,0),i(L,x,1),i(L,x,2),i(L,x,3),i(L,x,4),i(L,x,5)];V.some((R,F)=>R!==E[F])&&(h.setOrientation(...V),E=V);const M=[i(L,x,6),i(L,x,7),i(L,x,8)];M.some((R,F)=>R!==A[F])&&(h.setPosition(...M),A=M)},S.connect(D)},I=D=>L=>{L!==E[D]&&(E[D]=L,h.setOrientation(...E))},O=D=>L=>{L!==A[D]&&(A[D]=L,h.setPosition(...A))},P=(D,L,V)=>{const M=n(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:L});M.connect(S,0,D),M.start(),Object.defineProperty(M.offset,"defaultValue",{get(){return L}});const R=t({context:l},C,M.offset,nt,vt);return a(R,"value",F=>()=>F.call(R),F=>W=>{try{F.call(R,W)}catch($){if($.code!==9)throw $}N(),C&&V(W)}),R.cancelAndHoldAtTime=(F=>C?()=>{throw r()}:(...W)=>{const $=F.apply(R,W);return N(),$})(R.cancelAndHoldAtTime),R.cancelScheduledValues=(F=>C?()=>{throw r()}:(...W)=>{const $=F.apply(R,W);return N(),$})(R.cancelScheduledValues),R.exponentialRampToValueAtTime=(F=>C?()=>{throw r()}:(...W)=>{const $=F.apply(R,W);return N(),$})(R.exponentialRampToValueAtTime),R.linearRampToValueAtTime=(F=>C?()=>{throw r()}:(...W)=>{const $=F.apply(R,W);return N(),$})(R.linearRampToValueAtTime),R.setTargetAtTime=(F=>C?()=>{throw r()}:(...W)=>{const $=F.apply(R,W);return N(),$})(R.setTargetAtTime),R.setValueAtTime=(F=>C?()=>{throw r()}:(...W)=>{const $=F.apply(R,W);return N(),$})(R.setValueAtTime),R.setValueCurveAtTime=(F=>C?()=>{throw r()}:(...W)=>{const $=F.apply(R,W);return N(),$})(R.setValueCurveAtTime),R};return{forwardX:P(0,0,I(0)),forwardY:P(1,0,I(1)),forwardZ:P(2,-1,I(2)),positionX:P(6,0,O(0)),positionY:P(7,0,O(1)),positionZ:P(8,0,O(2)),upX:P(3,0,I(3)),upY:P(4,1,I(4)),upZ:P(5,0,I(5))}},{forwardX:p,forwardY:v,forwardZ:g,positionX:_,positionY:w,positionZ:f,upX:m,upY:y,upZ:T}=h.forwardX===void 0?d():h;return{get forwardX(){return p},get forwardY(){return v},get forwardZ(){return g},get positionX(){return _},get positionY(){return w},get positionZ(){return f},get upX(){return m},get upY(){return y},get upZ(){return T}}},la=t=>"context"in t,Ri=t=>la(t[0]),bs=(t,e,n,s)=>{for(const r of t)if(n(r)){if(s)return!1;throw Error("The set contains at least one similar element.")}return t.add(e),!0},Gd=(t,e,[n,s],r)=>{bs(t,[e,n,s],i=>i[0]===e&&i[1]===n,r)},Qd=(t,[e,n,s],r)=>{const i=t.get(e);i===void 0?t.set(e,new Set([[n,s]])):bs(i,[n,s],o=>o[0]===n,r)},Er=t=>"inputs"in t,ca=(t,e,n,s)=>{if(Er(e)){const r=e.inputs[s];return t.connect(r,n,0),[r,n,0]}return t.connect(e,n,s),[e,n,s]},Bm=(t,e,n)=>{for(const s of t)if(s[0]===e&&s[1]===n)return t.delete(s),s;return null},xx=(t,e,n)=>Fa(t,s=>s[0]===e&&s[1]===n),Um=(t,e)=>{if(!Oi(t).delete(e))throw new Error("Missing the expected event listener.")},$m=(t,e,n)=>{const s=qt(t,e),r=Fa(s,i=>i[0]===n);return s.size===0&&t.delete(e),r},ua=(t,e,n,s)=>{Er(e)?t.disconnect(e.inputs[s],n,0):t.disconnect(e,n,s)},ce=t=>qt(Lu,t),wi=t=>qt(Vu,t),As=t=>bc.has(t),No=t=>!yr.has(t),Yd=(t,e)=>new Promise(n=>{if(e!==null)n(!0);else{const s=t.createScriptProcessor(256,1,1),r=t.createGain(),i=t.createBuffer(1,2,44100),o=i.getChannelData(0);o[0]=1,o[1]=1;const a=t.createBufferSource();a.buffer=i,a.loop=!0,a.connect(s).connect(t.destination),a.connect(r),a.disconnect(r),s.onaudioprocess=l=>{const c=l.inputBuffer.getChannelData(0);Array.prototype.some.call(c,h=>h===1)?n(!0):n(!1),a.stop(),s.onaudioprocess=null,a.disconnect(s),s.disconnect(t.destination)},a.start()}}),Ol=(t,e)=>{const n=new Map;for(const s of t)for(const r of s){const i=n.get(r);n.set(r,i===void 0?1:i+1)}n.forEach((s,r)=>e(r,s))},ha=t=>"context"in t,wx=t=>{const e=new Map;t.connect=(n=>(s,r=0,i=0)=>{const o=ha(s)?n(s,r,i):n(s,r),a=e.get(s);return a===void 0?e.set(s,[{input:i,output:r}]):a.every(l=>l.input!==i||l.output!==r)&&a.push({input:i,output:r}),o})(t.connect.bind(t)),t.disconnect=(n=>(s,r,i)=>{if(n.apply(t),s===void 0)e.clear();else if(typeof s=="number")for(const[o,a]of e){const l=a.filter(c=>c.output!==s);l.length===0?e.delete(o):e.set(o,l)}else if(e.has(s))if(r===void 0)e.delete(s);else{const o=e.get(s);if(o!==void 0){const a=o.filter(l=>l.output!==r&&(l.input!==i||i===void 0));a.length===0?e.delete(s):e.set(s,a)}}for(const[o,a]of e)a.forEach(l=>{ha(o)?t.connect(o,l.output,l.input):t.connect(o,l.output)})})(t.disconnect)},Sx=(t,e,n,s)=>{const{activeInputs:r,passiveInputs:i}=Pi(e),{outputs:o}=rt(t),a=Oi(t),l=c=>{const h=ce(t),d=wi(e);if(c){const p=$m(i,t,n);Gd(r,t,p,!1),!s&&!As(t)&&h.connect(d,n)}else{const p=xx(r,t,n);Qd(i,p,!1),!s&&!As(t)&&h.disconnect(d,n)}};return bs(o,[e,n],c=>c[0]===e&&c[1]===n,!0)?(a.add(l),vn(t)?Gd(r,t,[n,l],!0):Qd(i,[t,n,l],!0),!0):!1},kx=(t,e,n,s)=>{const{activeInputs:r,passiveInputs:i}=rt(e),o=Bm(r[s],t,n);return o===null?[Lm(i,t,n,s)[2],!1]:[o[2],!0]},Tx=(t,e,n)=>{const{activeInputs:s,passiveInputs:r}=Pi(e),i=Bm(s,t,n);return i===null?[$m(r,t,n)[1],!1]:[i[2],!0]},Wu=(t,e,n,s,r)=>{const[i,o]=kx(t,n,s,r);if(i!==null&&(Um(t,i),o&&!e&&!As(t)&&ua(ce(t),ce(n),s,r)),vn(n)){const{activeInputs:a}=rt(n);Lc(n,a)}},Bu=(t,e,n,s)=>{const[r,i]=Tx(t,n,s);r!==null&&(Um(t,r),i&&!e&&!As(t)&&ce(t).disconnect(wi(n),s))},Cx=(t,e)=>{const n=rt(t),s=[];for(const r of n.outputs)Ri(r)?Wu(t,e,...r):Bu(t,e,...r),s.push(r[0]);return n.outputs.clear(),s},Nx=(t,e,n)=>{const s=rt(t),r=[];for(const i of s.outputs)i[1]===n&&(Ri(i)?Wu(t,e,...i):Bu(t,e,...i),r.push(i[0]),s.outputs.delete(i));return r},Ex=(t,e,n,s,r)=>{const i=rt(t);return Array.from(i.outputs).filter(o=>o[0]===n&&(s===void 0||o[1]===s)&&(r===void 0||o[2]===r)).map(o=>(Ri(o)?Wu(t,e,...o):Bu(t,e,...o),i.outputs.delete(o),o[0]))},Ax=(t,e,n,s,r,i,o,a,l,c,h,d,p,v,g,_)=>class extends c{constructor(f,m,y,T){super(y),this._context=f,this._nativeAudioNode=y;const x=h(f);d(x)&&n(Yd,()=>Yd(x,_))!==!0&&wx(y),Lu.set(this,y),Dm.set(this,new Set),f.state!=="closed"&&m&&_r(this),t(this,T,y)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(f){this._nativeAudioNode.channelCount=f}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(f){this._nativeAudioNode.channelCountMode=f}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(f){this._nativeAudioNode.channelInterpretation=f}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(f,m=0,y=0){if(m<0||m>=this._nativeAudioNode.numberOfOutputs)throw r();const T=h(this._context),x=g(T);if(p(f)||v(f))throw i();if(la(f)){const k=ce(f);try{const A=ca(this._nativeAudioNode,k,m,y),N=No(this);(x||N)&&this._nativeAudioNode.disconnect(...A),this.context.state!=="closed"&&!N&&No(f)&&_r(f)}catch(A){throw A.code===12?i():A}if(e(this,f,m,y,x)){const A=l([this],f);Ol(A,s(x))}return f}const S=wi(f);if(S.name==="playbackRate"&&S.maxValue===1024)throw o();try{this._nativeAudioNode.connect(S,m),(x||No(this))&&this._nativeAudioNode.disconnect(S,m)}catch(k){throw k.code===12?i():k}if(Sx(this,f,m,x)){const k=l([this],f);Ol(k,s(x))}}disconnect(f,m,y){let T;const x=h(this._context),S=g(x);if(f===void 0)T=Cx(this,S);else if(typeof f=="number"){if(f<0||f>=this.numberOfOutputs)throw r();T=Nx(this,S,f)}else{if(m!==void 0&&(m<0||m>=this.numberOfOutputs)||la(f)&&y!==void 0&&(y<0||y>=f.numberOfInputs))throw r();if(T=Ex(this,S,f,m,y),T.length===0)throw i()}for(const C of T){const k=l([this],C);Ol(k,a)}}},jx=(t,e,n,s,r,i,o,a,l,c,h,d,p)=>(v,g,_,w=null,f=null)=>{const m=_.value,y=new V0(m),T=g?s(y):null,x={get defaultValue(){return m},get maxValue(){return w===null?_.maxValue:w},get minValue(){return f===null?_.minValue:f},get value(){return _.value},set value(S){_.value=S,x.setValueAtTime(S,v.context.currentTime)},cancelAndHoldAtTime(S){if(typeof _.cancelAndHoldAtTime=="function")T===null&&y.flush(v.context.currentTime),y.add(r(S)),_.cancelAndHoldAtTime(S);else{const C=Array.from(y).pop();T===null&&y.flush(v.context.currentTime),y.add(r(S));const k=Array.from(y).pop();_.cancelScheduledValues(S),C!==k&&k!==void 0&&(k.type==="exponentialRampToValue"?_.exponentialRampToValueAtTime(k.value,k.endTime):k.type==="linearRampToValue"?_.linearRampToValueAtTime(k.value,k.endTime):k.type==="setValue"?_.setValueAtTime(k.value,k.startTime):k.type==="setValueCurve"&&_.setValueCurveAtTime(k.values,k.startTime,k.duration))}return x},cancelScheduledValues(S){return T===null&&y.flush(v.context.currentTime),y.add(i(S)),_.cancelScheduledValues(S),x},exponentialRampToValueAtTime(S,C){if(S===0)throw new RangeError;if(!Number.isFinite(C)||C<0)throw new RangeError;const k=v.context.currentTime;return T===null&&y.flush(k),Array.from(y).length===0&&(y.add(c(m,k)),_.setValueAtTime(m,k)),y.add(o(S,C)),_.exponentialRampToValueAtTime(S,C),x},linearRampToValueAtTime(S,C){const k=v.context.currentTime;return T===null&&y.flush(k),Array.from(y).length===0&&(y.add(c(m,k)),_.setValueAtTime(m,k)),y.add(a(S,C)),_.linearRampToValueAtTime(S,C),x},setTargetAtTime(S,C,k){return T===null&&y.flush(v.context.currentTime),y.add(l(S,C,k)),_.setTargetAtTime(S,C,k),x},setValueAtTime(S,C){return T===null&&y.flush(v.context.currentTime),y.add(c(S,C)),_.setValueAtTime(S,C),x},setValueCurveAtTime(S,C,k){const E=S instanceof Float32Array?S:new Float32Array(S);if(d!==null&&d.name==="webkitAudioContext"){const A=C+k,N=v.context.sampleRate,I=Math.ceil(C*N),O=Math.floor(A*N),P=O-I,D=new Float32Array(P);for(let V=0;V<P;V+=1){const M=(E.length-1)/k*((I+V)/N-C),R=Math.floor(M),F=Math.ceil(M);D[V]=R===F?E[R]:(1-(M-R))*E[R]+(1-(F-M))*E[F]}T===null&&y.flush(v.context.currentTime),y.add(h(D,C,k)),_.setValueCurveAtTime(D,C,k);const L=O/N;L<A&&p(x,D[D.length-1],L),p(x,E[E.length-1],A)}else T===null&&y.flush(v.context.currentTime),y.add(h(E,C,k)),_.setValueCurveAtTime(E,C,k);return x}};return n.set(x,_),e.set(x,v),t(x,T),x},Ix=t=>({replay(e){for(const n of t)if(n.type==="exponentialRampToValue"){const{endTime:s,value:r}=n;e.exponentialRampToValueAtTime(r,s)}else if(n.type==="linearRampToValue"){const{endTime:s,value:r}=n;e.linearRampToValueAtTime(r,s)}else if(n.type==="setTarget"){const{startTime:s,target:r,timeConstant:i}=n;e.setTargetAtTime(r,s,i)}else if(n.type==="setValue"){const{startTime:s,value:r}=n;e.setValueAtTime(r,s)}else if(n.type==="setValueCurve"){const{duration:s,startTime:r,values:i}=n;e.setValueCurveAtTime(i,r,s)}else throw new Error("Can't apply an unknown automation.")}});class qm{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,n=null){return this._map.forEach((s,r)=>e.call(n,s,r,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const Ox={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},Mx=(t,e,n,s,r,i,o,a,l,c,h,d,p,v)=>class extends e{constructor(_,w,f){var m;const y=a(_),T=l(y),x=h({...Ox,...f});p(x);const S=Dc.get(y),C=S==null?void 0:S.get(w),k=T||y.state!=="closed"?y:(m=o(y))!==null&&m!==void 0?m:y,E=r(k,T?null:_.baseLatency,c,w,C,x),A=T?s(w,x,C):null;super(_,!0,E,A);const N=[];E.parameters.forEach((O,P)=>{const D=n(this,T,O);N.push([P,D])}),this._nativeAudioWorkletNode=E,this._onprocessorerror=null,this._parameters=new qm(N),T&&t(y,this);const{activeInputs:I}=i(this);d(E,I)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(_){const w=typeof _=="function"?v(this,_):null;this._nativeAudioWorkletNode.onprocessorerror=w;const f=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=f!==null&&f===w?_:f}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function da(t,e,n,s,r){if(typeof t.copyFromChannel=="function")e[n].byteLength===0&&(e[n]=new Float32Array(128)),t.copyFromChannel(e[n],s,r);else{const i=t.getChannelData(s);if(e[n].byteLength===0)e[n]=i.slice(r,r+128);else{const o=new Float32Array(i.buffer,r*Float32Array.BYTES_PER_ELEMENT,128);e[n].set(o)}}}const Hm=(t,e,n,s,r)=>{typeof t.copyToChannel=="function"?e[n].byteLength!==0&&t.copyToChannel(e[n],s,r):e[n].byteLength!==0&&t.getChannelData(s).set(e[n],r)},fa=(t,e)=>{const n=[];for(let s=0;s<t;s+=1){const r=[],i=typeof e=="number"?e:e[s];for(let o=0;o<i;o+=1)r.push(new Float32Array(128));n.push(r)}return n},Px=(t,e)=>{const n=qt(Fc,t),s=ce(e);return qt(n,s)},Rx=async(t,e,n,s,r,i,o)=>{const a=e===null?Math.ceil(t.context.length/128)*128:e.length,l=s.channelCount*s.numberOfInputs,c=r.reduce((w,f)=>w+f,0),h=c===0?null:n.createBuffer(c,a,n.sampleRate);if(i===void 0)throw new Error("Missing the processor constructor.");const d=rt(t),p=await Px(n,t),v=fa(s.numberOfInputs,s.channelCount),g=fa(s.numberOfOutputs,r),_=Array.from(t.parameters.keys()).reduce((w,f)=>({...w,[f]:new Float32Array(128)}),{});for(let w=0;w<a;w+=128){if(s.numberOfInputs>0&&e!==null)for(let f=0;f<s.numberOfInputs;f+=1)for(let m=0;m<s.channelCount;m+=1)da(e,v[f],m,m,w);i.parameterDescriptors!==void 0&&e!==null&&i.parameterDescriptors.forEach(({name:f},m)=>{da(e,_,f,l+m,w)});for(let f=0;f<s.numberOfInputs;f+=1)for(let m=0;m<r[f];m+=1)g[f][m].byteLength===0&&(g[f][m]=new Float32Array(128));try{const f=v.map((y,T)=>d.activeInputs[T].size===0?[]:y),m=o(w/n.sampleRate,n.sampleRate,()=>p.process(f,g,_));if(h!==null)for(let y=0,T=0;y<s.numberOfOutputs;y+=1){for(let x=0;x<r[y];x+=1)Hm(h,g[y],x,T+x,w);T+=r[y]}if(!m)break}catch(f){t.dispatchEvent(new ErrorEvent("processorerror",{colno:f.colno,filename:f.filename,lineno:f.lineno,message:f.message}));break}}return h},bx=(t,e,n,s,r,i,o,a,l,c,h,d,p,v,g,_)=>(w,f,m)=>{const y=new WeakMap;let T=null;const x=async(S,C)=>{let k=h(S),E=null;const A=et(k,C),N=Array.isArray(f.outputChannelCount)?f.outputChannelCount:Array.from(f.outputChannelCount);if(d===null){const I=N.reduce((L,V)=>L+V,0),O=r(C,{channelCount:Math.max(1,I),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,I)}),P=[];for(let L=0;L<S.numberOfOutputs;L+=1)P.push(s(C,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:N[L]}));const D=o(C,{channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,gain:1});D.connect=e.bind(null,P),D.disconnect=l.bind(null,P),E=[O,P,D]}else A||(k=new d(C,w));if(y.set(C,E===null?k:E[2]),E!==null){if(T===null){if(m===void 0)throw new Error("Missing the processor constructor.");if(p===null)throw new Error("Missing the native OfflineAudioContext constructor.");const V=S.channelCount*S.numberOfInputs,M=m.parameterDescriptors===void 0?0:m.parameterDescriptors.length,R=V+M;T=Rx(S,R===0?null:await(async()=>{const W=new p(R,Math.ceil(S.context.length/128)*128,C.sampleRate),$=[],Fe=[];for(let J=0;J<f.numberOfInputs;J+=1)$.push(o(W,{channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,gain:1})),Fe.push(r(W,{channelCount:f.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:f.channelCount}));const ke=await Promise.all(Array.from(S.parameters.values()).map(async J=>{const Ne=i(W,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:J.value});return await v(W,J,Ne.offset),Ne})),Q=s(W,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,V+M)});for(let J=0;J<f.numberOfInputs;J+=1){$[J].connect(Fe[J]);for(let Ne=0;Ne<f.channelCount;Ne+=1)Fe[J].connect(Q,Ne,J*f.channelCount+Ne)}for(const[J,Ne]of ke.entries())Ne.connect(Q,0,V+J),Ne.start(0);return Q.connect(W.destination),await Promise.all($.map(J=>g(S,W,J))),_(W)})(),C,f,N,m,c)}const I=await T,O=n(C,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[P,D,L]=E;I!==null&&(O.buffer=I,O.start(0)),O.connect(P);for(let V=0,M=0;V<S.numberOfOutputs;V+=1){const R=D[V];for(let F=0;F<N[V];F+=1)P.connect(R,M+F,F);M+=N[V]}return L}if(A)for(const[I,O]of S.parameters.entries())await t(C,O,k.parameters.get(I));else for(const[I,O]of S.parameters.entries())await v(C,O,k.parameters.get(I));return await g(S,C,k),k};return{render(S,C){a(C,S);const k=y.get(C);return k!==void 0?Promise.resolve(k):x(S,C)}}},Dx=(t,e,n,s,r,i,o,a,l,c,h,d,p,v,g,_,w,f,m,y)=>class extends g{constructor(x,S){super(x,S),this._nativeContext=x,this._audioWorklet=t===void 0?void 0:{addModule:(C,k)=>t(this,C,k)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new r(this)}createBuffer(x,S,C){return new n({length:S,numberOfChannels:x,sampleRate:C})}createBufferSource(){return new s(this)}createChannelMerger(x=6){return new i(this,{numberOfInputs:x})}createChannelSplitter(x=6){return new o(this,{numberOfOutputs:x})}createConstantSource(){return new a(this)}createConvolver(){return new l(this)}createDelay(x=1){return new h(this,{maxDelayTime:x})}createDynamicsCompressor(){return new d(this)}createGain(){return new p(this)}createIIRFilter(x,S){return new v(this,{feedback:S,feedforward:x})}createOscillator(){return new _(this)}createPanner(){return new w(this)}createPeriodicWave(x,S,C={disableNormalization:!1}){return new f(this,{...C,imag:S,real:x})}createStereoPanner(){return new m(this)}createWaveShaper(){return new y(this)}decodeAudioData(x,S,C){return c(this._nativeContext,x).then(k=>(typeof S=="function"&&S(k),k),k=>{throw typeof C=="function"&&C(k),k})}},Fx={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},Lx=(t,e,n,s,r,i,o,a)=>class extends t{constructor(c,h){const d=i(c),p={...Fx,...h},v=r(d,p),g=o(d),_=g?n():null;super(c,!1,v,_),this._Q=e(this,g,v.Q,nt,vt),this._detune=e(this,g,v.detune,1200*Math.log2(nt),-1200*Math.log2(nt)),this._frequency=e(this,g,v.frequency,c.sampleRate/2,0),this._gain=e(this,g,v.gain,40*Math.log10(nt),vt),this._nativeBiquadFilterNode=v,a(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(c){this._nativeBiquadFilterNode.type=c}getFrequencyResponse(c,h,d){try{this._nativeBiquadFilterNode.getFrequencyResponse(c,h,d)}catch(p){throw p.code===11?s():p}if(c.length!==h.length||h.length!==d.length)throw s()}},Vx=(t,e,n,s,r)=>()=>{const i=new WeakMap,o=async(a,l)=>{let c=n(a);const h=et(c,l);if(!h){const d={Q:c.Q.value,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,detune:c.detune.value,frequency:c.frequency.value,gain:c.gain.value,type:c.type};c=e(l,d)}return i.set(l,c),h?(await t(l,a.Q,c.Q),await t(l,a.detune,c.detune),await t(l,a.frequency,c.frequency),await t(l,a.gain,c.gain)):(await s(l,a.Q,c.Q),await s(l,a.detune,c.detune),await s(l,a.frequency,c.frequency),await s(l,a.gain,c.gain)),await r(a,l,c),c};return{render(a,l){const c=i.get(l);return c!==void 0?Promise.resolve(c):o(a,l)}}},zx=(t,e)=>(n,s)=>{const r=e.get(n);if(r!==void 0)return r;const i=t.get(n);if(i!==void 0)return i;try{const o=s();return o instanceof Promise?(t.set(n,o),o.catch(()=>!1).then(a=>(t.delete(n),e.set(n,a),a))):(e.set(n,o),o)}catch{return e.set(n,!1),!1}},Wx={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},Bx=(t,e,n,s,r)=>class extends t{constructor(o,a){const l=s(o),c={...Wx,...a},h=n(l,c),d=r(l)?e():null;super(o,!1,h,d)}},Ux=(t,e,n)=>()=>{const s=new WeakMap,r=async(i,o)=>{let a=e(i);if(!et(a,o)){const c={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfInputs:a.numberOfInputs};a=t(o,c)}return s.set(o,a),await n(i,o,a),a};return{render(i,o){const a=s.get(o);return a!==void 0?Promise.resolve(a):r(i,o)}}},$x={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},qx=(t,e,n,s,r,i)=>class extends t{constructor(a,l){const c=s(a),h=i({...$x,...l}),d=n(c,h),p=r(c)?e():null;super(a,!1,d,p)}},Hx=(t,e,n)=>()=>{const s=new WeakMap,r=async(i,o)=>{let a=e(i);if(!et(a,o)){const c={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfOutputs:a.numberOfOutputs};a=t(o,c)}return s.set(o,a),await n(i,o,a),a};return{render(i,o){const a=s.get(o);return a!==void 0?Promise.resolve(a):r(i,o)}}},Gx=t=>(e,n,s)=>t(n,e,s),Qx=t=>(e,n,s=0,r=0)=>{const i=e[s];if(i===void 0)throw t();return ha(n)?i.connect(n,0,r):i.connect(n,0)},Yx=t=>(e,n)=>{const s=t(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),r=e.createBuffer(1,2,44100);return s.buffer=r,s.loop=!0,s.connect(n),s.start(),()=>{s.stop(),s.disconnect(n)}},Xx={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},Kx=(t,e,n,s,r,i,o)=>class extends t{constructor(l,c){const h=r(l),d={...Xx,...c},p=s(h,d),v=i(h),g=v?n():null;super(l,!1,p,g),this._constantSourceNodeRenderer=g,this._nativeConstantSourceNode=p,this._offset=e(this,v,p.offset,nt,vt),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(l){const c=typeof l=="function"?o(this,l):null;this._nativeConstantSourceNode.onended=c;const h=this._nativeConstantSourceNode.onended;this._onended=h!==null&&h===c?l:h}start(l=0){if(this._nativeConstantSourceNode.start(l),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=l),this.context.state!=="closed"){_r(this);const c=()=>{this._nativeConstantSourceNode.removeEventListener("ended",c),vn(this)&&Mi(this)};this._nativeConstantSourceNode.addEventListener("ended",c)}}stop(l=0){this._nativeConstantSourceNode.stop(l),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=l)}},Zx=(t,e,n,s,r)=>()=>{const i=new WeakMap;let o=null,a=null;const l=async(c,h)=>{let d=n(c);const p=et(d,h);if(!p){const v={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,offset:d.offset.value};d=e(h,v),o!==null&&d.start(o),a!==null&&d.stop(a)}return i.set(h,d),p?await t(h,c.offset,d.offset):await s(h,c.offset,d.offset),await r(c,h,d),d};return{set start(c){o=c},set stop(c){a=c},render(c,h){const d=i.get(h);return d!==void 0?Promise.resolve(d):l(c,h)}}},Jx=t=>e=>(t[0]=e,t[0]),ew={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},tw=(t,e,n,s,r,i)=>class extends t{constructor(a,l){const c=s(a),h={...ew,...l},d=n(c,h),v=r(c)?e():null;super(a,!1,d,v),this._isBufferNullified=!1,this._nativeConvolverNode=d,h.buffer!==null&&i(this,h.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(a){if(this._nativeConvolverNode.buffer=a,a===null&&this._nativeConvolverNode.buffer!==null){const l=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=l.createBuffer(1,1,l.sampleRate),this._isBufferNullified=!0,i(this,0)}else this._isBufferNullified=!1,i(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(a){this._nativeConvolverNode.normalize=a}},nw=(t,e,n)=>()=>{const s=new WeakMap,r=async(i,o)=>{let a=e(i);if(!et(a,o)){const c={buffer:a.buffer,channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,disableNormalization:!a.normalize};a=t(o,c)}return s.set(o,a),Er(a)?await n(i,o,a.inputs[0]):await n(i,o,a),a};return{render(i,o){const a=s.get(o);return a!==void 0?Promise.resolve(a):r(i,o)}}},sw=(t,e)=>(n,s,r)=>{if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(n,s,r)}catch(i){throw i.name==="SyntaxError"?t():i}},rw=()=>new DOMException("","DataCloneError"),Xd=t=>{const{port1:e,port2:n}=new MessageChannel;return new Promise(s=>{const r=()=>{n.onmessage=null,e.close(),n.close(),s()};n.onmessage=()=>r();try{e.postMessage(t,[t])}catch{}finally{r()}})},iw=(t,e,n,s,r,i,o,a,l,c,h)=>(d,p)=>{const v=o(d)?d:i(d);if(r.has(p)){const g=n();return Promise.reject(g)}try{r.add(p)}catch{}return e(l,()=>l(v))?v.decodeAudioData(p).then(g=>(Xd(p).catch(()=>{}),e(a,()=>a(g))||h(g),t.add(g),g)):new Promise((g,_)=>{const w=async()=>{try{await Xd(p)}catch{}},f=m=>{_(m),w()};try{v.decodeAudioData(p,m=>{typeof m.copyFromChannel!="function"&&(c(m),zu(m)),t.add(m),w().then(()=>g(m))},m=>{f(m===null?s():m)})}catch(m){f(m)}})},ow=(t,e,n,s,r,i,o,a)=>(l,c)=>{const h=e.get(l);if(h===void 0)throw new Error("Missing the expected cycle count.");const d=i(l.context),p=a(d);if(h===c){if(e.delete(l),!p&&o(l)){const v=s(l),{outputs:g}=n(l);for(const _ of g)if(Ri(_)){const w=s(_[0]);t(v,w,_[1],_[2])}else{const w=r(_[0]);v.connect(w,_[1])}}}else e.set(l,h-c)},aw={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},lw=(t,e,n,s,r,i,o)=>class extends t{constructor(l,c){const h=r(l),d={...aw,...c},p=s(h,d),v=i(h),g=v?n(d.maxDelayTime):null;super(l,!1,p,g),this._delayTime=e(this,v,p.delayTime),o(this,d.maxDelayTime)}get delayTime(){return this._delayTime}},cw=(t,e,n,s,r)=>i=>{const o=new WeakMap,a=async(l,c)=>{let h=n(l);const d=et(h,c);if(!d){const p={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,delayTime:h.delayTime.value,maxDelayTime:i};h=e(c,p)}return o.set(c,h),d?await t(c,l.delayTime,h.delayTime):await s(c,l.delayTime,h.delayTime),await r(l,c,h),h};return{render(l,c){const h=o.get(c);return h!==void 0?Promise.resolve(h):a(l,c)}}},uw=t=>(e,n,s,r)=>t(e[r],i=>i[0]===n&&i[1]===s),hw=t=>(e,n)=>{t(e).delete(n)},dw=t=>"delayTime"in t,fw=(t,e,n)=>function s(r,i){const o=la(i)?i:n(t,i);if(dw(o))return[];if(r[0]===o)return[r];if(r.includes(o))return[];const{outputs:a}=e(o);return Array.from(a).map(l=>s([...r,o],l[0])).reduce((l,c)=>l.concat(c),[])},uo=(t,e,n)=>{const s=e[n];if(s===void 0)throw t();return s},pw=t=>(e,n=void 0,s=void 0,r=0)=>n===void 0?e.forEach(i=>i.disconnect()):typeof n=="number"?uo(t,e,n).disconnect():ha(n)?s===void 0?e.forEach(i=>i.disconnect(n)):r===void 0?uo(t,e,s).disconnect(n,0):uo(t,e,s).disconnect(n,0,r):s===void 0?e.forEach(i=>i.disconnect(n)):uo(t,e,s).disconnect(n,0),mw={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},gw=(t,e,n,s,r,i,o,a)=>class extends t{constructor(c,h){const d=i(c),p={...mw,...h},v=s(d,p),g=o(d),_=g?n():null;super(c,!1,v,_),this._attack=e(this,g,v.attack),this._knee=e(this,g,v.knee),this._nativeDynamicsCompressorNode=v,this._ratio=e(this,g,v.ratio),this._release=e(this,g,v.release),this._threshold=e(this,g,v.threshold),a(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(c){const h=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=c,c>2)throw this._nativeDynamicsCompressorNode.channelCount=h,r()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(c){const h=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=c,c==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=h,r()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},vw=(t,e,n,s,r)=>()=>{const i=new WeakMap,o=async(a,l)=>{let c=n(a);const h=et(c,l);if(!h){const d={attack:c.attack.value,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,knee:c.knee.value,ratio:c.ratio.value,release:c.release.value,threshold:c.threshold.value};c=e(l,d)}return i.set(l,c),h?(await t(l,a.attack,c.attack),await t(l,a.knee,c.knee),await t(l,a.ratio,c.ratio),await t(l,a.release,c.release),await t(l,a.threshold,c.threshold)):(await s(l,a.attack,c.attack),await s(l,a.knee,c.knee),await s(l,a.ratio,c.ratio),await s(l,a.release,c.release),await s(l,a.threshold,c.threshold)),await r(a,l,c),c};return{render(a,l){const c=i.get(l);return c!==void 0?Promise.resolve(c):o(a,l)}}},yw=()=>new DOMException("","EncodingError"),_w=t=>e=>new Promise((n,s)=>{if(t===null){s(new SyntaxError);return}const r=t.document.head;if(r===null)s(new SyntaxError);else{const i=t.document.createElement("script"),o=new Blob([e],{type:"application/javascript"}),a=URL.createObjectURL(o),l=t.onerror,c=()=>{t.onerror=l,URL.revokeObjectURL(a)};t.onerror=(h,d,p,v,g)=>{if(d===a||d===t.location.href&&p===1&&v===1)return c(),s(g),!1;if(l!==null)return l(h,d,p,v,g)},i.onerror=()=>{c(),s(new SyntaxError)},i.onload=()=>{c(),n()},i.src=a,i.type="module",r.appendChild(i)}}),xw=t=>class{constructor(n){this._nativeEventTarget=n,this._listeners=new WeakMap}addEventListener(n,s,r){if(s!==null){let i=this._listeners.get(s);i===void 0&&(i=t(this,s),typeof s=="function"&&this._listeners.set(s,i)),this._nativeEventTarget.addEventListener(n,i,r)}}dispatchEvent(n){return this._nativeEventTarget.dispatchEvent(n)}removeEventListener(n,s,r){const i=s===null?void 0:this._listeners.get(s);this._nativeEventTarget.removeEventListener(n,i===void 0?null:i,r)}},ww=t=>(e,n,s)=>{Object.defineProperties(t,{currentFrame:{configurable:!0,get(){return Math.round(e*n)}},currentTime:{configurable:!0,get(){return e}}});try{return s()}finally{t!==null&&(delete t.currentFrame,delete t.currentTime)}},Sw=t=>async e=>{try{const n=await fetch(e);if(n.ok)return[await n.text(),n.url]}catch{}throw t()},kw={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},Tw=(t,e,n,s,r,i)=>class extends t{constructor(a,l){const c=r(a),h={...kw,...l},d=s(c,h),p=i(c),v=p?n():null;super(a,!1,d,v),this._gain=e(this,p,d.gain,nt,vt)}get gain(){return this._gain}},Cw=(t,e,n,s,r)=>()=>{const i=new WeakMap,o=async(a,l)=>{let c=n(a);const h=et(c,l);if(!h){const d={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,gain:c.gain.value};c=e(l,d)}return i.set(l,c),h?await t(l,a.gain,c.gain):await s(l,a.gain,c.gain),await r(a,l,c),c};return{render(a,l){const c=i.get(l);return c!==void 0?Promise.resolve(c):o(a,l)}}},Nw=(t,e)=>n=>e(t,n),Ew=t=>e=>{const n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer},Aw=t=>e=>{var n;return(n=t.get(e))!==null&&n!==void 0?n:0},jw=t=>e=>{const n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer},Iw=t=>e=>t.get(e),We=()=>new DOMException("","InvalidStateError"),Ow=t=>e=>{const n=t.get(e);if(n===void 0)throw We();return n},Mw=(t,e)=>n=>{let s=t.get(n);if(s!==void 0)return s;if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");return s=new e(1,1,44100),t.set(n,s),s},Pw=t=>e=>{const n=t.get(e);if(n===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return n},La=()=>new DOMException("","InvalidAccessError"),Rw=t=>{t.getFrequencyResponse=(e=>(n,s,r)=>{if(n.length!==s.length||s.length!==r.length)throw La();return e.call(t,n,s,r)})(t.getFrequencyResponse)},bw={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},Dw=(t,e,n,s,r,i)=>class extends t{constructor(a,l){const c=s(a),h=r(c),d={...bw,...l},p=e(c,h?null:a.baseLatency,d),v=h?n(d.feedback,d.feedforward):null;super(a,!1,p,v),Rw(p),this._nativeIIRFilterNode=p,i(this,1)}getFrequencyResponse(a,l,c){return this._nativeIIRFilterNode.getFrequencyResponse(a,l,c)}},Gm=(t,e,n,s,r,i,o,a,l,c,h)=>{const d=c.length;let p=a;for(let v=0;v<d;v+=1){let g=n[0]*c[v];for(let _=1;_<r;_+=1){const w=p-_&l-1;g+=n[_]*i[w],g-=t[_]*o[w]}for(let _=r;_<s;_+=1)g+=n[_]*i[p-_&l-1];for(let _=r;_<e;_+=1)g-=t[_]*o[p-_&l-1];i[p]=c[v],o[p]=g,p=p+1&l-1,h[v]=g}return p},Fw=(t,e,n,s)=>{const r=n instanceof Float64Array?n:new Float64Array(n),i=s instanceof Float64Array?s:new Float64Array(s),o=r.length,a=i.length,l=Math.min(o,a);if(r[0]!==1){for(let g=0;g<o;g+=1)i[g]/=r[0];for(let g=1;g<a;g+=1)r[g]/=r[0]}const c=32,h=new Float32Array(c),d=new Float32Array(c),p=e.createBuffer(t.numberOfChannels,t.length,t.sampleRate),v=t.numberOfChannels;for(let g=0;g<v;g+=1){const _=t.getChannelData(g),w=p.getChannelData(g);h.fill(0),d.fill(0),Gm(r,o,i,a,l,h,d,0,c,_,w)}return p},Lw=(t,e,n,s,r)=>(i,o)=>{const a=new WeakMap;let l=null;const c=async(h,d)=>{let p=null,v=e(h);const g=et(v,d);if(d.createIIRFilter===void 0?p=t(d,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):g||(v=d.createIIRFilter(o,i)),a.set(d,p===null?v:p),p!==null){if(l===null){if(n===null)throw new Error("Missing the native OfflineAudioContext constructor.");const w=new n(h.context.destination.channelCount,h.context.length,d.sampleRate);l=(async()=>{await s(h,w,w.destination);const f=await r(w);return Fw(f,d,i,o)})()}const _=await l;return p.buffer=_,p.start(0),p}return await s(h,d,v),v};return{render(h,d){const p=a.get(d);return p!==void 0?Promise.resolve(p):c(h,d)}}},Vw=(t,e,n,s,r,i)=>o=>(a,l)=>{const c=t.get(a);if(c===void 0){if(!o&&i(a)){const h=s(a),{outputs:d}=n(a);for(const p of d)if(Ri(p)){const v=s(p[0]);e(h,v,p[1],p[2])}else{const v=r(p[0]);h.disconnect(v,p[1])}}t.set(a,l)}else t.set(a,c+l)},zw=(t,e)=>n=>{const s=t.get(n);return e(s)||e(n)},Ww=(t,e)=>n=>t.has(n)||e(n),Bw=(t,e)=>n=>t.has(n)||e(n),Uw=(t,e)=>n=>{const s=t.get(n);return e(s)||e(n)},$w=t=>e=>t!==null&&e instanceof t,qw=t=>e=>t!==null&&typeof t.AudioNode=="function"&&e instanceof t.AudioNode,Hw=t=>e=>t!==null&&typeof t.AudioParam=="function"&&e instanceof t.AudioParam,Gw=(t,e)=>n=>t(n)||e(n),Qw=t=>e=>t!==null&&e instanceof t,Yw=t=>t!==null&&t.isSecureContext,Xw=(t,e,n,s)=>class extends t{constructor(i,o){const a=n(i),l=e(a,o);if(s(a))throw TypeError();super(i,!0,l,null),this._nativeMediaElementAudioSourceNode=l}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},Kw={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},Zw=(t,e,n,s)=>class extends t{constructor(i,o){const a=n(i);if(s(a))throw new TypeError;const l={...Kw,...o},c=e(a,l);super(i,!1,c,null),this._nativeMediaStreamAudioDestinationNode=c}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},Jw=(t,e,n,s)=>class extends t{constructor(i,o){const a=n(i),l=e(a,o);if(s(a))throw new TypeError;super(i,!0,l,null),this._nativeMediaStreamAudioSourceNode=l}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},e1=(t,e,n)=>class extends t{constructor(r,i){const o=n(r),a=e(o,i);super(r,!0,a,null)}},t1=(t,e,n,s,r,i)=>class extends n{constructor(a,l){super(a),this._nativeContext=a,Da.set(this,a),s(a)&&r.set(a,new Set),this._destination=new t(this,l),this._listener=e(this,a),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(a){const l=typeof a=="function"?i(this,a):null;this._nativeContext.onstatechange=l;const c=this._nativeContext.onstatechange;this._onstatechange=c!==null&&c===l?a:c}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},Si=t=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=t.decodeAudioData(e.buffer,()=>{});return n===void 0?!1:(n.catch(()=>{}),!0)}catch{}return!1},n1=(t,e)=>(n,s,r)=>{const i=new Set;return n.connect=(o=>(a,l=0,c=0)=>{const h=i.size===0;if(e(a))return o.call(n,a,l,c),t(i,[a,l,c],d=>d[0]===a&&d[1]===l&&d[2]===c,!0),h&&s(),a;o.call(n,a,l),t(i,[a,l],d=>d[0]===a&&d[1]===l,!0),h&&s()})(n.connect),n.disconnect=(o=>(a,l,c)=>{const h=i.size>0;if(a===void 0)o.apply(n),i.clear();else if(typeof a=="number"){o.call(n,a);for(const p of i)p[1]===a&&i.delete(p)}else{e(a)?o.call(n,a,l,c):o.call(n,a,l);for(const p of i)p[0]===a&&(l===void 0||p[1]===l)&&(c===void 0||p[2]===c)&&i.delete(p)}const d=i.size===0;h&&d&&r()})(n.disconnect),n},ue=(t,e,n)=>{const s=e[n];s!==void 0&&s!==t[n]&&(t[n]=s)},De=(t,e)=>{ue(t,e,"channelCount"),ue(t,e,"channelCountMode"),ue(t,e,"channelInterpretation")},Kd=t=>typeof t.getFloatTimeDomainData=="function",s1=t=>{t.getFloatTimeDomainData=e=>{const n=new Uint8Array(e.length);t.getByteTimeDomainData(n);const s=Math.max(n.length,t.fftSize);for(let r=0;r<s;r+=1)e[r]=(n[r]-128)*.0078125;return e}},r1=(t,e)=>(n,s)=>{const r=n.createAnalyser();if(De(r,s),!(s.maxDecibels>s.minDecibels))throw e();return ue(r,s,"fftSize"),ue(r,s,"maxDecibels"),ue(r,s,"minDecibels"),ue(r,s,"smoothingTimeConstant"),t(Kd,()=>Kd(r))||s1(r),r},i1=t=>t===null?null:t.hasOwnProperty("AudioBuffer")?t.AudioBuffer:null,we=(t,e,n)=>{const s=e[n];s!==void 0&&s!==t[n].value&&(t[n].value=s)},o1=t=>{t.start=(e=>{let n=!1;return(s=0,r=0,i)=>{if(n)throw We();e.call(t,s,r,i),n=!0}})(t.start)},Uu=t=>{t.start=(e=>(n=0,s=0,r)=>{if(typeof r=="number"&&r<0||s<0||n<0)throw new RangeError("The parameters can't be negative.");e.call(t,n,s,r)})(t.start)},$u=t=>{t.stop=(e=>(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");e.call(t,n)})(t.stop)},a1=(t,e,n,s,r,i,o,a,l,c,h)=>(d,p)=>{const v=d.createBufferSource();return De(v,p),we(v,p,"playbackRate"),ue(v,p,"buffer"),ue(v,p,"loop"),ue(v,p,"loopEnd"),ue(v,p,"loopStart"),e(n,()=>n(d))||o1(v),e(s,()=>s(d))||l(v),e(r,()=>r(d))||c(v,d),e(i,()=>i(d))||Uu(v),e(o,()=>o(d))||h(v,d),e(a,()=>a(d))||$u(v),t(d,v),v},l1=t=>t===null?null:t.hasOwnProperty("AudioContext")?t.AudioContext:t.hasOwnProperty("webkitAudioContext")?t.webkitAudioContext:null,c1=(t,e)=>(n,s,r)=>{const i=n.destination;if(i.channelCount!==s)try{i.channelCount=s}catch{}r&&i.channelCountMode!=="explicit"&&(i.channelCountMode="explicit"),i.maxChannelCount===0&&Object.defineProperty(i,"maxChannelCount",{value:s});const o=t(n,{channelCount:s,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,gain:1});return e(o,"channelCount",a=>()=>a.call(o),a=>l=>{a.call(o,l);try{i.channelCount=l}catch(c){if(l>i.maxChannelCount)throw c}}),e(o,"channelCountMode",a=>()=>a.call(o),a=>l=>{a.call(o,l),i.channelCountMode=l}),e(o,"channelInterpretation",a=>()=>a.call(o),a=>l=>{a.call(o,l),i.channelInterpretation=l}),Object.defineProperty(o,"maxChannelCount",{get:()=>i.maxChannelCount}),o.connect(i),o},u1=t=>t===null?null:t.hasOwnProperty("AudioWorkletNode")?t.AudioWorkletNode:null,h1=t=>{const{port1:e}=new MessageChannel;try{e.postMessage(t)}finally{e.close()}},d1=(t,e,n,s,r)=>(i,o,a,l,c,h)=>{if(a!==null)try{const d=new a(i,l,h),p=new Map;let v=null;if(Object.defineProperties(d,{channelCount:{get:()=>h.channelCount,set:()=>{throw t()}},channelCountMode:{get:()=>"explicit",set:()=>{throw t()}},onprocessorerror:{get:()=>v,set:g=>{typeof v=="function"&&d.removeEventListener("processorerror",v),v=typeof g=="function"?g:null,typeof v=="function"&&d.addEventListener("processorerror",v)}}}),d.addEventListener=(g=>(..._)=>{if(_[0]==="processorerror"){const w=typeof _[1]=="function"?_[1]:typeof _[1]=="object"&&_[1]!==null&&typeof _[1].handleEvent=="function"?_[1].handleEvent:null;if(w!==null){const f=p.get(_[1]);f!==void 0?_[1]=f:(_[1]=m=>{m.type==="error"?(Object.defineProperties(m,{type:{value:"processorerror"}}),w(m)):w(new ErrorEvent(_[0],{...m}))},p.set(w,_[1]))}}return g.call(d,"error",_[1],_[2]),g.call(d,..._)})(d.addEventListener),d.removeEventListener=(g=>(..._)=>{if(_[0]==="processorerror"){const w=p.get(_[1]);w!==void 0&&(p.delete(_[1]),_[1]=w)}return g.call(d,"error",_[1],_[2]),g.call(d,_[0],_[1],_[2])})(d.removeEventListener),h.numberOfOutputs!==0){const g=n(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return d.connect(g).connect(i.destination),r(d,()=>g.disconnect(),()=>g.connect(i.destination))}return d}catch(d){throw d.code===11?s():d}if(c===void 0)throw s();return h1(h),e(i,o,c,h)},Qm=(t,e)=>t===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(t*e))))),f1=t=>new Promise((e,n)=>{const{port1:s,port2:r}=new MessageChannel;s.onmessage=({data:i})=>{s.close(),r.close(),e(i)},s.onmessageerror=({data:i})=>{s.close(),r.close(),n(i)},r.postMessage(t)}),p1=async(t,e)=>{const n=await f1(e);return new t(n)},m1=(t,e,n,s)=>{let r=Fc.get(t);r===void 0&&(r=new WeakMap,Fc.set(t,r));const i=p1(n,s);return r.set(e,i),i},g1=(t,e,n,s,r,i,o,a,l,c,h,d,p)=>(v,g,_,w)=>{if(w.numberOfInputs===0&&w.numberOfOutputs===0)throw l();const f=Array.isArray(w.outputChannelCount)?w.outputChannelCount:Array.from(w.outputChannelCount);if(f.some(z=>z<1))throw l();if(f.length!==w.numberOfOutputs)throw e();if(w.channelCountMode!=="explicit")throw l();const m=w.channelCount*w.numberOfInputs,y=f.reduce((z,q)=>z+q,0),T=_.parameterDescriptors===void 0?0:_.parameterDescriptors.length;if(m+T>6||y>6)throw l();const x=new MessageChannel,S=[],C=[];for(let z=0;z<w.numberOfInputs;z+=1)S.push(o(v,{channelCount:w.channelCount,channelCountMode:w.channelCountMode,channelInterpretation:w.channelInterpretation,gain:1})),C.push(r(v,{channelCount:w.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:w.channelCount}));const k=[];if(_.parameterDescriptors!==void 0)for(const{defaultValue:z,maxValue:q,minValue:Me,name:de}of _.parameterDescriptors){const ee=i(v,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:w.parameterData[de]!==void 0?w.parameterData[de]:z===void 0?0:z});Object.defineProperties(ee.offset,{defaultValue:{get:()=>z===void 0?0:z},maxValue:{get:()=>q===void 0?nt:q},minValue:{get:()=>Me===void 0?vt:Me}}),k.push(ee)}const E=s(v,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,m+T)}),A=Qm(g,v.sampleRate),N=a(v,A,m+T,Math.max(1,y)),I=r(v,{channelCount:Math.max(1,y),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,y)}),O=[];for(let z=0;z<w.numberOfOutputs;z+=1)O.push(s(v,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:f[z]}));for(let z=0;z<w.numberOfInputs;z+=1){S[z].connect(C[z]);for(let q=0;q<w.channelCount;q+=1)C[z].connect(E,q,z*w.channelCount+q)}const P=new qm(_.parameterDescriptors===void 0?[]:_.parameterDescriptors.map(({name:z},q)=>{const Me=k[q];return Me.connect(E,0,m+q),Me.start(0),[z,Me.offset]}));E.connect(N);let D=w.channelInterpretation,L=null;const V=w.numberOfOutputs===0?[N]:O,M={get bufferSize(){return A},get channelCount(){return w.channelCount},set channelCount(z){throw n()},get channelCountMode(){return w.channelCountMode},set channelCountMode(z){throw n()},get channelInterpretation(){return D},set channelInterpretation(z){for(const q of S)q.channelInterpretation=z;D=z},get context(){return N.context},get inputs(){return S},get numberOfInputs(){return w.numberOfInputs},get numberOfOutputs(){return w.numberOfOutputs},get onprocessorerror(){return L},set onprocessorerror(z){typeof L=="function"&&M.removeEventListener("processorerror",L),L=typeof z=="function"?z:null,typeof L=="function"&&M.addEventListener("processorerror",L)},get parameters(){return P},get port(){return x.port2},addEventListener(...z){return N.addEventListener(z[0],z[1],z[2])},connect:t.bind(null,V),disconnect:c.bind(null,V),dispatchEvent(...z){return N.dispatchEvent(z[0])},removeEventListener(...z){return N.removeEventListener(z[0],z[1],z[2])}},R=new Map;x.port1.addEventListener=(z=>(...q)=>{if(q[0]==="message"){const Me=typeof q[1]=="function"?q[1]:typeof q[1]=="object"&&q[1]!==null&&typeof q[1].handleEvent=="function"?q[1].handleEvent:null;if(Me!==null){const de=R.get(q[1]);de!==void 0?q[1]=de:(q[1]=ee=>{h(v.currentTime,v.sampleRate,()=>Me(ee))},R.set(Me,q[1]))}}return z.call(x.port1,q[0],q[1],q[2])})(x.port1.addEventListener),x.port1.removeEventListener=(z=>(...q)=>{if(q[0]==="message"){const Me=R.get(q[1]);Me!==void 0&&(R.delete(q[1]),q[1]=Me)}return z.call(x.port1,q[0],q[1],q[2])})(x.port1.removeEventListener);let F=null;Object.defineProperty(x.port1,"onmessage",{get:()=>F,set:z=>{typeof F=="function"&&x.port1.removeEventListener("message",F),F=typeof z=="function"?z:null,typeof F=="function"&&(x.port1.addEventListener("message",F),x.port1.start())}}),_.prototype.port=x.port1;let W=null;m1(v,M,_,w).then(z=>W=z);const Fe=fa(w.numberOfInputs,w.channelCount),ke=fa(w.numberOfOutputs,f),Q=_.parameterDescriptors===void 0?[]:_.parameterDescriptors.reduce((z,{name:q})=>({...z,[q]:new Float32Array(128)}),{});let J=!0;const Ne=()=>{w.numberOfOutputs>0&&N.disconnect(I);for(let z=0,q=0;z<w.numberOfOutputs;z+=1){const Me=O[z];for(let de=0;de<f[z];de+=1)I.disconnect(Me,q+de,de);q+=f[z]}},U=new Map;N.onaudioprocess=({inputBuffer:z,outputBuffer:q})=>{if(W!==null){const Me=d(M);for(let de=0;de<A;de+=128){for(let ee=0;ee<w.numberOfInputs;ee+=1)for(let ye=0;ye<w.channelCount;ye+=1)da(z,Fe[ee],ye,ye,de);_.parameterDescriptors!==void 0&&_.parameterDescriptors.forEach(({name:ee},ye)=>{da(z,Q,ee,m+ye,de)});for(let ee=0;ee<w.numberOfInputs;ee+=1)for(let ye=0;ye<f[ee];ye+=1)ke[ee][ye].byteLength===0&&(ke[ee][ye]=new Float32Array(128));try{const ee=Fe.map((Nt,An)=>{if(Me[An].size>0)return U.set(An,A/128),Nt;const sl=U.get(An);return sl===void 0?[]:(Nt.every(Gg=>Gg.every(Qg=>Qg===0))&&(sl===1?U.delete(An):U.set(An,sl-1)),Nt)});J=h(v.currentTime+de/v.sampleRate,v.sampleRate,()=>W.process(ee,ke,Q));for(let Nt=0,An=0;Nt<w.numberOfOutputs;Nt+=1){for(let Rr=0;Rr<f[Nt];Rr+=1)Hm(q,ke[Nt],Rr,An+Rr,de);An+=f[Nt]}}catch(ee){J=!1,M.dispatchEvent(new ErrorEvent("processorerror",{colno:ee.colno,filename:ee.filename,lineno:ee.lineno,message:ee.message}))}if(!J){for(let ee=0;ee<w.numberOfInputs;ee+=1){S[ee].disconnect(C[ee]);for(let ye=0;ye<w.channelCount;ye+=1)C[de].disconnect(E,ye,ee*w.channelCount+ye)}if(_.parameterDescriptors!==void 0){const ee=_.parameterDescriptors.length;for(let ye=0;ye<ee;ye+=1){const Nt=k[ye];Nt.disconnect(E,0,m+ye),Nt.stop()}}E.disconnect(N),N.onaudioprocess=null,cs?Ne():Vs();break}}}};let cs=!1;const us=o(v,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),Ls=()=>N.connect(us).connect(v.destination),Vs=()=>{N.disconnect(us),us.disconnect()},qg=()=>{if(J){Vs(),w.numberOfOutputs>0&&N.connect(I);for(let z=0,q=0;z<w.numberOfOutputs;z+=1){const Me=O[z];for(let de=0;de<f[z];de+=1)I.connect(Me,q+de,de);q+=f[z]}}cs=!0},Hg=()=>{J&&(Ls(),Ne()),cs=!1};return Ls(),p(M,qg,Hg)},Ym=(t,e)=>{const n=t.createBiquadFilter();return De(n,e),we(n,e,"Q"),we(n,e,"detune"),we(n,e,"frequency"),we(n,e,"gain"),ue(n,e,"type"),n},v1=(t,e)=>(n,s)=>{const r=n.createChannelMerger(s.numberOfInputs);return t!==null&&t.name==="webkitAudioContext"&&e(n,r),De(r,s),r},y1=t=>{const e=t.numberOfOutputs;Object.defineProperty(t,"channelCount",{get:()=>e,set:n=>{if(n!==e)throw We()}}),Object.defineProperty(t,"channelCountMode",{get:()=>"explicit",set:n=>{if(n!=="explicit")throw We()}}),Object.defineProperty(t,"channelInterpretation",{get:()=>"discrete",set:n=>{if(n!=="discrete")throw We()}})},bi=(t,e)=>{const n=t.createChannelSplitter(e.numberOfOutputs);return De(n,e),y1(n),n},_1=(t,e,n,s,r)=>(i,o)=>{if(i.createConstantSource===void 0)return n(i,o);const a=i.createConstantSource();return De(a,o),we(a,o,"offset"),e(s,()=>s(i))||Uu(a),e(r,()=>r(i))||$u(a),t(i,a),a},Ar=(t,e)=>(t.connect=e.connect.bind(e),t.disconnect=e.disconnect.bind(e),t),x1=(t,e,n,s)=>(r,{offset:i,...o})=>{const a=r.createBuffer(1,2,44100),l=e(r,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),c=n(r,{...o,gain:i}),h=a.getChannelData(0);h[0]=1,h[1]=1,l.buffer=a,l.loop=!0;const d={get bufferSize(){},get channelCount(){return c.channelCount},set channelCount(g){c.channelCount=g},get channelCountMode(){return c.channelCountMode},set channelCountMode(g){c.channelCountMode=g},get channelInterpretation(){return c.channelInterpretation},set channelInterpretation(g){c.channelInterpretation=g},get context(){return c.context},get inputs(){return[]},get numberOfInputs(){return l.numberOfInputs},get numberOfOutputs(){return c.numberOfOutputs},get offset(){return c.gain},get onended(){return l.onended},set onended(g){l.onended=g},addEventListener(...g){return l.addEventListener(g[0],g[1],g[2])},dispatchEvent(...g){return l.dispatchEvent(g[0])},removeEventListener(...g){return l.removeEventListener(g[0],g[1],g[2])},start(g=0){l.start.call(l,g)},stop(g=0){l.stop.call(l,g)}},p=()=>l.connect(c),v=()=>l.disconnect(c);return t(r,l),s(Ar(d,c),p,v)},w1=(t,e)=>(n,s)=>{const r=n.createConvolver();if(De(r,s),s.disableNormalization===r.normalize&&(r.normalize=!s.disableNormalization),ue(r,s,"buffer"),s.channelCount>2||(e(r,"channelCount",i=>()=>i.call(r),i=>o=>{if(o>2)throw t();return i.call(r,o)}),s.channelCountMode==="max"))throw t();return e(r,"channelCountMode",i=>()=>i.call(r),i=>o=>{if(o==="max")throw t();return i.call(r,o)}),r},Xm=(t,e)=>{const n=t.createDelay(e.maxDelayTime);return De(n,e),we(n,e,"delayTime"),n},S1=t=>(e,n)=>{const s=e.createDynamicsCompressor();if(De(s,n),n.channelCount>2||n.channelCountMode==="max")throw t();return we(s,n,"attack"),we(s,n,"knee"),we(s,n,"ratio"),we(s,n,"release"),we(s,n,"threshold"),s},mt=(t,e)=>{const n=t.createGain();return De(n,e),we(n,e,"gain"),n},k1=t=>(e,n,s)=>{if(e.createIIRFilter===void 0)return t(e,n,s);const r=e.createIIRFilter(s.feedforward,s.feedback);return De(r,s),r};function T1(t,e){const n=e[0]*e[0]+e[1]*e[1];return[(t[0]*e[0]+t[1]*e[1])/n,(t[1]*e[0]-t[0]*e[1])/n]}function C1(t,e){return[t[0]*e[0]-t[1]*e[1],t[0]*e[1]+t[1]*e[0]]}function Zd(t,e){let n=[0,0];for(let s=t.length-1;s>=0;s-=1)n=C1(n,e),n[0]+=t[s];return n}const N1=(t,e,n,s)=>(r,i,{channelCount:o,channelCountMode:a,channelInterpretation:l,feedback:c,feedforward:h})=>{const d=Qm(i,r.sampleRate),p=c instanceof Float64Array?c:new Float64Array(c),v=h instanceof Float64Array?h:new Float64Array(h),g=p.length,_=v.length,w=Math.min(g,_);if(g===0||g>20)throw s();if(p[0]===0)throw e();if(_===0||_>20)throw s();if(v[0]===0)throw e();if(p[0]!==1){for(let k=0;k<_;k+=1)v[k]/=p[0];for(let k=1;k<g;k+=1)p[k]/=p[0]}const f=n(r,d,o,o);f.channelCount=o,f.channelCountMode=a,f.channelInterpretation=l;const m=32,y=[],T=[],x=[];for(let k=0;k<o;k+=1){y.push(0);const E=new Float32Array(m),A=new Float32Array(m);E.fill(0),A.fill(0),T.push(E),x.push(A)}f.onaudioprocess=k=>{const E=k.inputBuffer,A=k.outputBuffer,N=E.numberOfChannels;for(let I=0;I<N;I+=1){const O=E.getChannelData(I),P=A.getChannelData(I);y[I]=Gm(p,g,v,_,w,T[I],x[I],y[I],m,O,P)}};const S=r.sampleRate/2;return Ar({get bufferSize(){return d},get channelCount(){return f.channelCount},set channelCount(k){f.channelCount=k},get channelCountMode(){return f.channelCountMode},set channelCountMode(k){f.channelCountMode=k},get channelInterpretation(){return f.channelInterpretation},set channelInterpretation(k){f.channelInterpretation=k},get context(){return f.context},get inputs(){return[f]},get numberOfInputs(){return f.numberOfInputs},get numberOfOutputs(){return f.numberOfOutputs},addEventListener(...k){return f.addEventListener(k[0],k[1],k[2])},dispatchEvent(...k){return f.dispatchEvent(k[0])},getFrequencyResponse(k,E,A){if(k.length!==E.length||E.length!==A.length)throw t();const N=k.length;for(let I=0;I<N;I+=1){const O=-Math.PI*(k[I]/S),P=[Math.cos(O),Math.sin(O)],D=Zd(v,P),L=Zd(p,P),V=T1(D,L);E[I]=Math.sqrt(V[0]*V[0]+V[1]*V[1]),A[I]=Math.atan2(V[1],V[0])}},removeEventListener(...k){return f.removeEventListener(k[0],k[1],k[2])}},f)},E1=(t,e)=>t.createMediaElementSource(e.mediaElement),A1=(t,e)=>{const n=t.createMediaStreamDestination();return De(n,e),n.numberOfOutputs===1&&Object.defineProperty(n,"numberOfOutputs",{get:()=>0}),n},j1=(t,{mediaStream:e})=>{const n=e.getAudioTracks();n.sort((i,o)=>i.id<o.id?-1:i.id>o.id?1:0);const s=n.slice(0,1),r=t.createMediaStreamSource(new MediaStream(s));return Object.defineProperty(r,"mediaStream",{value:e}),r},I1=(t,e)=>(n,{mediaStreamTrack:s})=>{if(typeof n.createMediaStreamTrackSource=="function")return n.createMediaStreamTrackSource(s);const r=new MediaStream([s]),i=n.createMediaStreamSource(r);if(s.kind!=="audio")throw t();if(e(n))throw new TypeError;return i},O1=t=>t===null?null:t.hasOwnProperty("OfflineAudioContext")?t.OfflineAudioContext:t.hasOwnProperty("webkitOfflineAudioContext")?t.webkitOfflineAudioContext:null,M1=(t,e,n,s,r,i)=>(o,a)=>{const l=o.createOscillator();return De(l,a),we(l,a,"detune"),we(l,a,"frequency"),a.periodicWave!==void 0?l.setPeriodicWave(a.periodicWave):ue(l,a,"type"),e(n,()=>n(o))||Uu(l),e(s,()=>s(o))||i(l,o),e(r,()=>r(o))||$u(l),t(o,l),l},P1=t=>(e,n)=>{const s=e.createPanner();return s.orientationX===void 0?t(e,n):(De(s,n),we(s,n,"orientationX"),we(s,n,"orientationY"),we(s,n,"orientationZ"),we(s,n,"positionX"),we(s,n,"positionY"),we(s,n,"positionZ"),ue(s,n,"coneInnerAngle"),ue(s,n,"coneOuterAngle"),ue(s,n,"coneOuterGain"),ue(s,n,"distanceModel"),ue(s,n,"maxDistance"),ue(s,n,"panningModel"),ue(s,n,"refDistance"),ue(s,n,"rolloffFactor"),s)},R1=(t,e,n,s,r,i,o,a,l,c)=>(h,{coneInnerAngle:d,coneOuterAngle:p,coneOuterGain:v,distanceModel:g,maxDistance:_,orientationX:w,orientationY:f,orientationZ:m,panningModel:y,positionX:T,positionY:x,positionZ:S,refDistance:C,rolloffFactor:k,...E})=>{const A=h.createPanner();if(E.channelCount>2||E.channelCountMode==="max")throw o();De(A,E);const N={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},I=n(h,{...N,channelInterpretation:"speakers",numberOfInputs:6}),O=s(h,{...E,gain:1}),P=s(h,{...N,gain:1}),D=s(h,{...N,gain:0}),L=s(h,{...N,gain:0}),V=s(h,{...N,gain:0}),M=s(h,{...N,gain:0}),R=s(h,{...N,gain:0}),F=r(h,256,6,1),W=i(h,{...N,curve:new Float32Array([1,1]),oversample:"none"});let $=[w,f,m],Fe=[T,x,S];const ke=new Float32Array(1);F.onaudioprocess=({inputBuffer:U})=>{const cs=[l(U,ke,0),l(U,ke,1),l(U,ke,2)];cs.some((Ls,Vs)=>Ls!==$[Vs])&&(A.setOrientation(...cs),$=cs);const us=[l(U,ke,3),l(U,ke,4),l(U,ke,5)];us.some((Ls,Vs)=>Ls!==Fe[Vs])&&(A.setPosition(...us),Fe=us)},Object.defineProperty(D.gain,"defaultValue",{get:()=>0}),Object.defineProperty(L.gain,"defaultValue",{get:()=>0}),Object.defineProperty(V.gain,"defaultValue",{get:()=>0}),Object.defineProperty(M.gain,"defaultValue",{get:()=>0}),Object.defineProperty(R.gain,"defaultValue",{get:()=>0});const Q={get bufferSize(){},get channelCount(){return A.channelCount},set channelCount(U){if(U>2)throw o();O.channelCount=U,A.channelCount=U},get channelCountMode(){return A.channelCountMode},set channelCountMode(U){if(U==="max")throw o();O.channelCountMode=U,A.channelCountMode=U},get channelInterpretation(){return A.channelInterpretation},set channelInterpretation(U){O.channelInterpretation=U,A.channelInterpretation=U},get coneInnerAngle(){return A.coneInnerAngle},set coneInnerAngle(U){A.coneInnerAngle=U},get coneOuterAngle(){return A.coneOuterAngle},set coneOuterAngle(U){A.coneOuterAngle=U},get coneOuterGain(){return A.coneOuterGain},set coneOuterGain(U){if(U<0||U>1)throw e();A.coneOuterGain=U},get context(){return A.context},get distanceModel(){return A.distanceModel},set distanceModel(U){A.distanceModel=U},get inputs(){return[O]},get maxDistance(){return A.maxDistance},set maxDistance(U){if(U<0)throw new RangeError;A.maxDistance=U},get numberOfInputs(){return A.numberOfInputs},get numberOfOutputs(){return A.numberOfOutputs},get orientationX(){return P.gain},get orientationY(){return D.gain},get orientationZ(){return L.gain},get panningModel(){return A.panningModel},set panningModel(U){A.panningModel=U},get positionX(){return V.gain},get positionY(){return M.gain},get positionZ(){return R.gain},get refDistance(){return A.refDistance},set refDistance(U){if(U<0)throw new RangeError;A.refDistance=U},get rolloffFactor(){return A.rolloffFactor},set rolloffFactor(U){if(U<0)throw new RangeError;A.rolloffFactor=U},addEventListener(...U){return O.addEventListener(U[0],U[1],U[2])},dispatchEvent(...U){return O.dispatchEvent(U[0])},removeEventListener(...U){return O.removeEventListener(U[0],U[1],U[2])}};d!==Q.coneInnerAngle&&(Q.coneInnerAngle=d),p!==Q.coneOuterAngle&&(Q.coneOuterAngle=p),v!==Q.coneOuterGain&&(Q.coneOuterGain=v),g!==Q.distanceModel&&(Q.distanceModel=g),_!==Q.maxDistance&&(Q.maxDistance=_),w!==Q.orientationX.value&&(Q.orientationX.value=w),f!==Q.orientationY.value&&(Q.orientationY.value=f),m!==Q.orientationZ.value&&(Q.orientationZ.value=m),y!==Q.panningModel&&(Q.panningModel=y),T!==Q.positionX.value&&(Q.positionX.value=T),x!==Q.positionY.value&&(Q.positionY.value=x),S!==Q.positionZ.value&&(Q.positionZ.value=S),C!==Q.refDistance&&(Q.refDistance=C),k!==Q.rolloffFactor&&(Q.rolloffFactor=k),($[0]!==1||$[1]!==0||$[2]!==0)&&A.setOrientation(...$),(Fe[0]!==0||Fe[1]!==0||Fe[2]!==0)&&A.setPosition(...Fe);const J=()=>{O.connect(A),t(O,W,0,0),W.connect(P).connect(I,0,0),W.connect(D).connect(I,0,1),W.connect(L).connect(I,0,2),W.connect(V).connect(I,0,3),W.connect(M).connect(I,0,4),W.connect(R).connect(I,0,5),I.connect(F).connect(h.destination)},Ne=()=>{O.disconnect(A),a(O,W,0,0),W.disconnect(P),P.disconnect(I),W.disconnect(D),D.disconnect(I),W.disconnect(L),L.disconnect(I),W.disconnect(V),V.disconnect(I),W.disconnect(M),M.disconnect(I),W.disconnect(R),R.disconnect(I),I.disconnect(F),F.disconnect(h.destination)};return c(Ar(Q,A),J,Ne)},b1=t=>(e,{disableNormalization:n,imag:s,real:r})=>{const i=s instanceof Float32Array?s:new Float32Array(s),o=r instanceof Float32Array?r:new Float32Array(r),a=e.createPeriodicWave(o,i,{disableNormalization:n});if(Array.from(s).length<2)throw t();return a},Di=(t,e,n,s)=>t.createScriptProcessor(e,n,s),D1=(t,e)=>(n,s)=>{const r=s.channelCountMode;if(r==="clamped-max")throw e();if(n.createStereoPanner===void 0)return t(n,s);const i=n.createStereoPanner();return De(i,s),we(i,s,"pan"),Object.defineProperty(i,"channelCountMode",{get:()=>r,set:o=>{if(o!==r)throw e()}}),i},F1=(t,e,n,s,r,i)=>{const a=new Float32Array([1,1]),l=Math.PI/2,c={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},h={...c,oversample:"none"},d=(g,_,w,f)=>{const m=new Float32Array(16385),y=new Float32Array(16385);for(let E=0;E<16385;E+=1){const A=E/16384*l;m[E]=Math.cos(A),y[E]=Math.sin(A)}const T=n(g,{...c,gain:0}),x=s(g,{...h,curve:m}),S=s(g,{...h,curve:a}),C=n(g,{...c,gain:0}),k=s(g,{...h,curve:y});return{connectGraph(){_.connect(T),_.connect(S.inputs===void 0?S:S.inputs[0]),_.connect(C),S.connect(w),w.connect(x.inputs===void 0?x:x.inputs[0]),w.connect(k.inputs===void 0?k:k.inputs[0]),x.connect(T.gain),k.connect(C.gain),T.connect(f,0,0),C.connect(f,0,1)},disconnectGraph(){_.disconnect(T),_.disconnect(S.inputs===void 0?S:S.inputs[0]),_.disconnect(C),S.disconnect(w),w.disconnect(x.inputs===void 0?x:x.inputs[0]),w.disconnect(k.inputs===void 0?k:k.inputs[0]),x.disconnect(T.gain),k.disconnect(C.gain),T.disconnect(f,0,0),C.disconnect(f,0,1)}}},p=(g,_,w,f)=>{const m=new Float32Array(16385),y=new Float32Array(16385),T=new Float32Array(16385),x=new Float32Array(16385),S=Math.floor(16385/2);for(let V=0;V<16385;V+=1)if(V>S){const M=(V-S)/(16384-S)*l;m[V]=Math.cos(M),y[V]=Math.sin(M),T[V]=0,x[V]=1}else{const M=V/(16384-S)*l;m[V]=1,y[V]=0,T[V]=Math.cos(M),x[V]=Math.sin(M)}const C=e(g,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),k=n(g,{...c,gain:0}),E=s(g,{...h,curve:m}),A=n(g,{...c,gain:0}),N=s(g,{...h,curve:y}),I=s(g,{...h,curve:a}),O=n(g,{...c,gain:0}),P=s(g,{...h,curve:T}),D=n(g,{...c,gain:0}),L=s(g,{...h,curve:x});return{connectGraph(){_.connect(C),_.connect(I.inputs===void 0?I:I.inputs[0]),C.connect(k,0),C.connect(A,0),C.connect(O,1),C.connect(D,1),I.connect(w),w.connect(E.inputs===void 0?E:E.inputs[0]),w.connect(N.inputs===void 0?N:N.inputs[0]),w.connect(P.inputs===void 0?P:P.inputs[0]),w.connect(L.inputs===void 0?L:L.inputs[0]),E.connect(k.gain),N.connect(A.gain),P.connect(O.gain),L.connect(D.gain),k.connect(f,0,0),O.connect(f,0,0),A.connect(f,0,1),D.connect(f,0,1)},disconnectGraph(){_.disconnect(C),_.disconnect(I.inputs===void 0?I:I.inputs[0]),C.disconnect(k,0),C.disconnect(A,0),C.disconnect(O,1),C.disconnect(D,1),I.disconnect(w),w.disconnect(E.inputs===void 0?E:E.inputs[0]),w.disconnect(N.inputs===void 0?N:N.inputs[0]),w.disconnect(P.inputs===void 0?P:P.inputs[0]),w.disconnect(L.inputs===void 0?L:L.inputs[0]),E.disconnect(k.gain),N.disconnect(A.gain),P.disconnect(O.gain),L.disconnect(D.gain),k.disconnect(f,0,0),O.disconnect(f,0,0),A.disconnect(f,0,1),D.disconnect(f,0,1)}}},v=(g,_,w,f,m)=>{if(_===1)return d(g,w,f,m);if(_===2)return p(g,w,f,m);throw r()};return(g,{channelCount:_,channelCountMode:w,pan:f,...m})=>{if(w==="max")throw r();const y=t(g,{...m,channelCount:1,channelCountMode:w,numberOfInputs:2}),T=n(g,{...m,channelCount:_,channelCountMode:w,gain:1}),x=n(g,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:f});let{connectGraph:S,disconnectGraph:C}=v(g,_,T,x,y);Object.defineProperty(x.gain,"defaultValue",{get:()=>0}),Object.defineProperty(x.gain,"maxValue",{get:()=>1}),Object.defineProperty(x.gain,"minValue",{get:()=>-1});const k={get bufferSize(){},get channelCount(){return T.channelCount},set channelCount(I){T.channelCount!==I&&(E&&C(),{connectGraph:S,disconnectGraph:C}=v(g,I,T,x,y),E&&S()),T.channelCount=I},get channelCountMode(){return T.channelCountMode},set channelCountMode(I){if(I==="clamped-max"||I==="max")throw r();T.channelCountMode=I},get channelInterpretation(){return T.channelInterpretation},set channelInterpretation(I){T.channelInterpretation=I},get context(){return T.context},get inputs(){return[T]},get numberOfInputs(){return T.numberOfInputs},get numberOfOutputs(){return T.numberOfOutputs},get pan(){return x.gain},addEventListener(...I){return T.addEventListener(I[0],I[1],I[2])},dispatchEvent(...I){return T.dispatchEvent(I[0])},removeEventListener(...I){return T.removeEventListener(I[0],I[1],I[2])}};let E=!1;const A=()=>{S(),E=!0},N=()=>{C(),E=!1};return i(Ar(k,y),A,N)}},L1=(t,e,n,s,r,i,o)=>(a,l)=>{const c=a.createWaveShaper();if(i!==null&&i.name==="webkitAudioContext"&&a.createGain().gain.automationRate===void 0)return n(a,l);De(c,l);const h=l.curve===null||l.curve instanceof Float32Array?l.curve:new Float32Array(l.curve);if(h!==null&&h.length<2)throw e();ue(c,{curve:h},"curve"),ue(c,l,"oversample");let d=null,p=!1;return o(c,"curve",_=>()=>_.call(c),_=>w=>(_.call(c,w),p&&(s(w)&&d===null?d=t(a,c):!s(w)&&d!==null&&(d(),d=null)),w)),r(c,()=>{p=!0,s(c.curve)&&(d=t(a,c))},()=>{p=!1,d!==null&&(d(),d=null)})},V1=(t,e,n,s,r)=>(i,{curve:o,oversample:a,...l})=>{const c=i.createWaveShaper(),h=i.createWaveShaper();De(c,l),De(h,l);const d=n(i,{...l,gain:1}),p=n(i,{...l,gain:-1}),v=n(i,{...l,gain:1}),g=n(i,{...l,gain:-1});let _=null,w=!1,f=null;const m={get bufferSize(){},get channelCount(){return c.channelCount},set channelCount(x){d.channelCount=x,p.channelCount=x,c.channelCount=x,v.channelCount=x,h.channelCount=x,g.channelCount=x},get channelCountMode(){return c.channelCountMode},set channelCountMode(x){d.channelCountMode=x,p.channelCountMode=x,c.channelCountMode=x,v.channelCountMode=x,h.channelCountMode=x,g.channelCountMode=x},get channelInterpretation(){return c.channelInterpretation},set channelInterpretation(x){d.channelInterpretation=x,p.channelInterpretation=x,c.channelInterpretation=x,v.channelInterpretation=x,h.channelInterpretation=x,g.channelInterpretation=x},get context(){return c.context},get curve(){return f},set curve(x){if(x!==null&&x.length<2)throw e();if(x===null)c.curve=x,h.curve=x;else{const S=x.length,C=new Float32Array(S+2-S%2),k=new Float32Array(S+2-S%2);C[0]=x[0],k[0]=-x[S-1];const E=Math.ceil((S+1)/2),A=(S+1)/2-1;for(let N=1;N<E;N+=1){const I=N/E*A,O=Math.floor(I),P=Math.ceil(I);C[N]=O===P?x[O]:(1-(I-O))*x[O]+(1-(P-I))*x[P],k[N]=O===P?-x[S-1-O]:-((1-(I-O))*x[S-1-O])-(1-(P-I))*x[S-1-P]}C[E]=S%2===1?x[E-1]:(x[E-2]+x[E-1])/2,c.curve=C,h.curve=k}f=x,w&&(s(f)&&_===null?_=t(i,d):_!==null&&(_(),_=null))},get inputs(){return[d]},get numberOfInputs(){return c.numberOfInputs},get numberOfOutputs(){return c.numberOfOutputs},get oversample(){return c.oversample},set oversample(x){c.oversample=x,h.oversample=x},addEventListener(...x){return d.addEventListener(x[0],x[1],x[2])},dispatchEvent(...x){return d.dispatchEvent(x[0])},removeEventListener(...x){return d.removeEventListener(x[0],x[1],x[2])}};o!==null&&(m.curve=o instanceof Float32Array?o:new Float32Array(o)),a!==m.oversample&&(m.oversample=a);const y=()=>{d.connect(c).connect(v),d.connect(p).connect(h).connect(g).connect(v),w=!0,s(f)&&(_=t(i,d))},T=()=>{d.disconnect(c),c.disconnect(v),d.disconnect(p),p.disconnect(h),h.disconnect(g),g.disconnect(v),w=!1,_!==null&&(_(),_=null)};return r(Ar(m,v),y,T)},ct=()=>new DOMException("","NotSupportedError"),z1={numberOfChannels:1},W1=(t,e,n,s,r)=>class extends t{constructor(o,a,l){let c;if(typeof o=="number"&&a!==void 0&&l!==void 0)c={length:a,numberOfChannels:o,sampleRate:l};else if(typeof o=="object")c=o;else throw new Error("The given parameters are not valid.");const{length:h,numberOfChannels:d,sampleRate:p}={...z1,...c},v=s(d,h,p);e(Si,()=>Si(v))||v.addEventListener("statechange",(()=>{let g=0;const _=w=>{this._state==="running"&&(g>0?(v.removeEventListener("statechange",_),w.stopImmediatePropagation(),this._waitForThePromiseToSettle(w)):g+=1)};return _})()),super(v,d),this._length=h,this._nativeOfflineAudioContext=v,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(n()):(this._state="running",r(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,Wm(this)}))}_waitForThePromiseToSettle(o){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(o):setTimeout(()=>this._waitForThePromiseToSettle(o))}},B1={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},U1=(t,e,n,s,r,i,o)=>class extends t{constructor(l,c){const h=r(l),d={...B1,...c},p=n(h,d),v=i(h),g=v?s():null,_=l.sampleRate/2;super(l,!1,p,g),this._detune=e(this,v,p.detune,153600,-153600),this._frequency=e(this,v,p.frequency,_,-_),this._nativeOscillatorNode=p,this._onended=null,this._oscillatorNodeRenderer=g,this._oscillatorNodeRenderer!==null&&d.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=d.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(l){const c=typeof l=="function"?o(this,l):null;this._nativeOscillatorNode.onended=c;const h=this._nativeOscillatorNode.onended;this._onended=h!==null&&h===c?l:h}get type(){return this._nativeOscillatorNode.type}set type(l){this._nativeOscillatorNode.type=l,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(l){this._nativeOscillatorNode.setPeriodicWave(l),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=l)}start(l=0){if(this._nativeOscillatorNode.start(l),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=l),this.context.state!=="closed"){_r(this);const c=()=>{this._nativeOscillatorNode.removeEventListener("ended",c),vn(this)&&Mi(this)};this._nativeOscillatorNode.addEventListener("ended",c)}}stop(l=0){this._nativeOscillatorNode.stop(l),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=l)}},$1=(t,e,n,s,r)=>()=>{const i=new WeakMap;let o=null,a=null,l=null;const c=async(h,d)=>{let p=n(h);const v=et(p,d);if(!v){const g={channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,detune:p.detune.value,frequency:p.frequency.value,periodicWave:o===null?void 0:o,type:p.type};p=e(d,g),a!==null&&p.start(a),l!==null&&p.stop(l)}return i.set(d,p),v?(await t(d,h.detune,p.detune),await t(d,h.frequency,p.frequency)):(await s(d,h.detune,p.detune),await s(d,h.frequency,p.frequency)),await r(h,d,p),p};return{set periodicWave(h){o=h},set start(h){a=h},set stop(h){l=h},render(h,d){const p=i.get(d);return p!==void 0?Promise.resolve(p):c(h,d)}}},q1={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},H1=(t,e,n,s,r,i,o)=>class extends t{constructor(l,c){const h=r(l),d={...q1,...c},p=n(h,d),v=i(h),g=v?s():null;super(l,!1,p,g),this._nativePannerNode=p,this._orientationX=e(this,v,p.orientationX,nt,vt),this._orientationY=e(this,v,p.orientationY,nt,vt),this._orientationZ=e(this,v,p.orientationZ,nt,vt),this._positionX=e(this,v,p.positionX,nt,vt),this._positionY=e(this,v,p.positionY,nt,vt),this._positionZ=e(this,v,p.positionZ,nt,vt),o(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(l){this._nativePannerNode.coneInnerAngle=l}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(l){this._nativePannerNode.coneOuterAngle=l}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(l){this._nativePannerNode.coneOuterGain=l}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(l){this._nativePannerNode.distanceModel=l}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(l){this._nativePannerNode.maxDistance=l}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(l){this._nativePannerNode.panningModel=l}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(l){this._nativePannerNode.refDistance=l}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(l){this._nativePannerNode.rolloffFactor=l}},G1=(t,e,n,s,r,i,o,a,l,c)=>()=>{const h=new WeakMap;let d=null;const p=async(v,g)=>{let _=null,w=i(v);const f={channelCount:w.channelCount,channelCountMode:w.channelCountMode,channelInterpretation:w.channelInterpretation},m={...f,coneInnerAngle:w.coneInnerAngle,coneOuterAngle:w.coneOuterAngle,coneOuterGain:w.coneOuterGain,distanceModel:w.distanceModel,maxDistance:w.maxDistance,panningModel:w.panningModel,refDistance:w.refDistance,rolloffFactor:w.rolloffFactor},y=et(w,g);if("bufferSize"in w)_=s(g,{...f,gain:1});else if(!y){const T={...m,orientationX:w.orientationX.value,orientationY:w.orientationY.value,orientationZ:w.orientationZ.value,positionX:w.positionX.value,positionY:w.positionY.value,positionZ:w.positionZ.value};w=r(g,T)}if(h.set(g,_===null?w:_),_!==null){if(d===null){if(o===null)throw new Error("Missing the native OfflineAudioContext constructor.");const N=new o(6,v.context.length,g.sampleRate),I=e(N,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});I.connect(N.destination),d=(async()=>{const O=await Promise.all([v.orientationX,v.orientationY,v.orientationZ,v.positionX,v.positionY,v.positionZ].map(async(P,D)=>{const L=n(N,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:D===0?1:0});return await a(N,P,L.offset),L}));for(let P=0;P<6;P+=1)O[P].connect(I,0,P),O[P].start(0);return c(N)})()}const T=await d,x=s(g,{...f,gain:1});await l(v,g,x);const S=[];for(let N=0;N<T.numberOfChannels;N+=1)S.push(T.getChannelData(N));let C=[S[0][0],S[1][0],S[2][0]],k=[S[3][0],S[4][0],S[5][0]],E=s(g,{...f,gain:1}),A=r(g,{...m,orientationX:C[0],orientationY:C[1],orientationZ:C[2],positionX:k[0],positionY:k[1],positionZ:k[2]});x.connect(E).connect(A.inputs[0]),A.connect(_);for(let N=128;N<T.length;N+=128){const I=[S[0][N],S[1][N],S[2][N]],O=[S[3][N],S[4][N],S[5][N]];if(I.some((P,D)=>P!==C[D])||O.some((P,D)=>P!==k[D])){C=I,k=O;const P=N/g.sampleRate;E.gain.setValueAtTime(0,P),E=s(g,{...f,gain:0}),A=r(g,{...m,orientationX:C[0],orientationY:C[1],orientationZ:C[2],positionX:k[0],positionY:k[1],positionZ:k[2]}),E.gain.setValueAtTime(1,P),x.connect(E).connect(A.inputs[0]),A.connect(_)}}return _}return y?(await t(g,v.orientationX,w.orientationX),await t(g,v.orientationY,w.orientationY),await t(g,v.orientationZ,w.orientationZ),await t(g,v.positionX,w.positionX),await t(g,v.positionY,w.positionY),await t(g,v.positionZ,w.positionZ)):(await a(g,v.orientationX,w.orientationX),await a(g,v.orientationY,w.orientationY),await a(g,v.orientationZ,w.orientationZ),await a(g,v.positionX,w.positionX),await a(g,v.positionY,w.positionY),await a(g,v.positionZ,w.positionZ)),Er(w)?await l(v,g,w.inputs[0]):await l(v,g,w),w};return{render(v,g){const _=h.get(g);return _!==void 0?Promise.resolve(_):p(v,g)}}},Q1={disableNormalization:!1},Y1=(t,e,n,s)=>class Km{constructor(i,o){const a=e(i),l=s({...Q1,...o}),c=t(a,l);return n.add(c),c}static[Symbol.hasInstance](i){return i!==null&&typeof i=="object"&&Object.getPrototypeOf(i)===Km.prototype||n.has(i)}},X1=(t,e)=>(n,s,r)=>(t(s).replay(r),e(s,n,r)),K1=(t,e,n)=>async(s,r,i)=>{const o=t(s);await Promise.all(o.activeInputs.map((a,l)=>Array.from(a).map(async([c,h])=>{const p=await e(c).render(c,r),v=s.context.destination;!n(c)&&(s!==v||!n(s))&&p.connect(i,h,l)})).reduce((a,l)=>[...a,...l],[]))},Z1=(t,e,n)=>async(s,r,i)=>{const o=e(s);await Promise.all(Array.from(o.activeInputs).map(async([a,l])=>{const h=await t(a).render(a,r);n(a)||h.connect(i,l)}))},J1=(t,e,n,s)=>r=>t(Si,()=>Si(r))?Promise.resolve(t(s,s)).then(i=>{if(!i){const o=n(r,512,0,1);r.oncomplete=()=>{o.onaudioprocess=null,o.disconnect()},o.onaudioprocess=()=>r.currentTime,o.connect(r.destination)}return r.startRendering()}):new Promise(i=>{const o=e(r,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});r.oncomplete=a=>{o.disconnect(),i(a.renderedBuffer)},o.connect(r.destination),r.startRendering()}),eS=t=>(e,n)=>{t.set(e,n)},tS=t=>(e,n)=>t.set(e,n),nS=(t,e,n,s,r,i,o,a)=>(l,c)=>n(l).render(l,c).then(()=>Promise.all(Array.from(s(c)).map(h=>n(h).render(h,c)))).then(()=>r(c)).then(h=>(typeof h.copyFromChannel!="function"?(o(h),zu(h)):e(i,()=>i(h))||a(h),t.add(h),h)),sS={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},rS=(t,e,n,s,r,i)=>class extends t{constructor(a,l){const c=r(a),h={...sS,...l},d=n(c,h),p=i(c),v=p?s():null;super(a,!1,d,v),this._pan=e(this,p,d.pan)}get pan(){return this._pan}},iS=(t,e,n,s,r)=>()=>{const i=new WeakMap,o=async(a,l)=>{let c=n(a);const h=et(c,l);if(!h){const d={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,pan:c.pan.value};c=e(l,d)}return i.set(l,c),h?await t(l,a.pan,c.pan):await s(l,a.pan,c.pan),Er(c)?await r(a,l,c.inputs[0]):await r(a,l,c),c};return{render(a,l){const c=i.get(l);return c!==void 0?Promise.resolve(c):o(a,l)}}},oS=t=>()=>{if(t===null)return!1;try{new t({length:1,sampleRate:44100})}catch{return!1}return!0},aS=(t,e)=>async()=>{if(t===null)return!0;if(e===null)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),s=new e(1,128,44100),r=URL.createObjectURL(n);let i=!1,o=!1;try{await s.audioWorklet.addModule(r);const a=new t(s,"a",{numberOfOutputs:0}),l=s.createOscillator();a.port.onmessage=()=>i=!0,a.onprocessorerror=()=>o=!0,l.connect(a),l.start(0),await s.startRendering(),await new Promise(c=>setTimeout(c))}catch{}finally{URL.revokeObjectURL(r)}return i&&!o},lS=(t,e)=>()=>{if(e===null)return Promise.resolve(!1);const n=new e(1,1,44100),s=t(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(r=>{n.oncomplete=()=>{s.disconnect(),r(n.currentTime!==0)},n.startRendering()})},cS=()=>new DOMException("","UnknownError"),uS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},hS=(t,e,n,s,r,i,o)=>class extends t{constructor(l,c){const h=r(l),d={...uS,...c},p=n(h,d),g=i(h)?s():null;super(l,!0,p,g),this._isCurveNullified=!1,this._nativeWaveShaperNode=p,o(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(l){if(l===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(l.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=l}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(l){this._nativeWaveShaperNode.oversample=l}},dS=(t,e,n)=>()=>{const s=new WeakMap,r=async(i,o)=>{let a=e(i);if(!et(a,o)){const c={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,curve:a.curve,oversample:a.oversample};a=t(o,c)}return s.set(o,a),Er(a)?await n(i,o,a.inputs[0]):await n(i,o,a),a};return{render(i,o){const a=s.get(o);return a!==void 0?Promise.resolve(a):r(i,o)}}},fS=()=>typeof window>"u"?null:window,pS=(t,e)=>n=>{n.copyFromChannel=(s,r,i=0)=>{const o=t(i),a=t(r);if(a>=n.numberOfChannels)throw e();const l=n.length,c=n.getChannelData(a),h=s.length;for(let d=o<0?-o:0;d+o<l&&d<h;d+=1)s[d]=c[d+o]},n.copyToChannel=(s,r,i=0)=>{const o=t(i),a=t(r);if(a>=n.numberOfChannels)throw e();const l=n.length,c=n.getChannelData(a),h=s.length;for(let d=o<0?-o:0;d+o<l&&d<h;d+=1)c[d+o]=s[d]}},mS=t=>e=>{e.copyFromChannel=(n=>(s,r,i=0)=>{const o=t(i),a=t(r);if(o<e.length)return n.call(e,s,a,o)})(e.copyFromChannel),e.copyToChannel=(n=>(s,r,i=0)=>{const o=t(i),a=t(r);if(o<e.length)return n.call(e,s,a,o)})(e.copyToChannel)},gS=t=>(e,n)=>{const s=n.createBuffer(1,1,44100);e.buffer===null&&(e.buffer=s),t(e,"buffer",r=>()=>{const i=r.call(e);return i===s?null:i},r=>i=>r.call(e,i===null?s:i))},vS=(t,e)=>(n,s)=>{s.channelCount=1,s.channelCountMode="explicit",Object.defineProperty(s,"channelCount",{get:()=>1,set:()=>{throw t()}}),Object.defineProperty(s,"channelCountMode",{get:()=>"explicit",set:()=>{throw t()}});const r=n.createBufferSource();e(s,()=>{const a=s.numberOfInputs;for(let l=0;l<a;l+=1)r.connect(s,0,l)},()=>r.disconnect(s))},Zm=(t,e,n)=>t.copyFromChannel===void 0?t.getChannelData(n)[0]:(t.copyFromChannel(e,n),e[0]),Jm=t=>{if(t===null)return!1;const e=t.length;return e%2!==0?t[Math.floor(e/2)]!==0:t[e/2-1]+t[e/2]!==0},Fi=(t,e,n,s)=>{let r=t;for(;!r.hasOwnProperty(e);)r=Object.getPrototypeOf(r);const{get:i,set:o}=Object.getOwnPropertyDescriptor(r,e);Object.defineProperty(t,e,{get:n(i),set:s(o)})},yS=t=>({...t,outputChannelCount:t.outputChannelCount!==void 0?t.outputChannelCount:t.numberOfInputs===1&&t.numberOfOutputs===1?[t.channelCount]:Array.from({length:t.numberOfOutputs},()=>1)}),_S=t=>({...t,channelCount:t.numberOfOutputs}),xS=t=>{const{imag:e,real:n}=t;return e===void 0?n===void 0?{...t,imag:[0,0],real:[0,0]}:{...t,imag:Array.from(n,()=>0),real:n}:n===void 0?{...t,imag:e,real:Array.from(e,()=>0)}:{...t,imag:e,real:n}},eg=(t,e,n)=>{try{t.setValueAtTime(e,n)}catch(s){if(s.code!==9)throw s;eg(t,e,n+1e-7)}},wS=t=>{const e=t.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},SS=t=>{const e=t.createBufferSource(),n=t.createBuffer(1,1,44100);e.buffer=n;try{e.start(0,1)}catch{return!1}return!0},kS=t=>{const e=t.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},qu=t=>{const e=t.createOscillator();try{e.start(-1)}catch(n){return n instanceof RangeError}return!1},tg=t=>{const e=t.createBuffer(1,1,44100),n=t.createBufferSource();n.buffer=e,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}},Hu=t=>{const e=t.createOscillator();try{e.stop(-1)}catch(n){return n instanceof RangeError}return!1},TS=t=>{const{port1:e,port2:n}=new MessageChannel;try{e.postMessage(t)}finally{e.close(),n.close()}},CS=t=>{t.start=(e=>(n=0,s=0,r)=>{const i=t.buffer,o=i===null?s:Math.min(i.duration,s);i!==null&&o>i.duration-.5/t.context.sampleRate?e.call(t,n,0,0):e.call(t,n,o,r)})(t.start)},ng=(t,e)=>{const n=e.createGain();t.connect(n);const s=(r=>()=>{r.call(t,n),t.removeEventListener("ended",s)})(t.disconnect);t.addEventListener("ended",s),Ar(t,n),t.stop=(r=>{let i=!1;return(o=0)=>{if(i)try{r.call(t,o)}catch{n.gain.setValueAtTime(0,o)}else r.call(t,o),i=!0}})(t.stop)},jr=(t,e)=>n=>{const s={value:t};return Object.defineProperties(n,{currentTarget:s,target:s}),typeof e=="function"?e.call(t,n):e.handleEvent.call(t,n)},NS=H0(bs),ES=Z0(bs),AS=uw(Fa),sg=new WeakMap,jS=Aw(sg),Ht=zx(new Map,new WeakMap),nn=fS(),rg=r1(Ht,ln),Gu=Ew(rt),He=K1(rt,Gu,As),IS=sx(rg,ce,He),ie=Ow(Da),Tn=O1(nn),se=Qw(Tn),ig=new WeakMap,og=xw(jr),Li=l1(nn),Qu=$w(Li),Yu=qw(nn),ag=Hw(nn),ki=u1(nn),Ce=Ax(G0(Rm),K0(NS,ES,ca,AS,ua,rt,jS,Oi,ce,bs,vn,As,No),Ht,Vw(bc,ua,rt,ce,wi,vn),ln,La,ct,ow(ca,bc,rt,ce,wi,ie,vn,se),fw(ig,rt,qt),og,ie,Qu,Yu,ag,se,ki),OS=nx(Ce,IS,ln,rg,ie,se),Xu=new WeakSet,Jd=i1(nn),lg=Jx(new Uint32Array(1)),Ku=pS(lg,ln),Zu=mS(lg),cg=ix(Xu,Ht,ct,Jd,Tn,oS(Jd),Ku,Zu),Va=J0(mt),ug=Z1(Gu,Pi,As),cn=Gx(ug),Ir=a1(Va,Ht,wS,SS,kS,qu,tg,Hu,CS,gS(Fi),ng),un=X1(jw(Pi),ug),MS=lx(cn,Ir,ce,un,He),Gt=jx(Q0(bm),ig,Vu,Ix,z0,W0,B0,U0,$0,Mc,Mm,Li,eg),PS=ax(Ce,MS,Gt,We,Ir,ie,se,jr),RS=vx(Ce,yx,ln,We,c1(mt,Fi),ie,se,He),bS=Vx(cn,Ym,ce,un,He),Ds=tS(sg),DS=Lx(Ce,Gt,bS,La,Ym,ie,se,Ds),as=n1(bs,Yu),FS=vS(We,as),ls=v1(Li,FS),LS=Ux(ls,ce,He),VS=Bx(Ce,LS,ls,ie,se),zS=Hx(bi,ce,He),WS=qx(Ce,zS,bi,ie,se,_S),BS=x1(Va,Ir,mt,as),Or=_1(Va,Ht,BS,qu,Hu),US=Zx(cn,Or,ce,un,He),$S=Kx(Ce,Gt,US,Or,ie,se,jr),hg=w1(ct,Fi),qS=nw(hg,ce,He),HS=tw(Ce,qS,hg,ie,se,Ds),GS=cw(cn,Xm,ce,un,He),QS=lw(Ce,Gt,GS,Xm,ie,se,Ds),dg=S1(ct),YS=vw(cn,dg,ce,un,He),XS=gw(Ce,Gt,YS,dg,ct,ie,se,Ds),KS=Cw(cn,mt,ce,un,He),ZS=Tw(Ce,Gt,KS,mt,ie,se),JS=N1(La,We,Di,ct),za=J1(Ht,mt,Di,lS(mt,Tn)),ek=Lw(Ir,ce,Tn,He,za),tk=k1(JS),nk=Dw(Ce,tk,ek,ie,se,Ds),sk=_x(Gt,ls,Or,Di,ct,Zm,se,Fi),fg=new WeakMap,rk=t1(RS,sk,og,se,fg,jr),pg=M1(Va,Ht,qu,tg,Hu,ng),ik=$1(cn,pg,ce,un,He),ok=U1(Ce,Gt,pg,ik,ie,se,jr),mg=Yx(Ir),ak=V1(mg,We,mt,Jm,as),Wa=L1(mg,We,ak,Jm,as,Li,Fi),lk=R1(ca,We,ls,mt,Di,Wa,ct,ua,Zm,as),gg=P1(lk),ck=G1(cn,ls,Or,mt,gg,ce,Tn,un,He,za),uk=H1(Ce,Gt,gg,ck,ie,se,Ds),hk=b1(ln),dk=Y1(hk,ie,new WeakSet,xS),fk=F1(ls,bi,mt,Wa,ct,as),vg=D1(fk,ct),pk=iS(cn,vg,ce,un,He),mk=rS(Ce,Gt,vg,pk,ie,se),gk=dS(Wa,ce,He),vk=hS(Ce,We,Wa,gk,ie,se,Ds),yg=Yw(nn),Ju=ww(nn),_g=new WeakMap,yk=Mw(_g,Tn),_k=yg?X0(Ht,ct,_w(nn),Ju,Sw(q0),ie,yk,se,ki,new WeakMap,new WeakMap,aS(ki,Tn),nn):void 0,xk=Gw(Qu,se),wk=iw(Xu,Ht,rw,yw,new WeakSet,ie,xk,aa,Si,Ku,Zu),xg=Dx(_k,OS,cg,PS,DS,VS,WS,$S,HS,wk,QS,XS,ZS,nk,rk,ok,uk,dk,mk,vk),Sk=Xw(Ce,E1,ie,se),kk=Zw(Ce,A1,ie,se),Tk=Jw(Ce,j1,ie,se),Ck=I1(We,se),Nk=e1(Ce,Ck,ie),Ek=gx(xg,We,ct,cS,Sk,kk,Tk,Nk,Li),eh=Pw(fg),Ak=ex(eh),wg=Qx(ln),jk=hw(eh),Sg=pw(ln),kg=new WeakMap,Ik=Nw(kg,qt),Ok=g1(wg,ln,We,ls,bi,Or,mt,Di,ct,Sg,Ju,Ik,as),Mk=d1(We,Ok,mt,ct,as),Pk=bx(cn,wg,Ir,ls,bi,Or,mt,jk,Sg,Ju,ce,ki,Tn,un,He,za),Rk=Iw(_g),bk=eS(kg),ef=yg?Mx(Ak,Ce,Gt,Pk,Mk,rt,Rk,ie,se,ki,yS,bk,TS,jr):void 0,Dk=sw(ct,Tn),Fk=nS(Xu,Ht,Gu,eh,za,aa,Ku,Zu),Lk=W1(xg,Ht,We,Dk,Fk),Vk=zw(Da,Qu),zk=Ww(Lu,Yu),Wk=Bw(Vu,ag),Bk=Uw(Da,se);function St(t){return t===void 0}function Y(t){return t!==void 0}function Uk(t){return typeof t=="function"}function sn(t){return typeof t=="number"}function Xn(t){return Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object}function Tg(t){return typeof t=="boolean"}function Ke(t){return Array.isArray(t)}function rn(t){return typeof t=="string"}function ho(t){return rn(t)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(t)}function G(t,e){if(!t)throw new Error(e)}function es(t,e,n=1/0){if(!(e<=t&&t<=n))throw new RangeError(`Value must be within [${e}, ${n}], got: ${t}`)}function Cg(t){!t.isOffline&&t.state!=="running"&&Ba('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let Ng=!1,tf=!1;function nf(t){Ng=t}function $k(t){St(t)&&Ng&&!tf&&(tf=!0,Ba("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let Eg=console;function qk(...t){Eg.log(...t)}function Ba(...t){Eg.warn(...t)}function Hk(t){return new Ek(t)}function Gk(t,e,n){return new Lk(t,e,n)}const yt=typeof self=="object"?self:null,Qk=yt&&(yt.hasOwnProperty("AudioContext")||yt.hasOwnProperty("webkitAudioContext"));function Yk(t,e,n){return G(Y(ef),"AudioWorkletNode only works in a secure context (https or localhost)"),new(t instanceof(yt==null?void 0:yt.BaseAudioContext)?yt==null?void 0:yt.AudioWorkletNode:ef)(t,e,n)}function Qt(t,e,n,s){var r=arguments.length,i=r<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,n):s,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i}function Ie(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(h){try{c(s.next(h))}catch(d){o(d)}}function l(h){try{c(s.throw(h))}catch(d){o(d)}}function c(h){h.done?i(h.value):r(h.value).then(a,l)}c((s=s.apply(t,e||[])).next())})}class Xk{constructor(e,n,s,r){this._callback=e,this._type=n,this._minimumUpdateInterval=Math.max(128/(r||44100),.001),this.updateInterval=s,this._createClock()}_createWorker(){const e=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),n=URL.createObjectURL(e),s=new Worker(n);s.onmessage=this._callback.bind(this),this._worker=s}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){var n;this._updateInterval=Math.max(e,this._minimumUpdateInterval),this._type==="worker"&&((n=this._worker)===null||n===void 0||n.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}}function js(t){return Wk(t)}function Kn(t){return zk(t)}function Eo(t){return Bk(t)}function Ws(t){return Vk(t)}function Kk(t){return t instanceof cg}function Zk(t,e){return t==="value"||js(e)||Kn(e)||Kk(e)}function ws(t,...e){if(!e.length)return t;const n=e.shift();if(Xn(t)&&Xn(n))for(const s in n)Zk(s,n[s])?t[s]=n[s]:Xn(n[s])?(t[s]||Object.assign(t,{[s]:{}}),ws(t[s],n[s])):Object.assign(t,{[s]:n[s]});return ws(t,...e)}function Jk(t,e){return t.length===e.length&&t.every((n,s)=>e[s]===n)}function H(t,e,n=[],s){const r={},i=Array.from(e);if(Xn(i[0])&&s&&!Reflect.has(i[0],s)&&(Object.keys(i[0]).some(a=>Reflect.has(t,a))||(ws(r,{[s]:i[0]}),n.splice(n.indexOf(s),1),i.shift())),i.length===1&&Xn(i[0]))ws(r,i[0]);else for(let o=0;o<n.length;o++)Y(i[o])&&(r[n[o]]=i[o]);return ws(t,r)}function eT(t){return t.constructor.getDefaults()}function tn(t,e){return St(t)?e:t}function Vn(t,e){return e.forEach(n=>{Reflect.has(t,n)&&delete t[n]}),t}/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2024 Yotam Mann
 */class Cn{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...e){(this.debug||yt&&this.toString()===yt.TONE_DEBUG_CLASS)&&qk(this,...e)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}Cn.version=Om;const th=1e-6;function xr(t,e){return t>e+th}function zc(t,e){return xr(t,e)||Vt(t,e)}function pa(t,e){return t+th<e}function Vt(t,e){return Math.abs(t-e)<th}function tT(t,e,n){return Math.max(Math.min(t,n),e)}class Ot extends Cn{constructor(){super(),this.name="Timeline",this._timeline=[];const e=H(Ot.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(G(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length){const n=this._timeline[this.length-1];G(zc(e.time,n.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e)}else{const n=this._search(e.time);this._timeline.splice(n+1,0,e)}if(this.length>this.memory){const n=this.length-this.memory;this._timeline.splice(0,n)}return this}remove(e){const n=this._timeline.indexOf(e);return n!==-1&&this._timeline.splice(n,1),this}get(e,n="time"){const s=this._search(e,n);return s!==-1?this._timeline[s]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e,n="time"){const s=this._search(e,n);return s+1<this._timeline.length?this._timeline[s+1]:null}getBefore(e){const n=this._timeline.length;if(n>0&&this._timeline[n-1].time<e)return this._timeline[n-1];const s=this._search(e);return s-1>=0?this._timeline[s-1]:null}cancel(e){if(this._timeline.length>1){let n=this._search(e);if(n>=0)if(Vt(this._timeline[n].time,e)){for(let s=n;s>=0&&Vt(this._timeline[s].time,e);s--)n=s;this._timeline=this._timeline.slice(0,n)}else this._timeline=this._timeline.slice(0,n+1);else this._timeline=[]}else this._timeline.length===1&&zc(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){const n=this._search(e);return n>=0&&(this._timeline=this._timeline.slice(n+1)),this}previousEvent(e){const n=this._timeline.indexOf(e);return n>0?this._timeline[n-1]:null}_search(e,n="time"){if(this._timeline.length===0)return-1;let s=0;const r=this._timeline.length;let i=r;if(r>0&&this._timeline[r-1][n]<=e)return r-1;for(;s<i;){let o=Math.floor(s+(i-s)/2);const a=this._timeline[o],l=this._timeline[o+1];if(Vt(a[n],e)){for(let c=o;c<this._timeline.length;c++){const h=this._timeline[c];if(Vt(h[n],e))o=c;else break}return o}else{if(pa(a[n],e)&&xr(l[n],e))return o;xr(a[n],e)?i=o:s=o+1}}return-1}_iterate(e,n=0,s=this._timeline.length-1){this._timeline.slice(n,s+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,n){const s=this._search(e);return s!==-1&&this._iterate(n,0,s),this}forEachAfter(e,n){const s=this._search(e);return this._iterate(n,s+1),this}forEachBetween(e,n,s){let r=this._search(e),i=this._search(n);return r!==-1&&i!==-1?(this._timeline[r].time!==e&&(r+=1),this._timeline[i].time===n&&(i-=1),this._iterate(s,r,i)):r===-1&&this._iterate(s,0,i),this}forEachFrom(e,n){let s=this._search(e);for(;s>=0&&this._timeline[s].time>=e;)s--;return this._iterate(n,s+1),this}forEachAtTime(e,n){const s=this._search(e);if(s!==-1&&Vt(this._timeline[s].time,e)){let r=s;for(let i=s;i>=0&&Vt(this._timeline[i].time,e);i--)r=i;this._iterate(i=>{n(i)},r,s)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const Ag=[];function Ua(t){Ag.push(t)}function nT(t){Ag.forEach(e=>e(t))}const jg=[];function $a(t){jg.push(t)}function sT(t){jg.forEach(e=>e(t))}class Vi extends Cn{constructor(){super(...arguments),this.name="Emitter"}on(e,n){return e.split(/\W+/).forEach(r=>{St(this._events)&&(this._events={}),this._events.hasOwnProperty(r)||(this._events[r]=[]),this._events[r].push(n)}),this}once(e,n){const s=(...r)=>{n(...r),this.off(e,s)};return this.on(e,s),this}off(e,n){return e.split(/\W+/).forEach(r=>{if(St(this._events)&&(this._events={}),this._events.hasOwnProperty(r))if(St(n))this._events[r]=[];else{const i=this._events[r];for(let o=i.length-1;o>=0;o--)i[o]===n&&i.splice(o,1)}}),this}emit(e,...n){if(this._events&&this._events.hasOwnProperty(e)){const s=this._events[e].slice(0);for(let r=0,i=s.length;r<i;r++)s[r].apply(this,n)}return this}static mixin(e){["on","once","off","emit"].forEach(n=>{const s=Object.getOwnPropertyDescriptor(Vi.prototype,n);Object.defineProperty(e.prototype,n,s)})}dispose(){return super.dispose(),this._events=void 0,this}}class Ig extends Vi{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class zi extends Ig{constructor(){var e,n;super(),this.name="Context",this._constants=new Map,this._timeouts=new Ot,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const s=H(zi.getDefaults(),arguments,["context"]);s.context?(this._context=s.context,this._latencyHint=((e=arguments[0])===null||e===void 0?void 0:e.latencyHint)||""):(this._context=Hk({latencyHint:s.latencyHint}),this._latencyHint=s.latencyHint),this._ticker=new Xk(this.emit.bind(this,"tick"),s.clockSource,s.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((n=arguments[0])===null||n===void 0)&&n.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=s.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(nT(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,n,s){return this._context.createBuffer(e,n,s)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,n){return this._context.createIIRFilter(e,n)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,n,s){return this._context.createPeriodicWave(e,n,s)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){return G(Ws(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(e)}createMediaElementSource(e){return G(Ws(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(e)}createMediaStreamDestination(){return G(Ws(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){G(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){G(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){G(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){G(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,n){return Yk(this.rawContext,e,n)}addAudioWorkletModule(e){return Ie(this,void 0,void 0,function*(){G(Y(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(e)),yield this._workletPromise})}workletsAreReady(){return Ie(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get lookAhead(){return this._lookAhead}set lookAhead(e){this._lookAhead=e,this.updateInterval=e?e/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return Ws(this._context)?this._context.resume():Promise.resolve()}close(){return Ie(this,void 0,void 0,function*(){Ws(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&sT(this)})}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{const n=this._context.createBuffer(1,128,this._context.sampleRate),s=n.getChannelData(0);for(let i=0;i<s.length;i++)s[i]=e;const r=this._context.createBufferSource();return r.channelCount=1,r.channelCountMode="explicit",r.buffer=n,r.loop=!0,r.start(0),this._constants.set(e,r),r}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(e=>this._constants[e].disconnect()),this.close(),this}_timeoutLoop(){const e=this.now();let n=this._timeouts.peek();for(;this._timeouts.length&&n&&n.time<=e;)n.callback(),this._timeouts.shift(),n=this._timeouts.peek()}setTimeout(e,n){this._timeoutIds++;const s=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:s+n}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach(n=>{n.id===e&&this._timeouts.remove(n)}),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,n){const s=++this._timeoutIds,r=()=>{const i=this.now();this._timeouts.add({callback:()=>{e(),r()},id:s,time:i+n})};return r(),s}}class rT extends Ig{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,n,s){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,n){return{}}createPanner(){return{}}createPeriodicWave(e,n,s){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,n){return{}}get rawContext(){return{}}addAudioWorkletModule(e){return Ie(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(e,n){return 0}clearTimeout(e){return this}setInterval(e,n){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}}function ve(t,e){Ke(e)?e.forEach(n=>ve(t,n)):Object.defineProperty(t,e,{enumerable:!0,writable:!1})}function Og(t,e){Ke(e)?e.forEach(n=>Og(t,n)):Object.defineProperty(t,e,{writable:!0})}const te=()=>{};class ae extends Cn{constructor(){super(),this.name="ToneAudioBuffer",this.onload=te;const e=H(ae.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=e.reverse,this.onload=e.onload,rn(e.url)?this.load(e.url).catch(e.onerror):e.url&&this.set(e.url)}static getDefaults(){return{onerror:te,onload:te,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:zt().sampleRate}set(e){return e instanceof ae?e.loaded?this._buffer=e.get():e.onload=()=>{this.set(e),this.onload(this)}:this._buffer=e,this._reversed&&this._reverse(),this}get(){return this._buffer}load(e){return Ie(this,void 0,void 0,function*(){const n=ae.load(e).then(s=>{this.set(s),this.onload(this)});ae.downloads.push(n);try{yield n}finally{const s=ae.downloads.indexOf(n);ae.downloads.splice(s,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(e){const n=Ke(e)&&e[0].length>0,s=n?e.length:1,r=n?e[0].length:e.length,i=zt(),o=i.createBuffer(s,r,i.sampleRate),a=!n&&s===1?[e]:e;for(let l=0;l<s;l++)o.copyToChannel(a[l],l);return this._buffer=o,this}toMono(e){if(sn(e))this.fromArray(this.toArray(e));else{let n=new Float32Array(this.length);const s=this.numberOfChannels;for(let r=0;r<s;r++){const i=this.toArray(r);for(let o=0;o<i.length;o++)n[o]+=i[o]}n=n.map(r=>r/s),this.fromArray(n)}return this}toArray(e){if(sn(e))return this.getChannelData(e);if(this.numberOfChannels===1)return this.toArray(0);{const n=[];for(let s=0;s<this.numberOfChannels;s++)n[s]=this.getChannelData(s);return n}}getChannelData(e){return this._buffer?this._buffer.getChannelData(e):new Float32Array(0)}slice(e,n=this.duration){G(this.loaded,"Buffer is not loaded");const s=Math.floor(e*this.sampleRate),r=Math.floor(n*this.sampleRate);G(s<r,"The start time must be less than the end time");const i=r-s,o=zt().createBuffer(this.numberOfChannels,i,this.sampleRate);for(let a=0;a<this.numberOfChannels;a++)o.copyToChannel(this.getChannelData(a).subarray(s,r),a);return new ae(o)}_reverse(){if(this.loaded)for(let e=0;e<this.numberOfChannels;e++)this.getChannelData(e).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(e){this._reversed!==e&&(this._reversed=e,this._reverse())}static fromArray(e){return new ae().fromArray(e)}static fromUrl(e){return Ie(this,void 0,void 0,function*(){return yield new ae().load(e)})}static load(e){return Ie(this,void 0,void 0,function*(){const n=e.match(/\[([^\]\[]+\|.+)\]$/);if(n){const l=n[1].split("|");let c=l[0];for(const h of l)if(ae.supportsType(h)){c=h;break}e=e.replace(n[0],c)}const s=ae.baseUrl===""||ae.baseUrl.endsWith("/")?ae.baseUrl:ae.baseUrl+"/",r=document.createElement("a");r.href=s+e,r.pathname=(r.pathname+r.hash).split("/").map(encodeURIComponent).join("/");const i=yield fetch(r.href);if(!i.ok)throw new Error(`could not load url: ${e}`);const o=yield i.arrayBuffer();return yield zt().decodeAudioData(o)})}static supportsType(e){const n=e.split("."),s=n[n.length-1];return document.createElement("audio").canPlayType("audio/"+s)!==""}static loaded(){return Ie(this,void 0,void 0,function*(){for(yield Promise.resolve();ae.downloads.length;)yield ae.downloads[0]})}}ae.baseUrl="";ae.downloads=[];class nh extends zi{constructor(){super({clockSource:"offline",context:Eo(arguments[0])?arguments[0]:Gk(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:Eo(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=Eo(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return Ie(this,void 0,void 0,function*(){let n=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,n++;const s=Math.floor(this.sampleRate/128);e&&n%s===0&&(yield new Promise(r=>setTimeout(r,1)))}})}render(){return Ie(this,arguments,void 0,function*(e=!0){yield this.workletsAreReady(),yield this._renderClock(e);const n=yield this._context.startRendering();return new ae(n)})}close(){return Promise.resolve()}}const Mg=new rT;let gs=Mg;function zt(){return gs===Mg&&Qk&&iT(new zi),gs}function iT(t,e=!1){e&&gs.dispose(),Ws(t)?gs=new zi(t):Eo(t)?gs=new nh(t):gs=t}function sh(){return gs.resume()}if(yt&&!yt.TONE_SILENCE_LOGGING){const e=` * Tone.js v${Om} * `;console.log(`%c${e}`,"background: #000; color: #fff")}function oT(t){return Math.pow(10,t/20)}function aT(t){return 20*(Math.log(t)/Math.LN10)}function Pg(t){return Math.pow(2,t/12)}let qa=440;function lT(){return qa}function cT(t){qa=t}function vs(t){return Math.round(Rg(t))}function Rg(t){return 69+12*Math.log2(t/qa)}function bg(t){return qa*Math.pow(2,(t-69)/12)}class rh extends Cn{constructor(e,n,s){super(),this.defaultUnits="s",this._val=n,this._units=s,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,n)=>{const s=parseInt(e,10),r=n==="."?1.5:1;return s===1?this._beatsToUnits(this._getTimeSignature())*r:this._beatsToUnits(4/s)*r},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{const n=parseInt(e,10);return this._beatsToUnits(8/(Math.floor(n)*3))},regexp:/^(\d+)t$/i},tr:{method:(e,n,s)=>{let r=0;return e&&e!=="0"&&(r+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(r+=this._beatsToUnits(parseFloat(n))),s&&s!=="0"&&(r+=this._beatsToUnits(parseFloat(s)/4)),r},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof rh&&this.fromType(this._val),St(this._val))return this._noArg();if(rn(this._val)&&St(this._units)){for(const e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(Xn(this._val)){let e=0;for(const n in this._val)if(Y(this._val[n])){const s=this._val[n],r=new this.constructor(this.context,n).valueOf()*s;e+=r}return e}if(Y(this._units)){const e=this._expressions[this._units],n=this._val.toString().trim().match(e.regexp);return n?e.method.apply(this,n.slice(1)):e.method.call(this,this._val)}else return rn(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class Wt extends rh{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{const n=new Wt(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(n))},regexp:/^@(.+)/}})}quantize(e,n=1){const s=new this.constructor(this.context,e).valueOf(),r=this.valueOf(),a=Math.round(r/s)*s-r;return r+a*n}toNotation(){const e=this.toSeconds(),n=["1m"];for(let i=1;i<9;i++){const o=Math.pow(2,i);n.push(o+"n."),n.push(o+"n"),n.push(o+"t")}n.push("0");let s=n[0],r=new Wt(this.context,n[0]).toSeconds();return n.forEach(i=>{const o=new Wt(this.context,i).toSeconds();Math.abs(o-e)<Math.abs(r-e)&&(s=i,r=o)}),s}toBarsBeatsSixteenths(){const e=this._beatsToUnits(1);let n=this.valueOf()/e;n=parseFloat(n.toFixed(4));const s=Math.floor(n/this._getTimeSignature());let r=n%1*4;n=Math.floor(n)%this._getTimeSignature();const i=r.toString();return i.length>3&&(r=parseFloat(parseFloat(i).toFixed(3))),[s,n,r].join(":")}toTicks(){const e=this._beatsToUnits(1);return this.valueOf()/e*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return vs(this.toFrequency())}_now(){return this.context.now()}}class xt extends Wt{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return lT()}static set A4(e){cT(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return this.defaultUnits==="midi"?e:xt.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(e,n){const r=uT[e.toLowerCase()]+(parseInt(n,10)+1)*12;return this.defaultUnits==="midi"?r:xt.mtof(r)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,n,s){let r=1;return e&&e!=="0"&&(r*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(r*=this._beatsToUnits(parseFloat(n))),s&&s!=="0"&&(r*=this._beatsToUnits(parseFloat(s)/4)),r}}})}transpose(e){return new xt(this.context,this.valueOf()*Pg(e))}harmonize(e){return e.map(n=>this.transpose(n))}toMidi(){return vs(this.valueOf())}toNote(){const e=this.toFrequency(),n=Math.log2(e/xt.A4);let s=Math.round(12*n)+57;const r=Math.floor(s/12);return r<0&&(s+=-12*r),hT[s%12]+r.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const e=this._beatsToUnits(1),n=this.valueOf()/e;return Math.floor(n*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(e*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return bg(e)}static ftom(e){return vs(e)}}const uT={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},hT=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class lr extends Wt{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class Ze extends Cn{constructor(){super();const e=H(Ze.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=e.context}static getDefaults(){return{context:zt()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return $k(e),new Wt(this.context,e).toSeconds()}toFrequency(e){return new xt(this.context,e).toFrequency()}toTicks(e){return new lr(this.context,e).toTicks()}_getPartialProperties(e){const n=this.get();return Object.keys(n).forEach(s=>{St(e[s])&&delete n[s]}),n}get(){const e=eT(this);return Object.keys(e).forEach(n=>{if(Reflect.has(this,n)){const s=this[n];Y(s)&&Y(s.value)&&Y(s.setValueAtTime)?e[n]=s.value:s instanceof Ze?e[n]=s._getPartialProperties(e[n]):Ke(s)||sn(s)||rn(s)||Tg(s)?e[n]=s:delete e[n]}}),e}set(e){return Object.keys(e).forEach(n=>{Reflect.has(this,n)&&Y(this[n])&&(this[n]&&Y(this[n].value)&&Y(this[n].setValueAtTime)?this[n].value!==e[n]&&(this[n].value=e[n]):this[n]instanceof Ze?this[n].set(e[n]):this[n]=e[n])}),this}}class Wi extends Ot{constructor(e="stopped"){super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){const n=this.get(e);return n!==null?n.state:this._initial}setStateAtTime(e,n,s){return es(n,0),this.add(Object.assign({},s,{state:e,time:n})),this}getLastState(e,n){const s=this._search(n);for(let r=s;r>=0;r--){const i=this._timeline[r];if(i.state===e)return i}}getNextState(e,n){const s=this._search(n);if(s!==-1)for(let r=s;r<this._timeline.length;r++){const i=this._timeline[r];if(i.state===e)return i}}}class fe extends Ze{constructor(){const e=H(fe.getDefaults(),arguments,["param","units","convert"]);for(super(e),this.name="Param",this.overridden=!1,this._minOutput=1e-7,G(Y(e.param)&&(js(e.param)||e.param instanceof fe),"param must be an AudioParam");!js(e.param);)e.param=e.param._param;this._swappable=Y(e.swappable)?e.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new Ot(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,Y(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Ze.getDefaults(),{convert:!0,units:"number"})}get value(){const e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return Y(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return Y(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(e,n){return this.units===n}_assertRange(e){return Y(this.maxValue)&&Y(this.minValue)&&es(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?oT(e):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e}_toType(e){return this.convert&&this.units==="decibels"?aT(e):e}setValueAtTime(e,n){const s=this.toSeconds(n),r=this._fromType(e);return G(isFinite(r)&&isFinite(s),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(r),this.log(this.units,"setValueAtTime",e,s),this._events.add({time:s,type:"setValueAtTime",value:r}),this._param.setValueAtTime(r,s),this}getValueAtTime(e){const n=Math.max(this.toSeconds(e),0),s=this._events.getAfter(n),r=this._events.get(n);let i=this._initialValue;if(r===null)i=this._initialValue;else if(r.type==="setTargetAtTime"&&(s===null||s.type==="setValueAtTime")){const o=this._events.getBefore(r.time);let a;o===null?a=this._initialValue:a=o.value,r.type==="setTargetAtTime"&&(i=this._exponentialApproach(r.time,a,r.value,r.constant,n))}else if(s===null)i=r.value;else if(s.type==="linearRampToValueAtTime"||s.type==="exponentialRampToValueAtTime"){let o=r.value;if(r.type==="setTargetAtTime"){const a=this._events.getBefore(r.time);a===null?o=this._initialValue:o=a.value}s.type==="linearRampToValueAtTime"?i=this._linearInterpolate(r.time,o,s.time,s.value,n):i=this._exponentialInterpolate(r.time,o,s.time,s.value,n)}else i=r.value;return this._toType(i)}setRampPoint(e){e=this.toSeconds(e);let n=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),this._fromType(n)===0&&(n=this._toType(this._minOutput)),this.setValueAtTime(n,e),this}linearRampToValueAtTime(e,n){const s=this._fromType(e),r=this.toSeconds(n);return G(isFinite(s)&&isFinite(r),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(s),this._events.add({time:r,type:"linearRampToValueAtTime",value:s}),this.log(this.units,"linearRampToValueAtTime",e,r),this._param.linearRampToValueAtTime(s,r),this}exponentialRampToValueAtTime(e,n){let s=this._fromType(e);s=Vt(s,0)?this._minOutput:s,this._assertRange(s);const r=this.toSeconds(n);return G(isFinite(s)&&isFinite(r),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({time:r,type:"exponentialRampToValueAtTime",value:s}),this.log(this.units,"exponentialRampToValueAtTime",e,r),this._param.exponentialRampToValueAtTime(s,r),this}exponentialRampTo(e,n,s){return s=this.toSeconds(s),this.setRampPoint(s),this.exponentialRampToValueAtTime(e,s+this.toSeconds(n)),this}linearRampTo(e,n,s){return s=this.toSeconds(s),this.setRampPoint(s),this.linearRampToValueAtTime(e,s+this.toSeconds(n)),this}targetRampTo(e,n,s){return s=this.toSeconds(s),this.setRampPoint(s),this.exponentialApproachValueAtTime(e,s,n),this}exponentialApproachValueAtTime(e,n,s){n=this.toSeconds(n),s=this.toSeconds(s);const r=Math.log(s+1)/Math.log(200);return this.setTargetAtTime(e,n,r),this.cancelAndHoldAtTime(n+s*.9),this.linearRampToValueAtTime(e,n+s),this}setTargetAtTime(e,n,s){const r=this._fromType(e);G(isFinite(s)&&s>0,"timeConstant must be a number greater than 0");const i=this.toSeconds(n);return this._assertRange(r),G(isFinite(r)&&isFinite(i),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({constant:s,time:i,type:"setTargetAtTime",value:r}),this.log(this.units,"setTargetAtTime",e,i,s),this._param.setTargetAtTime(r,i,s),this}setValueCurveAtTime(e,n,s,r=1){s=this.toSeconds(s),n=this.toSeconds(n);const i=this._fromType(e[0])*r;this.setValueAtTime(this._toType(i),n);const o=s/(e.length-1);for(let a=1;a<e.length;a++){const l=this._fromType(e[a])*r;this.linearRampToValueAtTime(this._toType(l),n+a*o)}return this}cancelScheduledValues(e){const n=this.toSeconds(e);return G(isFinite(n),`Invalid argument to cancelScheduledValues: ${JSON.stringify(e)}`),this._events.cancel(n),this._param.cancelScheduledValues(n),this.log(this.units,"cancelScheduledValues",n),this}cancelAndHoldAtTime(e){const n=this.toSeconds(e),s=this._fromType(this.getValueAtTime(n));G(isFinite(n),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(e)}`),this.log(this.units,"cancelAndHoldAtTime",n,"value="+s);const r=this._events.get(n),i=this._events.getAfter(n);return r&&Vt(r.time,n)?i?(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time)):(this._param.cancelAndHoldAtTime(n),this._events.cancel(n+this.sampleTime)):i&&(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time),i.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(s),n):i.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(s),n)),this._events.add({time:n,type:"setValueAtTime",value:s}),this._param.setValueAtTime(s,n),this}rampTo(e,n=.1,s){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(e,n,s):this.linearRampTo(e,n,s),this}apply(e){const n=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(n),n);const s=this._events.get(n);if(s&&s.type==="setTargetAtTime"){const r=this._events.getAfter(s.time),i=r?r.time:n+2,o=(i-n)/10;for(let a=n;a<i;a+=o)e.linearRampToValueAtTime(this.getValueAtTime(a),a)}return this._events.forEachAfter(this.context.currentTime,r=>{r.type==="cancelScheduledValues"?e.cancelScheduledValues(r.time):r.type==="setTargetAtTime"?e.setTargetAtTime(r.value,r.time,r.constant):e[r.type](r.value,r.time)}),this}setParam(e){G(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const n=this.input;return n.disconnect(this._param),this.apply(e),this._param=e,n.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,n,s,r,i){return s+(n-s)*Math.exp(-(i-e)/r)}_linearInterpolate(e,n,s,r,i){return n+(r-n)*((i-e)/(s-e))}_exponentialInterpolate(e,n,s,r,i){return n*Math.pow(r/n,(i-e)/(s-e))}}class X extends Ze{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return Y(this.input)?js(this.input)||this.input instanceof fe?1:this.input.numberOfInputs:0}get numberOfOutputs(){return Y(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return Y(e)&&(e instanceof X||Kn(e))}_getInternalNodes(){const e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach(s=>{s.channelCount=e.channelCount,s.channelCountMode=e.channelCountMode,s.channelInterpretation=e.channelInterpretation})}_getChannelProperties(){const e=this._getInternalNodes();G(e.length>0,"ToneAudioNode does not have any internal nodes");const n=e[0];return{channelCount:n.channelCount,channelCountMode:n.channelCountMode,channelInterpretation:n.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelInterpretation:e}))}connect(e,n=0,s=0){return Mr(this,e,n,s),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return Ba("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e,n=0,s=0){return dT(this,e,n,s),this}chain(...e){return Wc(this,...e),this}fan(...e){return e.forEach(n=>this.connect(n)),this}dispose(){return super.dispose(),Y(this.input)&&(this.input instanceof X?this.input.dispose():Kn(this.input)&&this.input.disconnect()),Y(this.output)&&(this.output instanceof X?this.output.dispose():Kn(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function Wc(...t){const e=t.shift();t.reduce((n,s)=>(n instanceof X?n.connect(s):Kn(n)&&Mr(n,s),s),e)}function Mr(t,e,n=0,s=0){for(G(Y(t),"Cannot connect from undefined node"),G(Y(e),"Cannot connect to undefined node"),(e instanceof X||Kn(e))&&G(e.numberOfInputs>0,"Cannot connect to node with no inputs"),G(t.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof X||e instanceof fe;)Y(e.input)&&(e=e.input);for(;t instanceof X;)Y(t.output)&&(t=t.output);js(e)?t.connect(e,n):t.connect(e,n,s)}function dT(t,e,n=0,s=0){if(Y(e))for(;e instanceof X;)e=e.input;for(;!Kn(t);)Y(t.output)&&(t=t.output);js(e)?t.disconnect(e,n):Kn(e)?t.disconnect(e,n,s):t.disconnect()}class $e extends X{constructor(){const e=H($e.getDefaults(),arguments,["gain","units"]);super(e),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode,this.gain=new fe({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),ve(this,"gain")}static getDefaults(){return Object.assign(X.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class wr extends X{constructor(e){super(e),this.onended=te,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new $e({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(n){const s=this.toSeconds(n);return this._startTime!==-1&&s>=this._startTime&&(this._stopTime===-1||s<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign(X.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:te})}_startGain(e,n=1){G(this._startTime===-1,"Source cannot be started more than once");const s=this.toSeconds(this._fadeIn);return this._startTime=e+s,this._startTime=Math.max(this._startTime,this.context.currentTime),s>0?(this._gainNode.gain.setValueAtTime(0,e),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(n,e+s):this._gainNode.gain.exponentialApproachValueAtTime(n,e,s)):this._gainNode.gain.setValueAtTime(n,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){G(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const n=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+n,this._stopTime=Math.max(this._stopTime,this.now()),n>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,n,e):this._gainNode.gain.targetRampTo(0,n,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const s=this._curve==="exponential"?n*2:0;this._stopSource(this.now()+s),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==te&&(this.onended(this),this.onended=te,!this.context.isOffline)){const e=()=>this.dispose();typeof window.requestIdleCallback<"u"?window.requestIdleCallback(e):setTimeout(e,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),G(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=te,this}}class ih extends wr{constructor(){const e=H(ih.getDefaults(),arguments,["offset"]);super(e),this.name="ToneConstantSource",this._source=this.context.createConstantSource(),Mr(this._source,this._gainNode),this.offset=new fe({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign(wr.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){const n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._source.start(n),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class Oe extends X{constructor(){const e=H(Oe.getDefaults(),arguments,["value","units"]);super(e),this.name="Signal",this.override=!0,this.output=this._constantSource=new ih({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(X.getDefaults(),{convert:!0,units:"number",value:0})}connect(e,n=0,s=0){return oh(this,e,n,s),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,n){return this._param.setValueAtTime(e,n),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,n){return this._param.linearRampToValueAtTime(e,n),this}exponentialRampToValueAtTime(e,n){return this._param.exponentialRampToValueAtTime(e,n),this}exponentialRampTo(e,n,s){return this._param.exponentialRampTo(e,n,s),this}linearRampTo(e,n,s){return this._param.linearRampTo(e,n,s),this}targetRampTo(e,n,s){return this._param.targetRampTo(e,n,s),this}exponentialApproachValueAtTime(e,n,s){return this._param.exponentialApproachValueAtTime(e,n,s),this}setTargetAtTime(e,n,s){return this._param.setTargetAtTime(e,n,s),this}setValueCurveAtTime(e,n,s,r){return this._param.setValueCurveAtTime(e,n,s,r),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,n,s){return this._param.rampTo(e,n,s),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}}function oh(t,e,n,s){(e instanceof fe||js(e)||e instanceof Oe&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof Oe&&(e.overridden=!0)),Mr(t,e,n,s)}class ah extends fe{constructor(){const e=H(ah.getDefaults(),arguments,["value"]);super(e),this.name="TickParam",this._events=new Ot(1/0),this._multiplier=1,this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(fe.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,n,s){n=this.toSeconds(n),this.setRampPoint(n);const r=this._fromType(e),i=this._events.get(n),o=Math.round(Math.max(1/s,1));for(let a=0;a<=o;a++){const l=s*a+n,c=this._exponentialApproach(i.time,i.value,r,s,l);this.linearRampToValueAtTime(this._toType(c),l)}return this}setValueAtTime(e,n){const s=this.toSeconds(n);super.setValueAtTime(e,n);const r=this._events.get(s),i=this._events.previousEvent(r),o=this._getTicksUntilEvent(i,s);return r.ticks=Math.max(o,0),this}linearRampToValueAtTime(e,n){const s=this.toSeconds(n);super.linearRampToValueAtTime(e,n);const r=this._events.get(s),i=this._events.previousEvent(r),o=this._getTicksUntilEvent(i,s);return r.ticks=Math.max(o,0),this}exponentialRampToValueAtTime(e,n){n=this.toSeconds(n);const s=this._fromType(e),r=this._events.get(n),i=Math.round(Math.max((n-r.time)*10,1)),o=(n-r.time)/i;for(let a=0;a<=i;a++){const l=o*a+r.time,c=this._exponentialInterpolate(r.time,r.value,n,s,l);this.linearRampToValueAtTime(this._toType(c),l)}return this}_getTicksUntilEvent(e,n){if(e===null)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(St(e.ticks)){const o=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(o,e.time)}const s=this._fromType(this.getValueAtTime(e.time));let r=this._fromType(this.getValueAtTime(n));const i=this._events.get(n);return i&&i.time===n&&i.type==="setValueAtTime"&&(r=this._fromType(this.getValueAtTime(n-this.sampleTime))),.5*(n-e.time)*(s+r)+e.ticks}getTicksAtTime(e){const n=this.toSeconds(e),s=this._events.get(n);return Math.max(this._getTicksUntilEvent(s,n),0)}getDurationOfTicks(e,n){const s=this.toSeconds(n),r=this.getTicksAtTime(n);return this.getTimeOfTick(r+e)-s}getTimeOfTick(e){const n=this._events.get(e,"ticks"),s=this._events.getAfter(e,"ticks");if(n&&n.ticks===e)return n.time;if(n&&s&&s.type==="linearRampToValueAtTime"&&n.value!==s.value){const r=this._fromType(this.getValueAtTime(n.time)),o=(this._fromType(this.getValueAtTime(s.time))-r)/(s.time-n.time),a=Math.sqrt(Math.pow(r,2)-2*o*(n.ticks-e)),l=(-r+a)/o,c=(-r-a)/o;return(l>0?l:c)+n.time}else return n?n.value===0?1/0:n.time+(e-n.ticks)/n.value:e/this._initialValue}ticksToTime(e,n){return this.getDurationOfTicks(e,n)}timeToTicks(e,n){const s=this.toSeconds(n),r=this.toSeconds(e),i=this.getTicksAtTime(s);return this.getTicksAtTime(s+r)-i}_fromType(e){return this.units==="bpm"&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return this.units==="bpm"&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){const n=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(n,0)}}class lh extends Oe{constructor(){const e=H(lh.getDefaults(),arguments,["value"]);super(e),this.name="TickSignal",this.input=this._param=new ah({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(Oe.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,n){return this._param.ticksToTime(e,n)}timeToTicks(e,n){return this._param.timeToTicks(e,n)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,n){return this._param.getDurationOfTicks(e,n)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}}class ch extends Ze{constructor(){const e=H(ch.getDefaults(),arguments,["frequency"]);super(e),this.name="TickSource",this._state=new Wi,this._tickOffset=new Ot,this._ticksAtTime=new Ot,this._secondsAtTime=new Ot,this.frequency=new lh({context:this.context,units:e.units,value:e.frequency}),ve(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},Ze.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,n){const s=this.toSeconds(e);return this._state.getValueAtTime(s)!=="started"&&(this._state.setStateAtTime("started",s),Y(n)&&this.setTicksAtTime(n,s),this._ticksAtTime.cancel(s),this._secondsAtTime.cancel(s)),this}stop(e){const n=this.toSeconds(e);if(this._state.getValueAtTime(n)==="stopped"){const s=this._state.get(n);s&&s.time>0&&(this._tickOffset.cancel(s.time),this._state.cancel(s.time))}return this._state.cancel(n),this._state.setStateAtTime("stopped",n),this.setTicksAtTime(0,n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n),this}pause(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&(this._state.setStateAtTime("paused",n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n)),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}getTicksAtTime(e){const n=this.toSeconds(e),s=this._state.getLastState("stopped",n),r=this._ticksAtTime.get(n),i={state:"paused",time:n};this._state.add(i);let o=r||s,a=r?r.ticks:0,l=null;return this._state.forEachBetween(o.time,n+this.sampleTime,c=>{let h=o.time;const d=this._tickOffset.get(c.time);d&&d.time>=o.time&&(a=d.ticks,h=d.time),o.state==="started"&&c.state!=="started"&&(a+=this.frequency.getTicksAtTime(c.time)-this.frequency.getTicksAtTime(h),c.time!==i.time&&(l={state:c.state,time:c.time,ticks:a})),o=c}),this._state.remove(i),l&&this._ticksAtTime.add(l),a}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){const n=this.now(),s=this.frequency.timeToTicks(e,n);this.setTicksAtTime(s,n)}getSecondsAtTime(e){e=this.toSeconds(e);const n=this._state.getLastState("stopped",e),s={state:"paused",time:e};this._state.add(s);const r=this._secondsAtTime.get(e);let i=r||n,o=r?r.seconds:0,a=null;return this._state.forEachBetween(i.time,e+this.sampleTime,l=>{let c=i.time;const h=this._tickOffset.get(l.time);h&&h.time>=i.time&&(o=h.seconds,c=h.time),i.state==="started"&&l.state!=="started"&&(o+=l.time-c,l.time!==s.time&&(a={state:l.state,time:l.time,seconds:o})),i=l}),this._state.remove(s),a&&this._secondsAtTime.add(a),o}setTicksAtTime(e,n){return n=this.toSeconds(n),this._tickOffset.cancel(n),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,n),ticks:e,time:n}),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e,n=this.now()){const s=this._tickOffset.get(n),r=this._state.get(n),i=Math.max(s.time,r.time),o=this.frequency.getTicksAtTime(i)+e-s.ticks;return this.frequency.getTimeOfTick(o)}forEachTickBetween(e,n,s){let r=this._state.get(e);this._state.forEachBetween(e,n,o=>{r&&r.state==="started"&&o.state!=="started"&&this.forEachTickBetween(Math.max(r.time,e),o.time-this.sampleTime,s),r=o});let i=null;if(r&&r.state==="started"){const o=Math.max(r.time,e),a=this.frequency.getTicksAtTime(o),l=this.frequency.getTicksAtTime(r.time),c=a-l;let h=Math.ceil(c)-c;h=Vt(h,1)?0:h;let d=this.frequency.getTimeOfTick(a+h);for(;d<n;){try{s(d,Math.round(this.getTicksAtTime(d)))}catch(p){i=p;break}d+=this.frequency.getDurationOfTicks(1,d)}}if(i)throw i;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}class Ha extends Ze{constructor(){const e=H(Ha.getDefaults(),arguments,["callback","frequency"]);super(e),this.name="Clock",this.callback=te,this._lastUpdate=0,this._state=new Wi("stopped"),this._boundLoop=this._loop.bind(this),this.callback=e.callback,this._tickSource=new ch({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,ve(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(Ze.getDefaults(),{callback:te,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,n){Cg(this.context);const s=this.toSeconds(e);return this.log("start",s),this._state.getValueAtTime(s)!=="started"&&(this._state.setStateAtTime("started",s),this._tickSource.start(s,n),s<this._lastUpdate&&this.emit("start",s,n)),this}stop(e){const n=this.toSeconds(e);return this.log("stop",n),this._state.cancel(n),this._state.setStateAtTime("stopped",n),this._tickSource.stop(n),n<this._lastUpdate&&this.emit("stop",n),this}pause(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&(this._state.setStateAtTime("paused",n),this._tickSource.pause(n),n<this._lastUpdate&&this.emit("pause",n)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,n){return this._tickSource.setTicksAtTime(e,n),this}getTimeOfTick(e,n=this.now()){return this._tickSource.getTimeOfTick(e,n)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,n){const s=this.toSeconds(n),r=this.getTicksAtTime(s);return this._tickSource.getTimeOfTick(r+e,s)}_loop(){const e=this._lastUpdate,n=this.now();this._lastUpdate=n,this.log("loop",e,n),e!==n&&(this._state.forEachBetween(e,n,s=>{switch(s.state){case"started":const r=this._tickSource.getTicksAtTime(s.time);this.emit("start",s.time,r);break;case"stopped":s.time!==0&&this.emit("stop",s.time);break;case"paused":this.emit("pause",s.time);break}}),this._tickSource.forEachTickBetween(e,n,(s,r)=>{this.callback(s,r)}))}getStateAtTime(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}Vi.mixin(Ha);class Pr extends X{constructor(){const e=H(Pr.getDefaults(),arguments,["volume"]);super(e),this.name="Volume",this.input=this.output=new $e({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,ve(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign(X.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class uh extends X{constructor(){const e=H(uh.getDefaults(),arguments);super(e),this.name="Destination",this.input=new Pr({context:this.context}),this.output=new $e({context:this.context}),this.volume=this.input.volume,Wc(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(X.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(...e){return this.input.disconnect(),e.unshift(this.input),e.push(this.output),Wc(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}Ua(t=>{t.destination=new uh({context:t})});$a(t=>{t.destination.dispose()});class fT extends X{constructor(){super(...arguments),this.name="Listener",this.positionX=new fe({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new fe({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new fe({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new fe({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new fe({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new fe({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new fe({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new fe({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new fe({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(X.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}Ua(t=>{t.listener=new fT({context:t})});$a(t=>{t.listener.dispose()});class hh extends Cn{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const e=H(hh.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach(n=>{this._loadingCount++;const s=e.urls[n];this.add(n,s,this._bufferLoaded.bind(this,e.onload),e.onerror)})}static getDefaults(){return{baseUrl:"",onerror:te,onload:te,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return G(this.has(e),`ToneAudioBuffers has no buffer named: ${e}`),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,this._loadingCount===0&&e&&e()}get loaded(){return Array.from(this._buffers).every(([e,n])=>n.loaded)}add(e,n,s=te,r=te){return rn(n)?(this.baseUrl&&n.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(e.toString(),new ae(this.baseUrl+n,s,r))):this._buffers.set(e.toString(),new ae(n,s,r)),this}dispose(){return super.dispose(),this._buffers.forEach(e=>e.dispose()),this._buffers.clear(),this}}class ma extends xt{constructor(){super(...arguments),this.name="MidiClass",this.defaultUnits="midi"}_frequencyToUnits(e){return vs(super._frequencyToUnits(e))}_ticksToUnits(e){return vs(super._ticksToUnits(e))}_beatsToUnits(e){return vs(super._beatsToUnits(e))}_secondsToUnits(e){return vs(super._secondsToUnits(e))}toMidi(){return this.valueOf()}toFrequency(){return bg(this.toMidi())}transpose(e){return new ma(this.context,this.toMidi()+e)}}class xe extends lr{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class pT extends Ze{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new Ot,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,n){return this._events.add({callback:e,time:this.toSeconds(n)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){const e=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=e;){const n=this._events.shift();n&&e-n.time<=this.expiration&&n.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}Ua(t=>{t.draw=new pT({context:t})});$a(t=>{t.draw.dispose()});class mT extends Cn{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){G(Y(e.time),"Events must have a time property"),G(Y(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let n=new gT(e.time,e.time+e.duration,e);for(this._root===null?this._root=n:this._root.insert(n),this._length++;n!==null;)n.updateHeight(),n.updateMax(),this._rebalance(n),n=n.parent;return this}remove(e){if(this._root!==null){const n=[];this._root.search(e.time,n);for(const s of n)if(s.event===e){this._removeNode(s),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,n=>this.remove(n)),this}_setRoot(e){this._root=e,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(e,n){e.parent!==null?(e.isLeftChild()?e.parent.left=n:e.parent.right=n,this._rebalance(e.parent)):this._setRoot(n)}_removeNode(e){if(e.left===null&&e.right===null)this._replaceNodeInParent(e,null);else if(e.right===null)this._replaceNodeInParent(e,e.left);else if(e.left===null)this._replaceNodeInParent(e,e.right);else{const n=e.getBalance();let s,r=null;if(n>0)if(e.left.right===null)s=e.left,s.right=e.right,r=s;else{for(s=e.left.right;s.right!==null;)s=s.right;s.parent&&(s.parent.right=s.left,r=s.parent,s.left=e.left,s.right=e.right)}else if(e.right.left===null)s=e.right,s.left=e.left,r=s;else{for(s=e.right.left;s.left!==null;)s=s.left;s.parent&&(s.parent.left=s.right,r=s.parent,s.left=e.left,s.right=e.right)}e.parent!==null?e.isLeftChild()?e.parent.left=s:e.parent.right=s:this._setRoot(s),r&&this._rebalance(r)}e.dispose()}_rotateLeft(e){const n=e.parent,s=e.isLeftChild(),r=e.right;r&&(e.right=r.left,r.left=e),n!==null?s?n.left=r:n.right=r:this._setRoot(r)}_rotateRight(e){const n=e.parent,s=e.isLeftChild(),r=e.left;r&&(e.left=r.right,r.right=e),n!==null?s?n.left=r:n.right=r:this._setRoot(r)}_rebalance(e){const n=e.getBalance();n>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):n<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(this._root!==null){const n=[];if(this._root.search(e,n),n.length>0){let s=n[0];for(let r=1;r<n.length;r++)n[r].low>s.low&&(s=n[r]);return s.event}}return null}forEach(e){if(this._root!==null){const n=[];this._root.traverse(s=>n.push(s)),n.forEach(s=>{s.event&&e(s.event)})}return this}forEachAtTime(e,n){if(this._root!==null){const s=[];this._root.search(e,s),s.forEach(r=>{r.event&&n(r.event)})}return this}forEachFrom(e,n){if(this._root!==null){const s=[];this._root.searchAfter(e,s),s.forEach(r=>{r.event&&n(r.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(e=>e.dispose()),this._root=null,this}}class gT{constructor(e,n,s){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=s,this.low=e,this.high=n,this.max=this.high}insert(e){e.low<=this.low?this.left===null?this.left=e:this.left.insert(e):this.right===null?this.right=e:this.right.insert(e)}search(e,n){e>this.max||(this.left!==null&&this.left.search(e,n),this.low<=e&&this.high>e&&n.push(this),!(this.low>e)&&this.right!==null&&this.right.search(e,n))}searchAfter(e,n){this.low>=e&&(n.push(this),this.left!==null&&this.left.searchAfter(e,n)),this.right!==null&&this.right.searchAfter(e,n)}traverse(e){e(this),this.left!==null&&this.left.traverse(e),this.right!==null&&this.right.traverse(e)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return this.left!==null&&this.right!==null?e=this.left.height-this.right.height:this.left!==null?e=this.left.height+1:this.right!==null&&(e=-(this.right.height+1)),e}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class vT extends Cn{constructor(e){super(),this.name="TimelineValue",this._timeline=new Ot({memory:10}),this._initialValue=e}set(e,n){return this._timeline.add({value:e,time:n}),this}get(e){const n=this._timeline.get(e);return n?n.value:this._initialValue}}class Sr extends X{constructor(){super(H(Sr.getDefaults(),arguments,["context"]))}connect(e,n=0,s=0){return oh(this,e,n,s),this}}class Bi extends Sr{constructor(){const e=H(Bi.getDefaults(),arguments,["mapping","length"]);super(e),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper,Ke(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):Uk(e.mapping)&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(Oe.getDefaults(),{length:1024})}setMap(e,n=1024){const s=new Float32Array(n);for(let r=0,i=n;r<i;r++){const o=r/(i-1)*2-1;s[r]=e(o,r)}return this.curve=s,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){const n=["none","2x","4x"].some(s=>s.includes(e));G(n,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class dh extends Sr{constructor(){const e=H(dh.getDefaults(),arguments,["value"]);super(e),this.name="Pow",this._exponentScaler=this.input=this.output=new Bi({context:this.context,mapping:this._expFunc(e.value),length:8192}),this._exponent=e.value}static getDefaults(){return Object.assign(Sr.getDefaults(),{value:1})}_expFunc(e){return n=>Math.pow(Math.abs(n),e)}get value(){return this._exponent}set value(e){this._exponent=e,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class ts{constructor(e,n){this.id=ts._eventId++,this._remainderTime=0;const s=Object.assign(ts.getDefaults(),n);this.transport=e,this.callback=s.callback,this._once=s.once,this.time=Math.floor(s.time),this._remainderTime=s.time-this.time}static getDefaults(){return{callback:te,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(e){if(this.callback){const n=this.transport.bpm.getDurationOfTicks(1,e);this.callback(e+this._remainderTime*n),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}ts._eventId=0;class fh extends ts{constructor(e,n){super(e,n),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const s=Object.assign(fh.getDefaults(),n);this.duration=s.duration,this._interval=s.interval,this._nextTick=s.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},ts.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvent(){return pa(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new xe(this.context,this._nextTick).toSeconds()):-1}_createEvents(e){pa(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new xe(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const n=this.transport.getTicksAtTime(e);xr(n,this.time)&&(this._nextTick=this.floatTime+Math.ceil((n-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class Ga extends Ze{constructor(){const e=H(Ga.getDefaults(),arguments);super(e),this.name="Transport",this._loop=new vT(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new Ot,this._repeatedEvents=new mT,this._syncedSignals=[],this._swingAmount=0,this._ppq=e.ppq,this._clock=new Ha({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),ve(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(Ze.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,n){if(this._loop.get(e)&&n>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),n=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&n%this._ppq!==0&&n%(this._swingTicks*2)!==0){const s=n%(this._swingTicks*2)/(this._swingTicks*2),r=Math.sin(s*Math.PI)*this._swingAmount;e+=new xe(this.context,this._swingTicks*2/3).toSeconds()*r}nf(!0),this._timeline.forEachAtTime(n,s=>s.invoke(e)),nf(!1)}schedule(e,n){const s=new ts(this,{callback:e,time:new lr(this.context,n).toTicks()});return this._addEvent(s,this._timeline)}scheduleRepeat(e,n,s,r=1/0){const i=new fh(this,{callback:e,duration:new Wt(this.context,r).toTicks(),interval:new Wt(this.context,n).toTicks(),time:new lr(this.context,s).toTicks()});return this._addEvent(i,this._repeatedEvents)}scheduleOnce(e,n){const s=new ts(this,{callback:e,once:!0,time:new lr(this.context,n).toTicks()});return this._addEvent(s,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){const n=this._scheduledEvents[e.toString()];n.timeline.remove(n.event),n.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,n){return this._scheduledEvents[e.id.toString()]={event:e,timeline:n},n.add(e),e.id}cancel(e=0){const n=this.toTicks(e);return this._timeline.forEachFrom(n,s=>this.clear(s.id)),this._repeatedEvents.forEachFrom(n,s=>this.clear(s.id)),this}_bindClockEvents(){this._clock.on("start",(e,n)=>{n=new xe(this.context,n).toSeconds(),this.emit("start",e,n)}),this._clock.on("stop",e=>{this.emit("stop",e)}),this._clock.on("pause",e=>{this.emit("pause",e)})}get state(){return this._clock.getStateAtTime(this.now())}start(e,n){this.context.resume();let s;return Y(n)&&(s=this.toTicks(n)),this._clock.start(e,s),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),this._clock.getStateAtTime(e)!=="started"?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){Ke(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new Wt(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new Wt(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new xe(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){const e=this.now(),n=this._clock.getTicksAtTime(e);return new xe(this.context,n).toBarsBeatsSixteenths()}set position(e){const n=this.toTicks(e);this.ticks=n}get seconds(){return this._clock.seconds}set seconds(e){const n=this.now(),s=this._clock.frequency.timeToTicks(e,n);this.ticks=s}get progress(){if(this.loop){const e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){const n=this.now();if(this.state==="started"){const s=this._clock.getTicksAtTime(n),r=this._clock.frequency.getDurationOfTicks(Math.ceil(s)-s,n),i=n+r;this.emit("stop",i),this._clock.setTicksAtTime(e,i),this.emit("start",i,this._clock.getSecondsAtTime(i))}else this.emit("ticks",n),this._clock.setTicksAtTime(e,n)}}getTicksAtTime(e){return this._clock.getTicksAtTime(e)}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),this.state!=="started")return 0;{const n=this.now(),s=this.getTicksAtTime(n),r=e-s%e;return this._clock.nextTickTime(r,n)}}syncSignal(e,n){const s=this.now();let r=this.bpm,i=1/(60/r.getValueAtTime(s)/this.PPQ),o=[];if(e.units==="time"){const l=.015625/i,c=new $e(l),h=new dh(-1),d=new $e(l);r.chain(c,h,d),r=d,i=1/i,o=[c,h,d]}n||(e.getValueAtTime(s)!==0?n=e.getValueAtTime(s)/i:n=0);const a=new $e(n);return r.connect(a),a.connect(e._param),o.push(a),this._syncedSignals.push({initial:e.value,nodes:o,signal:e}),e.value=0,this}unsyncSignal(e){for(let n=this._syncedSignals.length-1;n>=0;n--){const s=this._syncedSignals[n];s.signal===e&&(s.nodes.forEach(r=>r.dispose()),s.signal.value=s.initial,this._syncedSignals.splice(n,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),Og(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}Vi.mixin(Ga);Ua(t=>{t.transport=new Ga({context:t})});$a(t=>{t.transport.dispose()});class ot extends X{constructor(e){super(e),this.input=void 0,this._state=new Wi("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=te,this._syncedStop=te,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new Pr({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,ve(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign(X.getDefaults(),{mute:!1,onstop:te,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,n,s){let r=St(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(r=this._clampToCurrentTime(r),!this._synced&&this._state.getValueAtTime(r)==="started")G(xr(r,this._state.get(r).time),"Start time must be strictly greater than previous start time"),this._state.cancel(r),this._state.setStateAtTime("started",r),this.log("restart",r),this.restart(r,n,s);else if(this.log("start",r),this._state.setStateAtTime("started",r),this._synced){const i=this._state.get(r);i&&(i.offset=this.toSeconds(tn(n,0)),i.duration=s?this.toSeconds(s):void 0);const o=this.context.transport.schedule(a=>{this._start(a,n,s)},r);this._scheduled.push(o),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>r&&this._syncedStart(this.now(),this.context.transport.seconds)}else Cg(this.context),this._start(r,n,s);return this}stop(e){let n=St(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(n=this._clampToCurrentTime(n),this._state.getValueAtTime(n)==="started"||Y(this._state.getNextState("started",n))){if(this.log("stop",n),!this._synced)this._stop(n);else{const s=this.context.transport.schedule(this._stop.bind(this),n);this._scheduled.push(s)}this._state.cancel(n),this._state.setStateAtTime("stopped",n)}return this}restart(e,n,s){return e=this.toSeconds(e),this._state.getValueAtTime(e)==="started"&&(this._state.cancel(e),this._restart(e,n,s)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,n)=>{if(xr(n,0)){const s=this._state.get(n);if(s&&s.state==="started"&&s.time!==n){const r=n-this.toSeconds(s.time);let i;s.duration&&(i=this.toSeconds(s.duration)-r),this._start(e,this.toSeconds(s.offset)+r,i)}}},this._syncedStop=e=>{const n=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));this._state.getValueAtTime(n)==="started"&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(e=>this.context.transport.clear(e)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=te,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class Qa extends wr{constructor(){const e=H(Qa.getDefaults(),arguments,["url","onload"]);super(e),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1,Mr(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new fe({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new ae(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(wr.getDefaults(),{url:new ae,loop:!1,loopEnd:0,loopStart:0,onload:te,onerror:te,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,n,s,r=1){G(this.buffer.loaded,"buffer is either not set or not loaded");const i=this.toSeconds(e);this._startGain(i,r),this.loop?n=tn(n,this.loopStart):n=tn(n,0);let o=Math.max(this.toSeconds(n),0);if(this.loop){const a=this.toSeconds(this.loopEnd)||this.buffer.duration,l=this.toSeconds(this.loopStart),c=a-l;zc(o,a)&&(o=(o-l)%c+l),Vt(o,this.buffer.duration)&&(o=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,pa(o,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(i,o)),Y(s)){let a=this.toSeconds(s);a=Math.max(a,0),this.stop(i+a)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function Fs(t,e){return Ie(this,void 0,void 0,function*(){const n=e/t.context.sampleRate,s=new nh(1,n,t.context.sampleRate);return new t.constructor(Object.assign(t.get(),{frequency:2/n,detune:0,context:s})).toDestination().start(0),(yield s.render()).getChannelData(0)})}class ph extends wr{constructor(){const e=H(ph.getDefaults(),arguments,["frequency","type"]);super(e),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator],Mr(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new fe({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new fe({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),ve(this,["frequency","detune"])}static getDefaults(){return Object.assign(wr.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){const n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._oscillator.start(n),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class Ae extends ot{constructor(){const e=H(Ae.getDefaults(),arguments,["frequency","type"]);super(e),this.name="Oscillator",this._oscillator=null,this.frequency=new Oe({context:this.context,units:"frequency",value:e.frequency}),ve(this,"frequency"),this.detune=new Oe({context:this.context,units:"cents",value:e.detune}),ve(this,"detune"),this._partials=e.partials,this._partialCount=e.partialCount,this._type=e.type,e.partialCount&&e.type!=="custom"&&(this._type=this.baseType+e.partialCount.toString()),this.phase=e.phase}static getDefaults(){return Object.assign(ot.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(e){const n=this.toSeconds(e),s=new ph({context:this.context,onended:()=>this.onstop(this)});this._oscillator=s,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(n)}_stop(e){const n=this.toSeconds(e);this._oscillator&&this._oscillator.stop(n)}_restart(e){const n=this.toSeconds(e);return this.log("restart",n),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(n),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return Ae._periodicWaveCache.find(n=>n.phase===this._phase&&Jk(n.partials,this._partials));{const e=Ae._periodicWaveCache.find(n=>n.type===this._type&&n.phase===this._phase);return this._partialCount=e?e.partialCount:this._partialCount,e}}get type(){return this._type}set type(e){this._type=e;const n=["sine","square","sawtooth","triangle"].indexOf(e)!==-1;if(this._phase===0&&n)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=e);else{const s=this._getCachedPeriodicWave();if(Y(s)){const{partials:r,wave:i}=s;this._wave=i,this._partials=r,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[r,i]=this._getRealImaginary(e,this._phase),o=this.context.createPeriodicWave(r,i);this._wave=o,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),Ae._periodicWaveCache.push({imag:i,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:r,type:this._type,wave:this._wave}),Ae._periodicWaveCache.length>100&&Ae._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(e){this.partialCount&&this._type!=="custom"&&e!=="custom"?this.type=e+this.partialCount:this.type=e}get partialCount(){return this._partialCount}set partialCount(e){es(e,0);let n=this._type;const s=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(s&&(n=s[1]),this._type!=="custom")e===0?this.type=n:this.type=n+e.toString();else{const r=new Float32Array(e);this._partials.forEach((i,o)=>r[o]=i),this._partials=Array.from(r),this.type=this._type}}_getRealImaginary(e,n){let r=2048;const i=new Float32Array(r),o=new Float32Array(r);let a=1;if(e==="custom"){if(a=this._partials.length+1,this._partialCount=this._partials.length,r=a,this._partials.length===0)return[i,o]}else{const l=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(e);l?(a=parseInt(l[2],10)+1,this._partialCount=parseInt(l[2],10),e=l[1],a=Math.max(a,2),r=a):this._partialCount=0,this._partials=[]}for(let l=1;l<r;++l){const c=2/(l*Math.PI);let h;switch(e){case"sine":h=l<=a?1:0,this._partials[l-1]=h;break;case"square":h=l&1?2*c:0,this._partials[l-1]=h;break;case"sawtooth":h=c*(l&1?1:-1),this._partials[l-1]=h;break;case"triangle":l&1?h=2*(c*c)*(l-1>>1&1?-1:1):h=0,this._partials[l-1]=h;break;case"custom":h=this._partials[l-1];break;default:throw new TypeError("Oscillator: invalid type: "+e)}h!==0?(i[l]=-h*Math.sin(n*l),o[l]=h*Math.cos(n*l)):(i[l]=0,o[l]=0)}return[i,o]}_inverseFFT(e,n,s){let r=0;const i=e.length;for(let o=0;o<i;o++)r+=e[o]*Math.cos(o*s)+n[o]*Math.sin(o*s);return r}getInitialValue(){const[e,n]=this._getRealImaginary(this._type,0);let s=0;const r=Math.PI*2,i=32;for(let o=0;o<i;o++)s=Math.max(this._inverseFFT(e,n,o/i*r),s);return tT(-this._inverseFFT(e,n,this._phase)/s,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(e){this._phase=e*Math.PI/180,this.type=this._type}asArray(){return Ie(this,arguments,void 0,function*(e=1024){return Fs(this,e)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}Ae._periodicWaveCache=[];class Dg extends Sr{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new Bi({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Is extends Oe{constructor(){const e=H(Is.getDefaults(),arguments,["value"]);super(e),this.name="Multiply",this.override=!1,this._mult=this.input=this.output=new $e({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Oe.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class Ya extends ot{constructor(){const e=H(Ya.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="AMOscillator",this._modulationScale=new Dg({context:this.context}),this._modulationNode=new $e({context:this.context}),this._carrier=new Ae({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new Ae({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new Is({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),ve(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Ae.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return Ie(this,arguments,void 0,function*(e=1024){return Fs(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class Xa extends ot{constructor(){const e=H(Xa.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="FMOscillator",this._modulationNode=new $e({context:this.context,gain:0}),this._carrier=new Ae({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new Oe({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new Ae({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new Is({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new Is({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),ve(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Ae.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return Ie(this,arguments,void 0,function*(e=1024){return Fs(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class Ui extends ot{constructor(){const e=H(Ui.getDefaults(),arguments,["frequency","width"]);super(e),this.name="PulseOscillator",this._widthGate=new $e({context:this.context,gain:0}),this._thresh=new Bi({context:this.context,mapping:n=>n<=0?-1:1}),this.width=new Oe({context:this.context,units:"audioRange",value:e.width}),this._triangle=new Ae({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),ve(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(ot.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(){return Ie(this,arguments,void 0,function*(e=1024){return Fs(this,e)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class Ka extends ot{constructor(){const e=H(Ka.getDefaults(),arguments,["frequency","type","spread"]);super(e),this.name="FatOscillator",this._oscillators=[],this.frequency=new Oe({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Oe({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,ve(this,["frequency","detune"])}static getDefaults(){return Object.assign(Ae.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach(n=>n.start(e))}_stop(e){e=this.toSeconds(e),this._forEach(n=>n.stop(e))}_restart(e){this._forEach(n=>n.restart(e))}_forEach(e){for(let n=0;n<this._oscillators.length;n++)e(this._oscillators[n],n)}get type(){return this._type}set type(e){this._type=e,this._forEach(n=>n.type=e)}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){const n=-e/2,s=e/(this._oscillators.length-1);this._forEach((r,i)=>r.detune.value=n+s*i)}}get count(){return this._oscillators.length}set count(e){if(es(e,1),this._oscillators.length!==e){this._forEach(n=>n.dispose()),this._oscillators=[];for(let n=0;n<e;n++){const s=new Ae({context:this.context,volume:-6-e*1.1,type:this._type,phase:this._phase+n/e*360,partialCount:this._partialCount,onstop:n===0?()=>this.onstop(this):te});this.type==="custom"&&(s.partials=this._partials),this.frequency.connect(s.frequency),this.detune.connect(s.detune),s.detune.overridden=!1,s.connect(this.output),this._oscillators[n]=s}this.spread=this._spread,this.state==="started"&&this._forEach(n=>n.start())}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach((n,s)=>n.phase=this._phase+s/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach(n=>n.baseType=e),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach(n=>n.partials=e))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach(n=>n.partialCount=e),this._type=this._oscillators[0].type}asArray(){return Ie(this,arguments,void 0,function*(e=1024){return Fs(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(e=>e.dispose()),this}}class Za extends ot{constructor(){const e=H(Za.getDefaults(),arguments,["frequency","modulationFrequency"]);super(e),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new Is({context:this.context,value:2}),this._pulse=new Ui({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new Ae({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),ve(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(ot.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(){return Ie(this,arguments,void 0,function*(e=1024){return Fs(this,e)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const sf={am:Ya,fat:Ka,fm:Xa,oscillator:Ae,pulse:Ui,pwm:Za};class kr extends ot{constructor(){const e=H(kr.getDefaults(),arguments,["frequency","type"]);super(e),this.name="OmniOscillator",this.frequency=new Oe({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Oe({context:this.context,units:"cents",value:e.detune}),ve(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(Ae.getDefaults(),Xa.getDefaults(),Ya.getDefaults(),Ka.getDefaults(),Ui.getDefaults(),Za.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some(n=>this._sourceType===n)&&(e=this._sourceType),e+this._oscillator.type}set type(e){e.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):e==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):e==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;const n=sf[e],s=this.now();if(this._oscillator){const r=this._oscillator;r.stop(s),this.context.setTimeout(()=>r.dispose(),this.blockTime)}this._oscillator=new n({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(s)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let n="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(n=this._oscillator.type),e==="fm"?this.type="fm"+n:e==="am"?this.type="am"+n:e==="fat"?this.type="fat"+n:e==="oscillator"?this.type=n:e==="pulse"?this.type="pulse":e==="pwm"&&(this.type="pwm")}_getOscType(e,n){return e instanceof sf[n]}get baseType(){return this._oscillator.baseType}set baseType(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&e!=="pulse"&&e!=="pwm"&&(this._oscillator.baseType=e)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(e){this._getOscType(this._oscillator,"fat")&&sn(e)&&(this._oscillator.count=e)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(e){this._getOscType(this._oscillator,"fat")&&sn(e)&&(this._oscillator.spread=e)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&rn(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(){return Ie(this,arguments,void 0,function*(e=1024){return Fs(this,e)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}function Fg(t,e=1/0){const n=new WeakMap;return function(s,r){Reflect.defineProperty(s,r,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(i){es(i,t,e),n.set(this,i)}})}}function Nn(t,e=1/0){const n=new WeakMap;return function(s,r){Reflect.defineProperty(s,r,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(i){es(this.toSeconds(i),t,e),n.set(this,i)}})}}class Ja extends ot{constructor(){const e=H(Ja.getDefaults(),arguments,["url","onload"]);super(e),this.name="Player",this._activeSources=new Set,this._buffer=new ae({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(ot.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:te,onerror:te,playbackRate:1,reverse:!1})}load(e){return Ie(this,void 0,void 0,function*(){return yield this._buffer.load(e),this._onload(),this})}_onload(e=te){e(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,n,s){return super.start(e,n,s),this}_start(e,n,s){this._loop?n=tn(n,this._loopStart):n=tn(n,0);const r=this.toSeconds(n),i=s;s=tn(s,Math.max(this._buffer.duration-r,0));let o=this.toSeconds(s);o=o/this._playbackRate,e=this.toSeconds(e);const a=new Qa({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(e+o),this._state.setStateAtTime("stopped",e+o,{implicitEnd:!0})),this._activeSources.add(a),this._loop&&St(i)?a.start(e,r):a.start(e,r,o-this.toSeconds(this.fadeOut))}_stop(e){const n=this.toSeconds(e);this._activeSources.forEach(s=>s.stop(n))}restart(e,n,s){return super.restart(e,n,s),this}_restart(e,n,s){var r;(r=[...this._activeSources].pop())===null||r===void 0||r.stop(e),this._start(e,n,s)}seek(e,n){const s=this.toSeconds(n);if(this._state.getValueAtTime(s)==="started"){const r=this.toSeconds(e);this._stop(s),this._start(s,r)}return this}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&es(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopStart=e})}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&es(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopEnd=e})}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach(n=>{n.loop=e}),e)){const n=this._state.getNextState("stopped",this.now());n&&this._state.cancel(n.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;const n=this.now(),s=this._state.getNextState("stopped",n);s&&s.implicitEnd&&(this._state.cancel(s.time),this._activeSources.forEach(r=>r.cancelStop())),this._activeSources.forEach(r=>{r.playbackRate.setValueAtTime(e,n)})}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(e=>e.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}Qt([Nn(0)],Ja.prototype,"fadeIn",void 0);Qt([Nn(0)],Ja.prototype,"fadeOut",void 0);class on extends X{constructor(){const e=H(on.getDefaults(),arguments,["attack","decay","sustain","release"]);super(e),this.name="Envelope",this._sig=new Oe({context:this.context,value:0}),this.output=this._sig,this.input=void 0,this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign(X.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,n){if(rn(e))return e;{let s;for(s in fo)if(fo[s][n]===e)return s;return e}}_setCurve(e,n,s){if(rn(s)&&Reflect.has(fo,s)){const r=fo[s];Xn(r)?e!=="_decayCurve"&&(this[e]=r[n]):this[e]=r}else if(Ke(s)&&e!=="_decayCurve")this[e]=s;else throw new Error("Envelope: invalid curve: "+s)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(e){this._setCurve("_decayCurve","Out",e)}triggerAttack(e,n=1){this.log("triggerAttack",e,n),e=this.toSeconds(e);let r=this.toSeconds(this.attack);const i=this.toSeconds(this.decay),o=this.getValueAtTime(e);if(o>0){const a=1/r;r=(1-o)/a}if(r<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(n,e);else if(this._attackCurve==="linear")this._sig.linearRampTo(n,r,e);else if(this._attackCurve==="exponential")this._sig.targetRampTo(n,r,e);else{this._sig.cancelAndHoldAtTime(e);let a=this._attackCurve;for(let l=1;l<a.length;l++)if(a[l-1]<=o&&o<=a[l]){a=this._attackCurve.slice(l),a[0]=o;break}this._sig.setValueCurveAtTime(a,e,r,n)}if(i&&this.sustain<1){const a=n*this.sustain,l=e+r;this.log("decay",l),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(a,i+l):this._sig.exponentialApproachValueAtTime(a,l,i)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);const n=this.getValueAtTime(e);if(n>0){const s=this.toSeconds(this.release);s<this.sampleTime?this._sig.setValueAtTime(0,e):this._releaseCurve==="linear"?this._sig.linearRampTo(0,s,e):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,s,e):(G(Ke(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,s,n))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,n,s=1){return n=this.toSeconds(n),this.triggerAttack(n,s),this.triggerRelease(n+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e,n=0,s=0){return oh(this,e,n,s),this}asArray(){return Ie(this,arguments,void 0,function*(e=1024){const n=e/this.context.sampleRate,s=new nh(1,n,this.context.sampleRate),r=this.toSeconds(this.attack)+this.toSeconds(this.decay),i=r+this.toSeconds(this.release),o=i*.1,a=i+o,l=new this.constructor(Object.assign(this.get(),{attack:n*this.toSeconds(this.attack)/a,decay:n*this.toSeconds(this.decay)/a,release:n*this.toSeconds(this.release)/a,context:s}));return l._sig.toDestination(),l.triggerAttackRelease(n*(r+o)/a,0),(yield s.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}Qt([Nn(0)],on.prototype,"attack",void 0);Qt([Nn(0)],on.prototype,"decay",void 0);Qt([Fg(0,1)],on.prototype,"sustain",void 0);Qt([Nn(0)],on.prototype,"release",void 0);const fo=(()=>{let e,n;const s=[];for(e=0;e<128;e++)s[e]=Math.sin(e/127*(Math.PI/2));const r=[],i=6.4;for(e=0;e<127;e++){n=e/127;const p=Math.sin(n*(Math.PI*2)*i-Math.PI/2)+1;r[e]=p/10+n*.83}r[127]=1;const o=[],a=5;for(e=0;e<128;e++)o[e]=Math.ceil(e/127*a)/a;const l=[];for(e=0;e<128;e++)n=e/127,l[e]=.5*(1-Math.cos(Math.PI*n));const c=[];for(e=0;e<128;e++){n=e/127;const p=Math.pow(n,3)*4+.2,v=Math.cos(p*Math.PI*2*n);c[e]=Math.abs(v*(1-n))}function h(p){const v=new Array(p.length);for(let g=0;g<p.length;g++)v[g]=1-p[g];return v}function d(p){return p.slice(0).reverse()}return{bounce:{In:h(c),Out:c},cosine:{In:s,Out:d(s)},exponential:"exponential",linear:"linear",ripple:{In:r,Out:h(r)},sine:{In:l,Out:h(l)},step:{In:o,Out:h(o)}}})();class ns extends X{constructor(){const e=H(ns.getDefaults(),arguments);super(e),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=n=>this._original_triggerRelease(n),this._volume=this.output=new Pr({context:this.context,volume:e.volume}),this.volume=this._volume.volume,ve(this,"volume")}static getDefaults(){return Object.assign(X.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,n){const s=this["_original_"+e]=this[e];this[e]=(...r)=>{const i=r[n],o=this.context.transport.schedule(a=>{r[n]=a,s.apply(this,r)},i);this._scheduledEvents.push(o)}}unsync(){return this._scheduledEvents.forEach(e=>this.context.transport.clear(e)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(e,n,s,r){const i=this.toSeconds(s),o=this.toSeconds(n);return this.triggerAttack(e,i,r),this.triggerRelease(i+o),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class Sn extends ns{constructor(){const e=H(Sn.getDefaults(),arguments);super(e),this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(ns.getDefaults(),{detune:0,onsilence:te,portamento:0})}triggerAttack(e,n,s=1){this.log("triggerAttack",e,n,s);const r=this.toSeconds(n);return this._triggerEnvelopeAttack(r,s),this.setNote(e,r),this}triggerRelease(e){this.log("triggerRelease",e);const n=this.toSeconds(e);return this._triggerEnvelopeRelease(n),this}setNote(e,n){const s=this.toSeconds(n),r=e instanceof xt?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(s)>.05){const i=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(r,i,s)}else this.frequency.setValueAtTime(r,s);return this}}Qt([Nn(0)],Sn.prototype,"portamento",void 0);class mh extends on{constructor(){super(H(mh.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new $e({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class an extends Sn{constructor(){const e=H(an.getDefaults(),arguments);super(e),this.name="Synth",this.oscillator=new kr(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new mh(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),ve(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(Sn.getDefaults(),{envelope:Object.assign(Vn(on.getDefaults(),Object.keys(X.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(Vn(kr.getDefaults(),[...Object.keys(ot.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,n){if(this.envelope.triggerAttack(e,n),this.oscillator.start(e),this.envelope.sustain===0){const s=this.toSeconds(this.envelope.attack),r=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+s+r)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class gh extends Sn{constructor(){const e=H(gh.getDefaults(),arguments);super(e),this.name="ModulationSynth",this._carrier=new an({context:this.context,oscillator:e.oscillator,envelope:e.envelope,onsilence:()=>this.onsilence(this),volume:-10}),this._modulator=new an({context:this.context,oscillator:e.modulation,envelope:e.modulationEnvelope,volume:-10}),this.oscillator=this._carrier.oscillator,this.envelope=this._carrier.envelope,this.modulation=this._modulator.oscillator,this.modulationEnvelope=this._modulator.envelope,this.frequency=new Oe({context:this.context,units:"frequency"}),this.detune=new Oe({context:this.context,value:e.detune,units:"cents"}),this.harmonicity=new Is({context:this.context,value:e.harmonicity,minValue:0}),this._modulationNode=new $e({context:this.context,gain:0}),ve(this,["frequency","harmonicity","oscillator","envelope","modulation","modulationEnvelope","detune"])}static getDefaults(){return Object.assign(Sn.getDefaults(),{harmonicity:3,oscillator:Object.assign(Vn(kr.getDefaults(),[...Object.keys(ot.getDefaults()),"frequency","detune"]),{type:"sine"}),envelope:Object.assign(Vn(on.getDefaults(),Object.keys(X.getDefaults())),{attack:.01,decay:.01,sustain:1,release:.5}),modulation:Object.assign(Vn(kr.getDefaults(),[...Object.keys(ot.getDefaults()),"frequency","detune"]),{type:"square"}),modulationEnvelope:Object.assign(Vn(on.getDefaults(),Object.keys(X.getDefaults())),{attack:.5,decay:0,sustain:1,release:.5})})}_triggerEnvelopeAttack(e,n){this._carrier._triggerEnvelopeAttack(e,n),this._modulator._triggerEnvelopeAttack(e,n)}_triggerEnvelopeRelease(e){return this._carrier._triggerEnvelopeRelease(e),this._modulator._triggerEnvelopeRelease(e),this}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this._carrier.dispose(),this._modulator.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._modulationNode.dispose(),this}}class vh extends gh{constructor(){super(H(vh.getDefaults(),arguments)),this.name="AMSynth",this._modulationScale=new Dg({context:this.context}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output)}dispose(){return super.dispose(),this._modulationScale.dispose(),this}}class el extends an{constructor(){const e=H(el.getDefaults(),arguments);super(e),this.name="MembraneSynth",this.portamento=0,this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,ve(this,["oscillator","envelope"])}static getDefaults(){return ws(Sn.getDefaults(),an.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,n){const s=this.toSeconds(n),r=this.toFrequency(e instanceof xt?e.toFrequency():e),i=r*this.octaves;return this.oscillator.frequency.setValueAtTime(i,s),this.oscillator.frequency.exponentialRampToValueAtTime(r,s+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}Qt([Fg(0)],el.prototype,"octaves",void 0);Qt([Nn(0)],el.prototype,"pitchDecay",void 0);const Lg=new Set;function yh(t){Lg.add(t)}function Vg(t,e){const n=`registerProcessor("${t}", ${e})`;Lg.add(n)}const yT=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;yh(yT);const _T=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;yh(_T);const xT=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;yh(xT);const wT="feedback-comb-filter",ST=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;Vg(wT,ST);class cr extends ns{constructor(){const e=H(cr.getDefaults(),arguments,["voice","options"]);super(e),this.name="PolySynth",this._availableVoices=[],this._activeVoices=[],this._voices=[],this._gcTimeout=-1,this._averageActiveVoices=0,this._syncedRelease=r=>this.releaseAll(r),G(!sn(e.voice),"DEPRECATED: The polyphony count is no longer the first argument.");const n=e.voice.getDefaults();this.options=Object.assign(n,e.options),this.voice=e.voice,this.maxPolyphony=e.maxPolyphony,this._dummyVoice=this._getNextAvailableVoice();const s=this._voices.indexOf(this._dummyVoice);this._voices.splice(s,1),this._gcTimeout=this.context.setInterval(this._collectGarbage.bind(this),1)}static getDefaults(){return Object.assign(ns.getDefaults(),{maxPolyphony:32,options:{},voice:an})}get activeVoices(){return this._activeVoices.length}_makeVoiceAvailable(e){this._availableVoices.push(e);const n=this._activeVoices.findIndex(s=>s.voice===e);this._activeVoices.splice(n,1)}_getNextAvailableVoice(){if(this._availableVoices.length)return this._availableVoices.shift();if(this._voices.length<this.maxPolyphony){const e=new this.voice(Object.assign(this.options,{context:this.context,onsilence:this._makeVoiceAvailable.bind(this)}));return G(e instanceof Sn,"Voice must extend Monophonic class"),e.connect(this.output),this._voices.push(e),e}else Ba("Max polyphony exceeded. Note dropped.")}_collectGarbage(){if(this._averageActiveVoices=Math.max(this._averageActiveVoices*.95,this.activeVoices),this._availableVoices.length&&this._voices.length>Math.ceil(this._averageActiveVoices+1)){const e=this._availableVoices.shift(),n=this._voices.indexOf(e);this._voices.splice(n,1),this.context.isOffline||e.dispose()}}_triggerAttack(e,n,s){e.forEach(r=>{const i=new ma(this.context,r).toMidi(),o=this._getNextAvailableVoice();o&&(o.triggerAttack(r,n,s),this._activeVoices.push({midi:i,voice:o,released:!1}),this.log("triggerAttack",r,n))})}_triggerRelease(e,n){e.forEach(s=>{const r=new ma(this.context,s).toMidi(),i=this._activeVoices.find(({midi:o,released:a})=>o===r&&!a);i&&(i.voice.triggerRelease(n),i.released=!0,this.log("triggerRelease",s,n))})}_scheduleEvent(e,n,s,r){G(!this.disposed,"Synth was already disposed"),s<=this.now()?e==="attack"?this._triggerAttack(n,s,r):this._triggerRelease(n,s):this.context.setTimeout(()=>{this.disposed||this._scheduleEvent(e,n,s,r)},s-this.now())}triggerAttack(e,n,s){Array.isArray(e)||(e=[e]);const r=this.toSeconds(n);return this._scheduleEvent("attack",e,r,s),this}triggerRelease(e,n){Array.isArray(e)||(e=[e]);const s=this.toSeconds(n);return this._scheduleEvent("release",e,s),this}triggerAttackRelease(e,n,s,r){const i=this.toSeconds(s);if(this.triggerAttack(e,i,r),Ke(n)){G(Ke(e),"If the duration is an array, the notes must also be an array"),e=e;for(let o=0;o<e.length;o++){const a=n[Math.min(o,n.length-1)],l=this.toSeconds(a);G(l>0,"The duration must be greater than 0"),this.triggerRelease(e[o],i+l)}}else{const o=this.toSeconds(n);G(o>0,"The duration must be greater than 0"),this.triggerRelease(e,i+o)}return this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}set(e){const n=Vn(e,["onsilence","context"]);return this.options=ws(this.options,n),this._voices.forEach(s=>s.set(n)),this._dummyVoice.set(n),this}get(){return this._dummyVoice.get()}releaseAll(e){const n=this.toSeconds(e);return this._activeVoices.forEach(({voice:s})=>{s.triggerRelease(n)}),this}dispose(){return super.dispose(),this._dummyVoice.dispose(),this._voices.forEach(e=>e.dispose()),this._activeVoices=[],this._availableVoices=[],this.context.clearInterval(this._gcTimeout),this}}class $i extends ns{constructor(){const e=H($i.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");super(e),this.name="Sampler",this._activeSources=new Map;const n={};Object.keys(e.urls).forEach(s=>{const r=parseInt(s,10);if(G(ho(s)||sn(r)&&isFinite(r),`url key is neither a note or midi pitch: ${s}`),ho(s)){const i=new xt(this.context,s).toMidi();n[i]=e.urls[s]}else sn(r)&&isFinite(r)&&(n[r]=e.urls[r])}),this._buffers=new hh({urls:n,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(ns.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:te,onerror:te,release:.1,urls:{}})}_findClosest(e){let s=0;for(;s<96;){if(this._buffers.has(e+s))return-s;if(this._buffers.has(e-s))return s;s++}throw new Error(`No available buffers for note: ${e}`)}triggerAttack(e,n,s=1){return this.log("triggerAttack",e,n,s),Array.isArray(e)||(e=[e]),e.forEach(r=>{const i=Rg(new xt(this.context,r).toFrequency()),o=Math.round(i),a=i-o,l=this._findClosest(o),c=o-l,h=this._buffers.get(c),d=Pg(l+a),p=new Qa({url:h,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:d}).connect(this.output);p.start(n,0,h.duration/d,s),Ke(this._activeSources.get(o))||this._activeSources.set(o,[]),this._activeSources.get(o).push(p),p.onended=()=>{if(this._activeSources&&this._activeSources.has(o)){const v=this._activeSources.get(o),g=v.indexOf(p);g!==-1&&v.splice(g,1)}}}),this}triggerRelease(e,n){return this.log("triggerRelease",e,n),Array.isArray(e)||(e=[e]),e.forEach(s=>{const r=new xt(this.context,s).toMidi();if(this._activeSources.has(r)&&this._activeSources.get(r).length){const i=this._activeSources.get(r);n=this.toSeconds(n),i.forEach(o=>{o.stop(n)}),this._activeSources.set(r,[])}}),this}releaseAll(e){const n=this.toSeconds(e);return this._activeSources.forEach(s=>{for(;s.length;)s.shift().stop(n)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,n,s,r=1){const i=this.toSeconds(s);return this.triggerAttack(e,i,r),Ke(n)?(G(Ke(e),"notes must be an array when duration is array"),e.forEach((o,a)=>{const l=n[Math.min(a,n.length-1)];this.triggerRelease(o,i+this.toSeconds(l))})):this.triggerRelease(e,i+this.toSeconds(n)),this}add(e,n,s){if(G(ho(e)||isFinite(e),`note must be a pitch or midi: ${e}`),ho(e)){const r=new xt(this.context,e).toMidi();this._buffers.add(r,n,s)}else this._buffers.add(e,n,s);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(e=>{e.forEach(n=>n.dispose())}),this._activeSources.clear(),this}}Qt([Nn(0)],$i.prototype,"attack",void 0);Qt([Nn(0)],$i.prototype,"release",void 0);class zn extends Ze{constructor(){const e=H(zn.getDefaults(),arguments,["callback","value"]);super(e),this.name="ToneEvent",this._state=new Wi("stopped"),this._startOffset=0,this._loop=e.loop,this.callback=e.callback,this.value=e.value,this._loopStart=this.toTicks(e.loopStart),this._loopEnd=this.toTicks(e.loopEnd),this._playbackRate=e.playbackRate,this._probability=e.probability,this._humanize=e.humanize,this.mute=e.mute,this._playbackRate=e.playbackRate,this._state.increasing=!0,this._rescheduleEvents()}static getDefaults(){return Object.assign(Ze.getDefaults(),{callback:te,humanize:!1,loop:!1,loopEnd:"1m",loopStart:0,mute:!1,playbackRate:1,probability:1,value:null})}_rescheduleEvents(e=-1){this._state.forEachFrom(e,n=>{let s;if(n.state==="started"){n.id!==-1&&this.context.transport.clear(n.id);const r=n.time+Math.round(this.startOffset/this._playbackRate);if(this._loop===!0||sn(this._loop)&&this._loop>1){s=1/0,sn(this._loop)&&(s=this._loop*this._getLoopDuration());const i=this._state.getAfter(r);i!==null&&(s=Math.min(s,i.time-r)),s!==1/0&&(s=new xe(this.context,s));const o=new xe(this.context,this._getLoopDuration());n.id=this.context.transport.scheduleRepeat(this._tick.bind(this),o,new xe(this.context,r),s)}else n.id=this.context.transport.schedule(this._tick.bind(this),new xe(this.context,r))}})}get state(){return this._state.getValueAtTime(this.context.transport.ticks)}get startOffset(){return this._startOffset}set startOffset(e){this._startOffset=e}get probability(){return this._probability}set probability(e){this._probability=e}get humanize(){return this._humanize}set humanize(e){this._humanize=e}start(e){const n=this.toTicks(e);return this._state.getValueAtTime(n)==="stopped"&&(this._state.add({id:-1,state:"started",time:n}),this._rescheduleEvents(n)),this}stop(e){this.cancel(e);const n=this.toTicks(e);if(this._state.getValueAtTime(n)==="started"){this._state.setStateAtTime("stopped",n,{id:-1});const s=this._state.getBefore(n);let r=n;s!==null&&(r=s.time),this._rescheduleEvents(r)}return this}cancel(e){e=tn(e,-1/0);const n=this.toTicks(e);return this._state.forEachFrom(n,s=>{this.context.transport.clear(s.id)}),this._state.cancel(n),this}_tick(e){const n=this.context.transport.getTicksAtTime(e);if(!this.mute&&this._state.getValueAtTime(n)==="started"){if(this.probability<1&&Math.random()>this.probability)return;if(this.humanize){let s=.02;Tg(this.humanize)||(s=this.toSeconds(this.humanize)),e+=(Math.random()*2-1)*s}this.callback(e,this.value)}}_getLoopDuration(){return(this._loopEnd-this._loopStart)/this._playbackRate}get loop(){return this._loop}set loop(e){this._loop=e,this._rescheduleEvents()}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this._rescheduleEvents()}get loopEnd(){return new xe(this.context,this._loopEnd).toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e),this._loop&&this._rescheduleEvents()}get loopStart(){return new xe(this.context,this._loopStart).toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e),this._loop&&this._rescheduleEvents()}get progress(){if(this._loop){const e=this.context.transport.ticks,n=this._state.get(e);if(n!==null&&n.state==="started"){const s=this._getLoopDuration();return(e-n.time)%s/s}else return 0}else return 0}dispose(){return super.dispose(),this.cancel(),this._state.dispose(),this}}class ga extends zn{constructor(){const e=H(ga.getDefaults(),arguments,["callback","events"]);super(e),this.name="Part",this._state=new Wi("stopped"),this._events=new Set,this._state.increasing=!0,e.events.forEach(n=>{Ke(n)?this.add(n[0],n[1]):this.add(n)})}static getDefaults(){return Object.assign(zn.getDefaults(),{events:[]})}start(e,n){const s=this.toTicks(e);if(this._state.getValueAtTime(s)!=="started"){n=tn(n,this._loop?this._loopStart:0),this._loop?n=tn(n,this._loopStart):n=tn(n,0);const r=this.toTicks(n);this._state.add({id:-1,offset:r,state:"started",time:s}),this._forEach(i=>{this._startNote(i,s,r)})}return this}_startNote(e,n,s){n-=s,this._loop?e.startOffset>=this._loopStart&&e.startOffset<this._loopEnd?(e.startOffset<s&&(n+=this._getLoopDuration()),e.start(new xe(this.context,n))):e.startOffset<this._loopStart&&e.startOffset>=s&&(e.loop=!1,e.start(new xe(this.context,n))):e.startOffset>=s&&e.start(new xe(this.context,n))}get startOffset(){return this._startOffset}set startOffset(e){this._startOffset=e,this._forEach(n=>{n.startOffset+=this._startOffset})}stop(e){const n=this.toTicks(e);return this._state.cancel(n),this._state.setStateAtTime("stopped",n),this._forEach(s=>{s.stop(e)}),this}at(e,n){const s=new lr(this.context,e).toTicks(),r=new xe(this.context,1).toSeconds(),i=this._events.values();let o=i.next();for(;!o.done;){const a=o.value;if(Math.abs(s-a.startOffset)<r)return Y(n)&&(a.value=n),a;o=i.next()}return Y(n)?(this.add(e,n),this.at(e)):null}add(e,n){e instanceof Object&&Reflect.has(e,"time")&&(n=e,e=n.time);const s=this.toTicks(e);let r;return n instanceof zn?(r=n,r.callback=this._tick.bind(this)):r=new zn({callback:this._tick.bind(this),context:this.context,value:n}),r.startOffset=s,r.set({humanize:this.humanize,loop:this.loop,loopEnd:this.loopEnd,loopStart:this.loopStart,playbackRate:this.playbackRate,probability:this.probability}),this._events.add(r),this._restartEvent(r),this}_restartEvent(e){this._state.forEach(n=>{n.state==="started"?this._startNote(e,n.time,n.offset):e.stop(new xe(this.context,n.time))})}remove(e,n){return Xn(e)&&e.hasOwnProperty("time")&&(n=e,e=n.time),e=this.toTicks(e),this._events.forEach(s=>{s.startOffset===e&&(St(n)||Y(n)&&s.value===n)&&(this._events.delete(s),s.dispose())}),this}clear(){return this._forEach(e=>e.dispose()),this._events.clear(),this}cancel(e){return this._forEach(n=>n.cancel(e)),this._state.cancel(this.toTicks(e)),this}_forEach(e){return this._events&&this._events.forEach(n=>{n instanceof ga?n._forEach(e):e(n)}),this}_setAll(e,n){this._forEach(s=>{s[e]=n})}_tick(e,n){this.mute||this.callback(e,n)}_testLoopBoundries(e){this._loop&&(e.startOffset<this._loopStart||e.startOffset>=this._loopEnd)?e.cancel(0):e.state==="stopped"&&this._restartEvent(e)}get probability(){return this._probability}set probability(e){this._probability=e,this._setAll("probability",e)}get humanize(){return this._humanize}set humanize(e){this._humanize=e,this._setAll("humanize",e)}get loop(){return this._loop}set loop(e){this._loop=e,this._forEach(n=>{n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.loop=e,this._testLoopBoundries(n)})}get loopEnd(){return new xe(this.context,this._loopEnd).toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e),this._loop&&this._forEach(n=>{n.loopEnd=e,this._testLoopBoundries(n)})}get loopStart(){return new xe(this.context,this._loopStart).toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e),this._loop&&this._forEach(n=>{n.loopStart=this.loopStart,this._testLoopBoundries(n)})}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this._setAll("playbackRate",e)}get length(){return this._events.size}dispose(){return super.dispose(),this.clear(),this}}class tl extends zn{constructor(){const e=H(tl.getDefaults(),arguments,["callback","events","subdivision"]);super(e),this.name="Sequence",this._part=new ga({callback:this._seqCallback.bind(this),context:this.context}),this._events=[],this._eventsArray=[],this._subdivision=this.toTicks(e.subdivision),this.events=e.events,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.playbackRate=e.playbackRate,this.probability=e.probability,this.humanize=e.humanize,this.mute=e.mute,this.playbackRate=e.playbackRate}static getDefaults(){return Object.assign(Vn(zn.getDefaults(),["value"]),{events:[],loop:!0,loopEnd:0,loopStart:0,subdivision:"8n"})}_seqCallback(e,n){n!==null&&!this.mute&&this.callback(e,n)}get events(){return this._events}set events(e){this.clear(),this._eventsArray=e,this._events=this._createSequence(this._eventsArray),this._eventsUpdated()}start(e,n){return this._part.start(e,n&&this._indexTime(n)),this}stop(e){return this._part.stop(e),this}get subdivision(){return new xe(this.context,this._subdivision).toSeconds()}_createSequence(e){return new Proxy(e,{get:(n,s)=>n[s],set:(n,s,r)=>(rn(s)&&isFinite(parseInt(s,10))&&Ke(r)?n[s]=this._createSequence(r):n[s]=r,this._eventsUpdated(),!0)})}_eventsUpdated(){this._part.clear(),this._rescheduleSequence(this._eventsArray,this._subdivision,this.startOffset),this.loopEnd=this.loopEnd}_rescheduleSequence(e,n,s){e.forEach((r,i)=>{const o=i*n+s;if(Ke(r))this._rescheduleSequence(r,n/r.length,o);else{const a=new xe(this.context,o,"i").toSeconds();this._part.add(a,r)}})}_indexTime(e){return new xe(this.context,e*this._subdivision+this.startOffset).toSeconds()}clear(){return this._part.clear(),this}dispose(){return super.dispose(),this._part.dispose(),this}get loop(){return this._part.loop}set loop(e){this._part.loop=e}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this._part.loopStart=this._indexTime(e)}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,e===0?this._part.loopEnd=this._indexTime(this._eventsArray.length):this._part.loopEnd=this._indexTime(e)}get startOffset(){return this._part.startOffset}set startOffset(e){this._part.startOffset=e}get playbackRate(){return this._part.playbackRate}set playbackRate(e){this._part.playbackRate=e}get probability(){return this._part.probability}set probability(e){this._part.probability=e}get progress(){return this._part.progress}get humanize(){return this._part.humanize}set humanize(e){this._part.humanize=e}get length(){return this._part.length}}class _h extends X{constructor(){const e=H(_h.getDefaults(),arguments,["pan"]);super(e),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner,this.pan=new fe({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",ve(this,"pan")}static getDefaults(){return Object.assign(X.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const kT="bit-crusher",TT=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;Vg(kT,TT);class Ee extends X{constructor(){const e=H(Ee.getDefaults(),arguments,["solo"]);super(e),this.name="Solo",this.input=this.output=new $e({context:this.context}),Ee._allSolos.has(this.context)||Ee._allSolos.set(this.context,new Set),Ee._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign(X.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),Ee._allSolos.get(this.context).forEach(n=>n._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){Ee._soloed.has(this.context)||Ee._soloed.set(this.context,new Set),Ee._soloed.get(this.context).add(this)}_removeSolo(){Ee._soloed.has(this.context)&&Ee._soloed.get(this.context).delete(this)}_isSoloed(){return Ee._soloed.has(this.context)&&Ee._soloed.get(this.context).has(this)}_noSolos(){return!Ee._soloed.has(this.context)||Ee._soloed.has(this.context)&&Ee._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),Ee._allSolos.get(this.context).delete(this),this._removeSolo(),this}}Ee._allSolos=new Map;Ee._soloed=new Map;class xh extends X{constructor(){const e=H(xh.getDefaults(),arguments,["pan","volume"]);super(e),this.name="PanVol",this._panner=this.input=new _h({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new Pr({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,ve(this,["pan","volume"])}static getDefaults(){return Object.assign(X.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class tr extends X{constructor(){const e=H(tr.getDefaults(),arguments,["volume","pan"]);super(e),this.name="Channel",this._solo=this.input=new Ee({solo:e.solo,context:this.context}),this._panVol=this.output=new xh({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),ve(this,["pan","volume"])}static getDefaults(){return Object.assign(X.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return tr.buses.has(e)||tr.buses.set(e,new $e({context:this.context})),tr.buses.get(e)}send(e,n=0){const s=this._getBus(e),r=new $e({context:this.context,units:"decibels",gain:n});return this.connect(r),r.connect(s),r}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}tr.buses=new Map;const Ye=zt().transport;zt().destination;zt().destination;zt().listener;zt().draw;zt();const CT=j.createContext(),NT=({children:t})=>{const[e,n]=j.useState(!1),[s,r]=j.useState(120),[i,o]=j.useState(!1),a=async()=>{i||(await sh(),o(!0))},l=()=>{Ye.stop(),Ye.cancel(),n(!1)};j.useEffect(()=>{Ye.bpm.value=s},[s]),j.useEffect(()=>()=>{e&&l()},[e]);const c={isPlaying:e,setIsPlaying:n,tempo:s,setTempo:r,isAudioInitialized:i,initializeAudio:a,stopAllPlayback:l};return u.jsx(CT.Provider,{value:c,children:t})},zg=j.createContext(),nl=()=>j.useContext(zg),Wg=({children:t})=>{const[e,n]=j.useState({userLevel:null,completedLessons:{},preferences:{notationPreference:"piano",audioEnabled:!0,showTips:!0},conceptMastery:{},lastVisited:null,bookmarks:[],creations:[]});j.useEffect(()=>{const w=localStorage.getItem("musicTheoryProgress");if(w)try{n(JSON.parse(w))}catch(f){console.error("Error parsing saved progress:",f)}},[]),j.useEffect(()=>{localStorage.setItem("musicTheoryProgress",JSON.stringify(e))},[e]);const s=w=>{n(f=>({...f,userLevel:w}))},r=(w,f={})=>{n(m=>({...m,completedLessons:{...m.completedLessons,[w]:{completedAt:new Date().toISOString(),...f}}}))},i=(w,f)=>{n(m=>({...m,conceptMastery:{...m.conceptMastery,[w]:{level:f,updatedAt:new Date().toISOString(),reviewDue:o(f)}}}))},o=w=>{const f={1:1,2:3,3:7,4:14,5:30},m=new Date,y=new Date(m);return y.setDate(m.getDate()+(f[w]||1)),y.toISOString()},_={progress:e,setUserLevel:s,markLessonCompleted:r,updateConceptMastery:i,updatePreferences:w=>{n(f=>({...f,preferences:{...f.preferences,...w}}))},updateLastVisited:w=>{n(f=>({...f,lastVisited:w}))},toggleBookmark:w=>{n(f=>{const y=f.bookmarks.includes(w)?f.bookmarks.filter(T=>T!==w):[...f.bookmarks,w];return{...f,bookmarks:y}})},saveCreation:w=>{n(f=>({...f,creations:[...f.creations,{id:`creation-${Date.now()}`,createdAt:new Date().toISOString(),...w}]}))},resetProgress:()=>{n({userLevel:null,completedLessons:{},preferences:{notationPreference:"piano",audioEnabled:!0,showTips:!0},conceptMastery:{},lastVisited:null,bookmarks:[],creations:[]})},getConceptsDueForReview:()=>{const w=new Date;return Object.entries(e.conceptMastery).filter(([f,m])=>new Date(m.reviewDue)<=w).map(([f])=>f)},exportProgress:()=>JSON.stringify(e),importProgress:w=>{try{const f=JSON.parse(w);return n(f),!0}catch(f){return console.error("Error importing progress:",f),!1}}};return u.jsx(zg.Provider,{value:_,children:t})},Bg=j.createContext(),qi=()=>j.useContext(Bg),Ug=({children:t})=>{var w;const[e,n]=j.useState(!1),[s,r]=j.useState(null),[i,o]=j.useState([]),{progress:a}=nl();j.useEffect(()=>((async()=>{const m=new cr(an).toDestination();r(m)})(),()=>{Ye.stop(),Ye.cancel()}),[]);const l=((w=a==null?void 0:a.preferences)==null?void 0:w.audioEnabled)??!0,c=async()=>(!e&&l&&(await sh(),n(!0)),e),_={initialized:e,initialize:c,playNote:async(f,m="8n")=>{if(!l)return;(e||await c())&&s&&s.triggerAttackRelease(f,m)},playChord:async(f,m="2n")=>{if(!l)return;(e||await c())&&s&&s.triggerAttackRelease(f,m)},playSequence:async(f,m=120,y=null)=>{if(!l||!(e||await c())||!s)return null;const x="8n",S=new tl((C,k)=>{s.triggerAttackRelease(k,x,C)},f,"8n");if(Ye.bpm.value=m,S.start(0),i.length===0&&Ye.start(),o(C=>[...C,S]),y){const C=60/m*f.length;setTimeout(()=>{S.stop(),S.dispose(),o(k=>k.filter(E=>E!==S)),y(),i.length===1&&Ye.stop()},C*1e3+100)}return S},playInterval:async(f,m,y=.5)=>{if(!l)return;(e||await c())&&s&&(s.triggerAttackRelease(f,"8n"),setTimeout(()=>{s.triggerAttackRelease(m,"8n"),setTimeout(()=>{s.triggerAttackRelease([f,m],"2n")},y*1e3)},y*1e3))},stopAll:()=>{i.length>0&&(i.forEach(f=>{f.stop(),f.dispose()}),o([])),Ye.stop(),Ye.cancel()},isAudioEnabled:l};return u.jsx(Bg.Provider,{value:_,children:t})},En=()=>u.jsxs("nav",{className:"navigation",children:[u.jsx("div",{className:"logo",children:"LetzMusic"}),u.jsxs("ul",{children:[u.jsx("li",{children:u.jsx(Xt,{to:"/",end:!0,children:"Home"})}),u.jsx("li",{children:u.jsx(Xt,{to:"/dashboard",children:"Dashboard"})}),u.jsx("li",{children:u.jsx(Xt,{to:"/notes",children:"Note Explorer"})}),u.jsx("li",{children:u.jsx(Xt,{to:"/circle-of-fifths",children:"Circle of Fifths"})}),u.jsx("li",{children:u.jsx(Xt,{to:"/chord-visualizer",children:"Chord Visualizer"})}),u.jsx("li",{children:u.jsx(Xt,{to:"/mode-transformer",children:"Mode Transformer"})}),u.jsx("li",{children:u.jsx(Xt,{to:"/intervals",children:"Intervals"})}),u.jsx("li",{children:u.jsx(Xt,{to:"/scales",children:"Scale Lab"})}),u.jsx("li",{children:u.jsx(Xt,{to:"/relative",children:"Relative Explorer"})}),u.jsx("li",{children:u.jsx(Xt,{to:"/ear-training",children:"Ear Training"})})]})]}),ET=()=>{const t=[{name:"Note Explorer",description:"See how notes function differently in various contexts",path:"/notes"},{name:"Interval Demonstrator",description:"Explore how intervals create relationships between notes",path:"/intervals"},{name:"Scale Lab",description:"Understand how scales are built from interval patterns",path:"/scales"},{name:"Relative Explorer",description:"Learn about relative major and minor key relationships",path:"/relative"},{name:"Circle of Fifths",description:"Visualize key relationships through the circle of fifths",path:"/circle-of-fifths"},{name:"Chord Visualizer",description:"Discover how chords function within a key",path:"/chord-visualizer"},{name:"Mode Transformer",description:"Explore modes as transformations of the same scale",path:"/mode-transformer"}];return u.jsxs("div",{className:"home-container",children:[u.jsx(En,{}),u.jsxs("div",{className:"hero-section",children:[u.jsx("h1",{children:"LetzMusic"}),u.jsx("p",{className:"tagline",children:"Discover how music theory elements gain meaning through relationships"}),u.jsx(xs,{to:"/dashboard",className:"cta-button",children:"Start Learning"})]}),u.jsxs("div",{className:"tools-section",children:[u.jsx("h2",{children:"Interactive Tools"}),u.jsx("div",{className:"tools-grid",children:t.map((e,n)=>u.jsxs(xs,{to:e.path,className:"tool-card",children:[u.jsx("h3",{children:e.name}),u.jsx("p",{children:e.description})]},n))})]}),u.jsxs("div",{className:"about-section",children:[u.jsx("h2",{children:"About LetzMusic"}),u.jsx("p",{children:"LetzMusic is an interactive application designed to make learning music theory intuitive and engaging. Through visual demonstrations and audio examples, we help you understand the fundamental concept that musical elements gain their meaning through relationships to other elements."}),u.jsx("p",{children:"Whether you're a complete beginner, an instrument player looking to deepen your theoretical knowledge, or a student seeking advanced concepts, LetzMusic provides interactive tools to enhance your understanding of music theory."})]}),u.jsx("footer",{className:"home-footer",children:u.jsx("p",{children:"© 2025 LetzMusic. All rights reserved."})})]})},AT=()=>{const t=[{id:"note-explorer",name:"Note Explorer",description:"See how the same note functions differently in various musical contexts",path:"/notes",level:"beginner",icon:"🎵"},{id:"interval-demonstrator",name:"Interval Demonstrator",description:"Understand how intervals create relationships between notes",path:"/intervals",level:"beginner",icon:"📏"},{id:"scale-lab",name:"Scale Lab",description:"Learn how scales are built from specific interval patterns",path:"/scales",level:"beginner",icon:"🔍"},{id:"relative-explorer",name:"Relative Explorer",description:"Explore the relationship between relative major and minor keys",path:"/relative",level:"intermediate",icon:"🔄"},{id:"circle-of-fifths",name:"Circle of Fifths",description:"Visualize key relationships through the circle of fifths",path:"/circle-of-fifths",level:"intermediate",icon:"⭕"},{id:"chord-visualizer",name:"Chord Visualizer",description:"Discover how chords derive meaning from their relationship to a key center",path:"/chord-visualizer",level:"intermediate",icon:"🎹"},{id:"mode-transformer",name:"Mode Transformer",description:"See how modes are transformations of the same scale from different positions",path:"/mode-transformer",level:"advanced",icon:"🔄"}],e=t.filter(r=>r.level==="beginner"),n=t.filter(r=>r.level==="intermediate"),s=t.filter(r=>r.level==="advanced");return u.jsxs("div",{className:"dashboard-container",children:[u.jsx(En,{}),u.jsxs("div",{className:"dashboard-content",children:[u.jsx("h1",{children:"Music Theory Interactive Tools"}),u.jsx("p",{className:"dashboard-intro",children:"Explore these interactive tools to understand how musical elements gain meaning through their relationships to each other. Start with the beginner tools and progress through to more advanced concepts."}),u.jsxs("div",{className:"level-section",children:[u.jsx("h2",{className:"level-title beginner",children:"Beginner Tools"}),u.jsx("div",{className:"tools-grid",children:e.map(r=>u.jsxs(xs,{to:r.path,className:"tool-card",children:[u.jsx("div",{className:"tool-icon",children:r.icon}),u.jsx("h3",{children:r.name}),u.jsx("p",{children:r.description}),u.jsx("div",{className:"tool-level beginner",children:"Beginner"})]},r.id))})]}),u.jsxs("div",{className:"level-section",children:[u.jsx("h2",{className:"level-title intermediate",children:"Intermediate Tools"}),u.jsx("div",{className:"tools-grid",children:n.map(r=>u.jsxs(xs,{to:r.path,className:"tool-card",children:[u.jsx("div",{className:"tool-icon",children:r.icon}),u.jsx("h3",{children:r.name}),u.jsx("p",{children:r.description}),u.jsx("div",{className:"tool-level intermediate",children:"Intermediate"})]},r.id))})]}),u.jsxs("div",{className:"level-section",children:[u.jsx("h2",{className:"level-title advanced",children:"Advanced Tools"}),u.jsx("div",{className:"tools-grid",children:s.map(r=>u.jsxs(xs,{to:r.path,className:"tool-card",children:[u.jsx("div",{className:"tool-icon",children:r.icon}),u.jsx("h3",{children:r.name}),u.jsx("p",{children:r.description}),u.jsx("div",{className:"tool-level advanced",children:"Advanced"})]},r.id))})]})]})]})},Ao=50,jT=180,IT=30,OT=110,MT=Ao*.6,PT=({onNoteSelect:t})=>{const e=[{note:"C",isBlack:!1},{note:"C#",isBlack:!0},{note:"D",isBlack:!1},{note:"D#",isBlack:!0},{note:"E",isBlack:!1},{note:"F",isBlack:!1},{note:"F#",isBlack:!0},{note:"G",isBlack:!1},{note:"G#",isBlack:!0},{note:"A",isBlack:!1},{note:"A#",isBlack:!0},{note:"B",isBlack:!1}];return u.jsx("div",{className:"keyboard",children:e.map((n,s)=>u.jsx("div",{className:`key ${n.isBlack?"black":"white"}`,style:{left:n.isBlack?s*Ao-MT:s*Ao,width:n.isBlack?IT:Ao,height:n.isBlack?OT:jT},onClick:()=>t(n.note),children:n.note},n.note))})},RT=({note:t})=>t?u.jsxs("div",{className:"note-display",children:[u.jsx("h3",{children:t.name}),u.jsxs("p",{children:["Frequency: ",t.frequency," Hz"]})]}):u.jsx("div",{className:"note-display",children:"Select a note to see details"}),bT=()=>{const[t,e]=j.useState(null),{playNote:n,initialize:s}=qi();j.useEffect(()=>{s()},[s]);const r=i=>{const a={name:i,frequency:440*Math.pow(2,(st(i)-9)/12)};e(a),n(`${i}4`)};return u.jsxs("div",{className:"note-explorer",children:[u.jsx("h2",{children:"Note Explorer"}),u.jsx(PT,{onNoteSelect:r}),u.jsx(RT,{note:t})]})},DT=()=>u.jsxs("div",{className:"note-explorer-page",children:[u.jsx("h1",{children:"Explore Musical Notes"}),u.jsx("p",{children:"Click a key on the interactive keyboard to see and hear the corresponding note."}),u.jsx(bT,{}),u.jsx("p",{children:u.jsx(xs,{to:"/",children:"Back to Home"})})]});class FT{constructor(){this.synth=new cr(an).toDestination(),this.initialized=!1,this.activeSequences=[]}async initialize(){if(this.initialized)return!0;try{return await sh(),this.initialized=!0,!0}catch(e){return console.error("Failed to initialize audio context:",e),!1}}async playNote(e,n="8n"){!this.initialized&&!await this.initialize()||this.synth.triggerAttackRelease(e,n)}async playChord(e,n="2n"){if(!(!this.initialized&&!await this.initialize())){if(typeof e=="string"){const s=e.replace(/maj|min|m|dim|aug|sus[24]?|[2-9]/,""),r=e.replace(s,"");e={maj:["C4","E4","G4"],m:["C4","Eb4","G4"],min:["C4","Eb4","G4"],7:["C4","E4","G4","Bb4"],maj7:["C4","E4","G4","B4"]}[r]||["C4","E4","G4"]}this.synth.triggerAttackRelease(e,n)}}async playScale(e,n=120,s=null){if(!this.initialized&&!await this.initialize())return null;const r="8n",i=new tl((o,a)=>{this.synth.triggerAttackRelease(a,r,o)},e,"8n");if(Ye.bpm.value=n,i.start(0),Ye.state!=="started"&&Ye.start(),this.activeSequences.push(i),s){const o=60/n*e.length;setTimeout(()=>{i.stop(),i.dispose(),this.activeSequences=this.activeSequences.filter(a=>a!==i),this.activeSequences.length===0&&Ye.stop(),s()},o*1e3+100)}return i}async playArpeggio(e,n=120,s="up",r=null){let i;switch(s){case"down":i=[...e].reverse();break;case"updown":i=[...e,...e.slice(1,-1).reverse()];break;case"up":default:i=e}return this.playScale(i,n,r)}async playProgression(e,n=80,s=null,r=null){if(!this.initialized&&!await this.initialize())return;const i="2n",o=60/n*2*e.length;let a=0;const l=()=>{if(a>=e.length){r&&r();return}const c=e[a];this.playChord(c,i),s&&s(c,a),a++,setTimeout(l,60/n*2*1e3)};return l(),{totalDuration:o,stop:()=>{a=e.length,this.stopAll()}}}stopAll(){this.activeSequences.forEach(e=>{e.stop(),e.dispose()}),this.activeSequences=[],Ye.stop(),Ye.cancel()}createInstrument(e="synth"){let n;switch(e){case"piano":n=new $i({C4:"piano-C4.mp3",G4:"piano-G4.mp3"}).toDestination();break;case"guitar":n=new cr(vh).toDestination(),n.set({harmonicity:2.5,oscillator:{type:"sine"},envelope:{attack:.05,decay:.2,sustain:.4,release:1.5},modulation:{type:"square"},modulationEnvelope:{attack:.5,decay:.1,sustain:.2,release:.5}});break;case"synth":default:n=new cr(an).toDestination()}return n}async playIntervalForTraining(e,n,s={}){const{sequential:r=!0,gap:i=.8,duration:o="2n",repeat:a=1}=s;if(!this.initialized&&!await this.initialize())return;const l=()=>{r?(this.synth.triggerAttackRelease(e,o),setTimeout(()=>{this.synth.triggerAttackRelease(n,o)},i*1e3)):this.synth.triggerAttackRelease([e,n],o)};for(let c=0;c<a;c++)c>0&&await new Promise(h=>setTimeout(h,(i+2)*1e3)),l()}async playChordForTraining(e,n={}){const{arpeggiate:s=!1,arpeggiateSpeed:r=150,duration:i="2n",repeat:o=1}=n;if(!this.initialized&&!await this.initialize())return;const a=()=>{s?e.forEach((l,c)=>{setTimeout(()=>{this.synth.triggerAttackRelease(l,i)},c*(1e3/r))}):this.synth.triggerAttackRelease(e,i)};for(let l=0;l<o;l++)l>0&&await new Promise(c=>setTimeout(c,3e3)),a()}async playScaleForTraining(e,n={}){const{ascending:s=!0,descending:r=!1,tempo:i=120,noteLength:o="8n"}=n;if(!this.initialized&&!await this.initialize())return;const a=60/i;let l=[];if(s&&(l=[...e]),r){const c=[...e].reverse();s&&c.shift(),l=[...l,...c]}l.forEach((c,h)=>{setTimeout(()=>{this.synth.triggerAttackRelease(c,o)},h*a*1e3)})}}const Re=new FT,LT=()=>{const[t,e]=j.useState(null),[n,s]=j.useState("major"),[r,i]=j.useState(!1),[o,a]=j.useState(null),l=j.useRef(null),c=600,h=600,d=c/2,p=h/2,v=220,g=150,_=30;j.useEffect(()=>{const x=R0();a(x)},[]),j.useEffect(()=>(Re.initialize(),()=>{r&&Re.stopAll()}),[r]);const w=(x,S)=>{e(x),s(S),r&&(Re.stopAll(),i(!1))},f=()=>{if(!t)return;i(!0);const x=n==="major"?"major":"minor",S=Re.getScaleNotes(t,x,4),C=[...S,S[0].replace("4","5")];Re.playScale(C,120,()=>{i(!1)})},m=()=>{if(!o)return null;const{keys:x,innerKeys:S}=o;return u.jsxs(u.Fragment,{children:[x.map((C,k)=>{const E=k*30*(Math.PI/180),A=d+v*Math.sin(E),N=p-v*Math.cos(E),I=t===C.note&&n==="major";return u.jsxs("g",{onClick:()=>w(C.note,"major"),className:`key-circle ${I?"selected":""}`,transform:`translate(${A}, ${N})`,children:[u.jsx("circle",{r:_,className:`key-circle-major ${I?"selected":""}`}),u.jsx("text",{className:"key-text",textAnchor:"middle",dominantBaseline:"middle",children:C.note}),u.jsx("text",{className:"key-signature",textAnchor:"middle",dominantBaseline:"middle",y:"18",children:C.keySignature.sharps>0?`${C.keySignature.sharps}♯`:C.keySignature.flats>0?`${C.keySignature.flats}♭`:""})]},`major-${C.note}`)}),S.map((C,k)=>{const E=k*30*(Math.PI/180),A=d+g*Math.sin(E),N=p-g*Math.cos(E),I=t===C.note&&n==="minor";return u.jsxs("g",{onClick:()=>w(C.note,"minor"),className:`key-circle ${I?"selected":""}`,transform:`translate(${A}, ${N})`,children:[u.jsx("circle",{r:_,className:`key-circle-minor ${I?"selected":""}`}),u.jsxs("text",{className:"key-text",textAnchor:"middle",dominantBaseline:"middle",children:[C.note,"m"]})]},`minor-${C.note}`)}),t&&o&&y()]})},y=()=>{if(!t||!o)return null;const{keys:x,innerKeys:S}=o,C=[],k=x.find(A=>A.note===t&&n==="major"),E=S.find(A=>A.note===t&&n==="minor");if(k){const A=S.find(N=>N.note===k.relativeMinor);if(A){const N=x.indexOf(k)*30*(Math.PI/180),I=d+v*Math.sin(N),O=p-v*Math.cos(N),P=S.indexOf(A)*30*(Math.PI/180),D=d+g*Math.sin(P),L=p-g*Math.cos(P);C.push(u.jsx("line",{x1:I,y1:O,x2:D,y2:L,className:"relationship-line relative"},"relative-relationship"))}}else if(E){const A=x.find(N=>N.note===E.relativeMajor);if(A){const N=S.indexOf(E)*30*(Math.PI/180),I=d+g*Math.sin(N),O=p-g*Math.cos(N),P=x.indexOf(A)*30*(Math.PI/180),D=d+v*Math.sin(P),L=p-v*Math.cos(P);C.push(u.jsx("line",{x1:I,y1:O,x2:D,y2:L,className:"relationship-line relative"},"relative-relationship"))}}return C},T=()=>{if(!t)return u.jsxs("div",{className:"key-info",children:[u.jsx("h3",{children:"Select a key to see details"}),u.jsx("p",{children:"Click on any key in the circle to view information about it and its relationships."})]});const x=ra(t,n),S=x.sharps>0?`${x.sharps} sharp${x.sharps>1?"s":""}`:x.flats>0?`${x.flats} flat${x.flats>1?"s":""}`:"No sharps or flats",C=n==="major"?`${t==="A"?"F":t==="B"?"G":t==="C"?"A":t==="D"?"B":t==="E"?"C":t==="F"?"D":t==="G"?"E":t}♯ minor`:`${t==="A"?"C":t==="B"?"D":t==="C"?"E":t==="D"?"F":t==="E"?"G":t==="F"?"A":t==="G"?"B":t}♭ major`;return u.jsxs("div",{className:"key-info",children:[u.jsxs("h3",{children:[t," ",n]}),u.jsxs("p",{children:["Key signature: ",S]}),u.jsxs("p",{children:["Relative key: ",C]}),u.jsx("button",{className:"play-button",onClick:f,disabled:r,children:r?"Playing...":"Play Scale"})]})};return u.jsxs("div",{className:"circle-of-fifths-container",children:[u.jsx("h2",{children:"Circle of Fifths"}),u.jsx("div",{className:"circle-diagram",children:u.jsxs("svg",{ref:l,width:c,height:h,viewBox:`0 0 ${c} ${h}`,className:"circle-svg",children:[u.jsx("circle",{cx:d,cy:p,r:v+30,className:"circle-background"}),u.jsx("circle",{cx:d,cy:p,r:g-20,className:"circle-background inner"}),Array.from({length:12}).map((x,S)=>{const C=S*30*(Math.PI/180),k=d+(v+30)*Math.sin(C),E=p-(v+30)*Math.cos(C),A=d+(g-20)*Math.sin(C),N=p-(g-20)*Math.cos(C);return u.jsx("line",{x1:A,y1:N,x2:k,y2:E,className:"radial-line"},`radial-line-${S}`)}),m(),u.jsx("text",{x:d,y:p-15,textAnchor:"middle",className:"center-text-title",children:"Circle of Fifths"}),u.jsx("text",{x:d,y:p+15,textAnchor:"middle",className:"center-text-subtitle",children:"Major (outer) ↔ Minor (inner)"})]})}),T(),u.jsxs("div",{className:"theory-explanation",children:[u.jsx("h3",{children:"About the Circle of Fifths"}),u.jsx("p",{children:"The Circle of Fifths is a visual representation of the relationships between the 12 tones of the chromatic scale. It organizes keys in a way that adjacent keys are separated by an interval of a perfect fifth."}),u.jsx("p",{children:"Moving clockwise around the circle adds one sharp to the key signature, while moving counterclockwise adds one flat. The outer circle represents major keys, while the inner circle shows their relative minor keys."}),u.jsx("p",{children:"This powerful music theory tool helps with understanding key relationships, modulation, and chord progressions."})]})]})},VT=()=>u.jsxs("div",{className:"page-container",children:[u.jsx(En,{}),u.jsx("div",{className:"content-container",children:u.jsx(LT,{})})]}),zT=()=>{const[t,e]=j.useState("C"),[n,s]=j.useState("major"),[r,i]=j.useState([]),[o,a]=j.useState([]),[l,c]=j.useState(!1),[h,d]=j.useState(null),[p,v]=j.useState("I-IV-V-I"),g=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],_=[{value:"major",label:"Major"},{value:"minor",label:"Minor"}],w=[{id:"I-IV-V-I",name:"I-IV-V-I (Common)",degrees:[0,3,4,0]},{id:"I-V-vi-IV",name:"I-V-vi-IV (Pop)",degrees:[0,4,5,3]},{id:"ii-V-I",name:"ii-V-I (Jazz)",degrees:[1,4,0]},{id:"I-vi-IV-V",name:"I-vi-IV-V (50s)",degrees:[0,5,3,4]},{id:"vi-IV-I-V",name:"vi-IV-I-V (Emotional)",degrees:[5,3,0,4]}];j.useEffect(()=>(Re.initialize(),()=>{l&&Re.stopAll()}),[l]),j.useEffect(()=>{const k=Es(t,n);a(k);const E=na(t,n);i(E)},[t,n]);const f=k=>{e(k.target.value)},m=k=>{s(k.target.value)},y=k=>{switch(Fd(k,n)){case"Tonic":return"#4CAF50";case"Subdominant":return"#2196F3";case"Dominant":return"#F44336";default:return"#9E9E9E"}},T=(k,E)=>{let N=["I","II","III","IV","V","VI","VII"][E];return k.type==="min"&&(N=N.toLowerCase()),k.type==="dim"&&(N+="°"),N},x=(k,E)=>{if(l){Re.stopAll(),c(!1),d(null);return}c(!0),d(E);const A=Oc(k.root,k.type,4);Re.playChord(A,"2n",()=>{c(!1),d(null)})},S=()=>{if(l){Re.stopAll(),c(!1),d(null);return}const k=w.find(A=>A.id===p);if(!k)return;c(!0);const E=1;k.degrees.forEach((A,N)=>{const I=r[A];setTimeout(()=>{d(A);const O=Oc(I.root,I.type,4);Re.playChord(O,"2n"),N===k.degrees.length-1&&setTimeout(()=>{c(!1),d(null)},1e3)},N*E*1e3)})},C=k=>{v(k.target.value)};return u.jsxs("div",{className:"chord-visualizer-container",children:[u.jsx("h2",{children:"Chord Function Visualizer"}),u.jsxs("div",{className:"controls",children:[u.jsxs("div",{className:"control-group",children:[u.jsx("label",{htmlFor:"key-select",children:"Key:"}),u.jsx("select",{id:"key-select",value:t,onChange:f,children:g.map(k=>u.jsx("option",{value:k,children:k},k))})]}),u.jsxs("div",{className:"control-group",children:[u.jsx("label",{htmlFor:"scale-select",children:"Scale:"}),u.jsx("select",{id:"scale-select",value:n,onChange:m,children:_.map(k=>u.jsx("option",{value:k.value,children:k.label},k.value))})]})]}),u.jsxs("div",{className:"scale-display",children:[u.jsxs("h3",{children:["Scale: ",t," ",n]}),u.jsx("div",{className:"scale-notes",children:o.map((k,E)=>u.jsx("span",{className:"scale-note",children:k},E))})]}),u.jsxs("div",{className:"chords-container",children:[u.jsx("h3",{children:"Diatonic Chords"}),u.jsx("div",{className:"chord-cards",children:r.map((k,E)=>{const A=T(k,E),N=Fd(E,n),I=y(E),O=h===E;return u.jsxs("div",{className:`chord-card ${O?"playing":""}`,onClick:()=>x(k,E),style:{borderColor:I},children:[u.jsx("div",{className:"chord-numeral",style:{backgroundColor:I},children:A}),u.jsxs("div",{className:"chord-details",children:[u.jsxs("div",{className:"chord-name",children:[k.root,k.type==="maj"?"":k.type==="min"?"m":k.type==="dim"?"°":""]}),u.jsx("div",{className:"chord-notes",children:k.chord.join(" - ")}),u.jsx("div",{className:"chord-function",children:N})]}),u.jsx("div",{className:"play-icon",children:O?"■":"▶"})]},E)})})]}),u.jsxs("div",{className:"progression-player",children:[u.jsx("h3",{children:"Chord Progressions"}),u.jsxs("div",{className:"progression-controls",children:[u.jsx("select",{value:p,onChange:C,children:w.map(k=>u.jsx("option",{value:k.id,children:k.name},k.id))}),u.jsx("button",{className:"play-button",onClick:S,disabled:l&&h===null,children:l?"Stop":"Play Progression"})]}),u.jsx("div",{className:"progression-display",children:p.split("-").map((k,E)=>{const A=w.find(P=>P.id===p),N=A?A.degrees[E]:0,I=h===N&&l,O=y(N);return u.jsx("div",{className:`progression-chord ${I?"playing":""}`,style:{backgroundColor:I?O:"transparent",borderColor:O},children:k},E)})})]}),u.jsxs("div",{className:"theory-explanation",children:[u.jsx("h3",{children:"Understanding Chord Functions"}),u.jsx("p",{children:'Chords in a key have specific roles or "functions" based on their relationship to the tonic (home) chord. These functions create the sense of tension and resolution that drives musical motion.'}),u.jsxs("div",{className:"function-groups",children:[u.jsxs("div",{className:"function-group",children:[u.jsx("h4",{style:{color:"#4CAF50"},children:"Tonic Function (I, vi, iii)"}),u.jsx("p",{children:'Creates a sense of stability and resolution. The "home base" of the key.'})]}),u.jsxs("div",{className:"function-group",children:[u.jsx("h4",{style:{color:"#2196F3"},children:"Subdominant Function (IV, ii)"}),u.jsx("p",{children:'Creates movement away from tonic, setting up tension. The "departure" feeling.'})]}),u.jsxs("div",{className:"function-group",children:[u.jsx("h4",{style:{color:"#F44336"},children:"Dominant Function (V, vii°)"}),u.jsx("p",{children:'Creates maximum tension that wants to resolve back to tonic. The "returning home" impulse.'})]})]}),u.jsx("p",{children:"Most chord progressions in music follow functional patterns that create satisfying journeys of tension and resolution, typically moving from tonic → subdominant → dominant → tonic."})]})]})},WT=()=>u.jsxs("div",{className:"page-container",children:[u.jsx(En,{}),u.jsx("div",{className:"content-container",children:u.jsx(zT,{})})]}),BT=()=>{const[t,e]=j.useState("C"),[n,s]=j.useState([]),[r,i]=j.useState(0),[o,a]=j.useState(!1),[l,c]=j.useState("ascending"),h=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],d={Ionian:{character:"Bright, happy, stable",use:"Pop, rock, folk, children's songs",example:"Happy Birthday, Twinkle Twinkle Little Star",intervals:"W-W-H-W-W-W-H"},Dorian:{character:"Minor with a bright sixth, jazzy, slightly melancholic",use:"Jazz, folk, rock, blues",example:"Scarborough Fair, So What (Miles Davis)",intervals:"W-H-W-W-W-H-W"},Phrygian:{character:"Exotic, tense, Spanish or Middle Eastern flavor",use:"Flamenco, metal, film music for tension",example:"Flamenco music, some heavy metal riffs",intervals:"H-W-W-W-H-W-W"},Lydian:{character:"Dreamy, floating, otherworldly",use:"Film scores, progressive rock, dream sequences",example:"The Simpsons theme, Flying (The Beatles)",intervals:"W-W-W-H-W-W-H"},Mixolydian:{character:"Bluesy, less resolute than major, rock and roll feel",use:"Blues, rock, folk, Celtic music",example:"Norwegian Wood (The Beatles), Sweet Home Alabama",intervals:"W-W-H-W-W-H-W"},Aeolian:{character:"Sad, melancholic, natural minor scale",use:"Pop ballads, rock, classical, emotional pieces",example:"All Along the Watchtower, Stairway to Heaven intro",intervals:"W-H-W-W-H-W-W"},Locrian:{character:"Unstable, tense, dissonant",use:"Jazz, contemporary classical, tension sections",example:"Rare in popular music, used more in jazz and theoretical contexts",intervals:"H-W-W-H-W-W-W"}};j.useEffect(()=>(Re.initialize(),()=>{o&&Re.stopAll()}),[o]),j.useEffect(()=>{const T=P0(t,"major");s(T)},[t]);const p=T=>{e(T.target.value)},v=T=>{i(T)},g=()=>{if(o){Re.stopAll(),a(!1);return}if(n.length===0||r>=n.length)return;a(!0);const x=n[r].scale.map(C=>`${C}4`),S=[...x,`${x[0].replace("4","5")}`];if((l==="ascending"||l==="both")&&Re.playScale(S,120,()=>{l!=="both"&&a(!1)}),l==="descending"||l==="both"){const C=l==="both"?S.length*500:0;setTimeout(()=>{const k=[...S].reverse();Re.playScale(k,120,()=>{a(!1)})},C)}},_=T=>{c(T.target.value)},w=T=>!T||T.length===0?null:u.jsx("div",{className:"interval-pattern",children:T.map((x,S)=>u.jsxs("span",{className:`interval ${x==="W"?"whole":"half"}`,children:[x,S<T.length-1&&u.jsx("span",{className:"interval-dash",children:"-"})]},S))}),f=()=>n.length===0||r>=n.length?null:n[r],m=T=>d[T]||{character:"Unknown",use:"Unknown",example:"Unknown",intervals:"Unknown"},y=()=>{if(n.length===0||r>=n.length)return null;const x=n[r].scale,S=[{note:"C",type:"white"},{note:"C#",type:"black"},{note:"D",type:"white"},{note:"D#",type:"black"},{note:"E",type:"white"},{note:"F",type:"white"},{note:"F#",type:"black"},{note:"G",type:"white"},{note:"G#",type:"black"},{note:"A",type:"white"},{note:"A#",type:"black"},{note:"B",type:"white"}];return u.jsx("div",{className:"mode-keyboard",children:S.map((C,k)=>{const E=x.includes(C.note),A=E?x.indexOf(C.note)+1:null;return u.jsxs("div",{className:`key ${C.type} ${E?"in-scale":""} ${A===1?"root":""}`,children:[u.jsx("span",{className:"key-name",children:C.note}),E&&u.jsx("span",{className:"key-degree",children:A})]},k)})})};return u.jsxs("div",{className:"mode-transformer-container",children:[u.jsx("h2",{children:"Mode Transformer"}),u.jsxs("div",{className:"controls",children:[u.jsxs("div",{className:"control-group",children:[u.jsx("label",{htmlFor:"root-select",children:"Root Note:"}),u.jsx("select",{id:"root-select",value:t,onChange:p,children:h.map(T=>u.jsx("option",{value:T,children:T},T))})]}),u.jsxs("div",{className:"control-group",children:[u.jsx("label",{htmlFor:"playback-mode",children:"Playback:"}),u.jsxs("select",{id:"playback-mode",value:l,onChange:_,children:[u.jsx("option",{value:"ascending",children:"Ascending"}),u.jsx("option",{value:"descending",children:"Descending"}),u.jsx("option",{value:"both",children:"Both"})]})]}),u.jsx("button",{className:"play-button",onClick:g,disabled:n.length===0,children:o?"Stop":"Play Mode"})]}),u.jsx("div",{className:"modes-tabs",children:n.map((T,x)=>u.jsx("div",{className:`mode-tab ${r===x?"active":""}`,onClick:()=>v(x),children:T.name},x))}),u.jsx("div",{className:"mode-display",children:f()&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"mode-header",children:[u.jsxs("h3",{children:[f().root," ",f().name]}),u.jsx("div",{className:"mode-scale",children:f().scale.map((T,x)=>u.jsxs("span",{className:"scale-note",children:[T,x===0&&u.jsx("sup",{children:"1"})]},x))})]}),u.jsxs("div",{className:"mode-details",children:[u.jsxs("div",{className:"intervals-section",children:[u.jsx("h4",{children:"Interval Pattern"}),w(f().pattern),u.jsxs("p",{className:"interval-formula",children:["Formula: ",m(f().name).intervals]})]}),u.jsxs("div",{className:"keyboard-section",children:[u.jsx("h4",{children:"Scale Visualization"}),y()]})]}),u.jsxs("div",{className:"mode-info",children:[u.jsxs("div",{className:"info-section",children:[u.jsx("h4",{children:"Character"}),u.jsx("p",{children:m(f().name).character})]}),u.jsxs("div",{className:"info-section",children:[u.jsx("h4",{children:"Common Uses"}),u.jsx("p",{children:m(f().name).use})]}),u.jsxs("div",{className:"info-section",children:[u.jsx("h4",{children:"Examples"}),u.jsx("p",{children:m(f().name).example})]})]})]})}),u.jsxs("div",{className:"mode-transformation",children:[u.jsx("h3",{children:"Understanding Modal Transformation"}),u.jsx("p",{children:"Modes are derived from the same set of notes but start from different positions. Each mode has a unique sound and character due to the different interval patterns created when starting from a different note."}),u.jsxs("p",{children:["For example, all the modes shown above use the same set of notes as the ",t," major scale, but each one starts on a different note of that scale, creating a completely different sound."]}),u.jsxs("div",{className:"transformation-diagram",children:[u.jsxs("div",{className:"parent-scale",children:[u.jsxs("h4",{children:[t," Ionian (Major Scale)"]}),u.jsx("div",{className:"scale-notes",children:n.length>0&&n[0].scale.map((T,x)=>u.jsx("span",{className:"diagram-note",children:T},x))})]}),u.jsx("div",{className:"transformation-arrows",children:"↓ ↓ ↓ ↓ ↓ ↓ ↓"}),u.jsxs("div",{className:"derived-modes",children:[u.jsxs("div",{className:"derived-mode",children:[u.jsxs("h5",{children:[t," Ionian"]}),u.jsxs("div",{className:"mode-rotation",children:["Start from ",t]})]}),u.jsxs("div",{className:"derived-mode",children:[u.jsxs("h5",{children:[n.length>1?n[1].root:""," Dorian"]}),u.jsx("div",{className:"mode-rotation",children:"Start from the 2nd note"})]}),u.jsxs("div",{className:"derived-mode",children:[u.jsxs("h5",{children:[n.length>2?n[2].root:""," Phrygian"]}),u.jsx("div",{className:"mode-rotation",children:"Start from the 3rd note"})]}),u.jsxs("div",{className:"derived-mode",children:[u.jsxs("h5",{children:[n.length>3?n[3].root:""," Lydian"]}),u.jsx("div",{className:"mode-rotation",children:"Start from the 4th note"})]}),u.jsxs("div",{className:"derived-mode",children:[u.jsxs("h5",{children:[n.length>4?n[4].root:""," Mixolydian"]}),u.jsx("div",{className:"mode-rotation",children:"Start from the 5th note"})]}),u.jsxs("div",{className:"derived-mode",children:[u.jsxs("h5",{children:[n.length>5?n[5].root:""," Aeolian"]}),u.jsx("div",{className:"mode-rotation",children:"Start from the 6th note"})]}),u.jsxs("div",{className:"derived-mode",children:[u.jsxs("h5",{children:[n.length>6?n[6].root:""," Locrian"]}),u.jsx("div",{className:"mode-rotation",children:"Start from the 7th note"})]})]})]})]}),u.jsxs("div",{className:"practical-applications",children:[u.jsx("h3",{children:"Practical Applications"}),u.jsxs("div",{className:"application",children:[u.jsx("h4",{children:"Composition"}),u.jsx("p",{children:"Modes provide different emotional colors for your music. Switch between modes to create contrast or establish a particular mood. For example, Dorian mode creates a jazzy, slightly melancholic feel that's neither too dark nor too bright."})]}),u.jsxs("div",{className:"application",children:[u.jsx("h4",{children:"Improvisation"}),u.jsx("p",{children:"Modes give improvisers a framework for creating melodies with specific characters. When soloing over chord progressions, understanding which mode fits each chord helps create melodic lines that complement the harmony."})]}),u.jsxs("div",{className:"application",children:[u.jsx("h4",{children:"Analysis"}),u.jsx("p",{children:"Modal analysis helps understand why certain pieces sound the way they do. Film composers often use Lydian mode for wonder and fantasy, while Dorian mode appears frequently in folk and jazz."})]})]})]})},UT=()=>u.jsxs("div",{className:"page-container",children:[u.jsx(En,{}),u.jsx("div",{className:"content-container",children:u.jsx(BT,{})})]}),$T=()=>{const[t,e]=j.useState(null),[n,s]=j.useState(null),[r,i]=j.useState(null),{playNote:o,playInterval:a}=qi();j.useEffect(()=>{if(t&&n){const h=M0(t.replace(/\d/g,""),n.replace(/\d/g,""));i(h)}else i(null)},[t,n]);const l=h=>{t?t&&!n?(s(h),o(h),setTimeout(()=>{a(t,h)},700)):(e(h),s(null),o(h)):(e(h),o(h))},c=()=>{const d=(()=>{const p=[];for(let v=3;v<=5;v++)Ve.forEach(g=>{p.push(`${g}${v}`)});return p})();return u.jsx("div",{className:"keyboard",children:d.map(p=>{const v=p.replace(/\d/g,""),g=v.includes("#"),_=p===t||p===n;return u.jsx("div",{className:`piano-key ${g?"black-key":"white-key"} ${_?"selected":""}`,onClick:()=>l(p),children:u.jsx("span",{children:v})},p)})})};return u.jsxs("div",{className:"interval-demonstrator",children:[u.jsx("h2",{children:"Interval Relationship Demonstrator"}),u.jsx("p",{children:"Intervals create relationships between notes and are the building blocks of melody and harmony. Select two notes on the keyboard to hear and analyze their interval relationship."}),u.jsxs("div",{className:"selection-display",children:[u.jsxs("div",{className:"selected-notes",children:[u.jsxs("div",{className:"note-display",children:[u.jsx("strong",{children:"First Note:"})," ",t||"Select a note"]}),u.jsxs("div",{className:"note-display",children:[u.jsx("strong",{children:"Second Note:"})," ",n||"Select a note"]})]}),r&&u.jsxs("div",{className:"interval-info",children:[u.jsxs("h3",{children:["Interval: ",r.name]}),u.jsxs("p",{children:["Semitones: ",r.semitones]}),u.jsxs("p",{children:["Frequency Ratio: ",r.ratio]}),u.jsxs("p",{children:["Character: ",r.character]})]})]}),u.jsx("div",{className:"keyboard-container",children:c()}),u.jsxs("div",{className:"controls",children:[u.jsx("button",{onClick:()=>{t&&n&&a(t,n)},disabled:!t||!n,children:"Play Interval"}),u.jsx("button",{onClick:()=>{e(null),s(null)},children:"Reset"})]})]})},qT=()=>u.jsxs("div",{className:"page-container",children:[u.jsx(En,{}),u.jsx("div",{className:"content-container",children:u.jsx($T,{})})]}),HT=()=>{const[t,e]=j.useState("C"),[n,s]=j.useState("major"),[r,i]=j.useState([]),[o,a]=j.useState({}),[l,c]=j.useState([]),{playNote:h,playSequence:d}=qi();j.useEffect(()=>{const f=Es(t,n),m=f.map(T=>`${T}4`);i(m);const y={};m.forEach((T,x)=>{y[T]={color:v(x),label:`${x+1}`}}),a(y),p(f)},[t,n]);const p=f=>{const m=[];for(let S=0;S<f.length-1;S++){const C=st(f[S]),E=(st(f[S+1])-C+12)%12;E===1?m.push({from:f[S],to:f[S+1],type:"half",semitones:E}):E===2?m.push({from:f[S],to:f[S+1],type:"whole",semitones:E}):m.push({from:f[S],to:f[S+1],type:"other",semitones:E})}const y=st(f[f.length-1]),x=(st(f[0])-y+12)%12;m.push({from:f[f.length-1],to:f[0],type:x===1?"half":x===2?"whole":"other",semitones:x}),c(m)},v=f=>{const m=["#FF5722","#4CAF50","#2196F3","#FFC107","#9C27B0","#00BCD4","#F44336"];return m[f%m.length]},g=()=>{const f=[...r],m=[...r].reverse().slice(1);d([...f,...m],120)},_=f=>{h(f)},w=()=>{const m=(()=>{const y=[];for(let T=3;T<=5;T++)Ve.forEach(x=>{y.push(`${x}${T}`)});return y})();return u.jsx("div",{className:"keyboard",children:m.map(y=>{const x=y.replace(/\d/g,"").includes("#"),S=r.includes(y),C=o[y];return u.jsx("div",{className:`piano-key ${x?"black-key":"white-key"} ${S?"in-scale":""}`,style:S?{backgroundColor:C==null?void 0:C.color}:{},onClick:()=>_(y),children:u.jsx("span",{children:S?C==null?void 0:C.label:""})},y)})})};return u.jsxs("div",{className:"scale-lab",children:[u.jsx("h2",{children:"Scale Construction Laboratory"}),u.jsx("p",{children:"Explore how different scales are constructed using specific patterns of intervals. Select a root note and scale type to see the pattern visualized on the keyboard."}),u.jsxs("div",{className:"controls",children:[u.jsxs("div",{className:"control-group",children:[u.jsx("label",{htmlFor:"root-note",children:"Root Note:"}),u.jsx("select",{id:"root-note",value:t,onChange:f=>e(f.target.value),children:Ve.map(f=>u.jsx("option",{value:f,children:f},f))})]}),u.jsxs("div",{className:"control-group",children:[u.jsx("label",{htmlFor:"scale-type",children:"Scale Type:"}),u.jsx("select",{id:"scale-type",value:n,onChange:f=>s(f.target.value),children:Object.keys(ta).map(f=>u.jsx("option",{value:f,children:f.charAt(0).toUpperCase()+f.slice(1)},f))})]}),u.jsx("button",{className:"play-button",onClick:g,children:"Play Scale"})]}),u.jsxs("div",{className:"scale-display",children:[u.jsx("h3",{children:"Scale Notes:"}),u.jsx("div",{className:"scale-notes",children:r.map((f,m)=>u.jsxs("div",{className:"scale-note",style:{backgroundColor:v(m)},onClick:()=>_(f),children:[f.replace(/\d/g,""),u.jsx("span",{className:"degree",children:m+1})]},m))})]}),u.jsxs("div",{className:"step-pattern",children:[u.jsx("h3",{children:"Step Pattern:"}),u.jsx("div",{className:"steps",children:l.map((f,m)=>u.jsxs("div",{className:`step ${f.type}`,children:[u.jsxs("div",{className:"notes",children:[u.jsx("span",{children:f.from}),u.jsx("span",{children:"to"}),u.jsx("span",{children:f.to})]}),u.jsx("div",{className:"description",children:f.type==="half"?"Half Step (1 semitone)":f.type==="whole"?"Whole Step (2 semitones)":`${f.semitones} semitones`})]},m))})]}),u.jsxs("div",{className:"keyboard-container",children:[u.jsx("h3",{children:"Interactive Keyboard:"}),w()]}),u.jsxs("div",{className:"scale-theory",children:[u.jsxs("h3",{children:["About ",t," ",n.charAt(0).toUpperCase()+n.slice(1)," Scale:"]}),u.jsxs("p",{children:["The ",t," ",n," scale consists of ",r.length," notes.",n==="major"&&" The major scale is one of the most common scales in Western music, with a bright and happy sound.",n==="minor"&&" The natural minor scale has a darker, more melancholic sound compared to the major scale.",n==="dorian"&&" The Dorian mode is a minor mode with a raised 6th degree, giving it a jazzy and slightly less somber sound than the natural minor.",n==="phrygian"&&" The Phrygian mode has a distinctive Spanish or Eastern flavor, with its flattened 2nd degree.",n==="lydian"&&" The Lydian mode has a dreamy, floating quality due to its raised 4th degree.",n==="mixolydian"&&" The Mixolydian mode has a bluesy, dominant 7th chord sound due to its flattened 7th degree.",n==="locrian"&&" The Locrian mode is the most dissonant of the modes, with both a flattened 2nd and 5th degree."]}),u.jsxs("p",{children:["The formula for this scale is:",ta[n].map((f,m)=>u.jsxs("span",{children:[m>0?" - ":"",f]},m))]})]})]})},GT=()=>u.jsxs("div",{className:"page-container",children:[u.jsx(En,{}),u.jsx("div",{className:"content-container",children:u.jsx(HT,{})})]}),QT=()=>{const[t,e]=j.useState("C"),[n,s]=j.useState("major"),[r,i]=j.useState([]),[o,a]=j.useState([]),[l,c]=j.useState(null),[h,d]=j.useState([]),[p,v]=j.useState([]),[g,_]=j.useState("scales"),{playNote:w,playSequence:f,playChord:m}=qi();j.useEffect(()=>{const C=Es(t,n).map(E=>`${E}4`);i(C);const k=sa(t,n);if(c(k),k){const A=Es(k.root,k.type).map(N=>`${N}4`);a(A),d(na(t,n)),v(na(k.root,k.type))}},[t,n]);const y=S=>{if(S&&S.length>0){const C=[...S],k=[...S].reverse().slice(1);f([...C,...k],120)}},T=S=>{if(S&&S.chord){const C=S.chord.map(k=>`${k}4`);m(C)}},x=()=>{r.length>0&&o.length>0&&(y(r),setTimeout(()=>{y(o)},4e3))};return u.jsxs("div",{className:"relative-explorer",children:[u.jsx("h2",{children:"Relative Major/Minor Explorer"}),u.jsx("p",{children:"Explore the relationship between relative major and minor keys, which share the same notes but start from different positions, creating different tonalities."}),u.jsxs("div",{className:"controls",children:[u.jsxs("div",{className:"control-group",children:[u.jsx("label",{htmlFor:"root-note",children:"Root Note:"}),u.jsx("select",{id:"root-note",value:t,onChange:S=>e(S.target.value),children:Ve.map(S=>u.jsx("option",{value:S,children:S},S))})]}),u.jsxs("div",{className:"control-group",children:[u.jsx("label",{htmlFor:"scale-type",children:"Scale Type:"}),u.jsxs("select",{id:"scale-type",value:n,onChange:S=>s(S.target.value),children:[u.jsx("option",{value:"major",children:"Major"}),u.jsx("option",{value:"minor",children:"Minor"})]})]}),u.jsx("button",{className:"play-button",onClick:x,children:"Play Both Scales"})]}),u.jsxs("div",{className:"tabs",children:[u.jsx("button",{className:`tab ${g==="scales"?"active":""}`,onClick:()=>_("scales"),children:"Scales"}),u.jsx("button",{className:`tab ${g==="chords"?"active":""}`,onClick:()=>_("chords"),children:"Chords"}),u.jsx("button",{className:`tab ${g==="theory"?"active":""}`,onClick:()=>_("theory"),children:"Theory"})]}),u.jsxs("div",{className:"tab-content",children:[g==="scales"&&u.jsxs("div",{className:"scales-view",children:[u.jsxs("div",{className:"scale-box primary",children:[u.jsxs("h3",{children:[t," ",n.charAt(0).toUpperCase()+n.slice(1)]}),u.jsx("div",{className:"scale-notes",children:r.map((S,C)=>u.jsxs("div",{className:"scale-note",onClick:()=>w(S),children:[S.replace(/\d/g,""),u.jsx("span",{className:"degree",children:C+1})]},C))}),u.jsx("button",{onClick:()=>y(r),children:"Play Scale"})]}),u.jsx("div",{className:"relationship-arrow",children:n==="major"?"↔ Relative Minor":"↔ Relative Major"}),l&&u.jsxs("div",{className:"scale-box relative",children:[u.jsxs("h3",{children:[l.root," ",l.type.charAt(0).toUpperCase()+l.type.slice(1)]}),u.jsx("div",{className:"scale-notes",children:o.map((S,C)=>u.jsxs("div",{className:"scale-note",onClick:()=>w(S),children:[S.replace(/\d/g,""),u.jsx("span",{className:"degree",children:C+1})]},C))}),u.jsx("button",{onClick:()=>y(o),children:"Play Scale"})]})]}),g==="chords"&&u.jsxs("div",{className:"chords-view",children:[u.jsxs("div",{className:"chord-box primary",children:[u.jsxs("h3",{children:[t," ",n.charAt(0).toUpperCase()+n.slice(1)," Chords"]}),u.jsx("div",{className:"chord-list",children:h.map((S,C)=>u.jsxs("div",{className:"chord-item",onClick:()=>T(S),children:[u.jsx("div",{className:"chord-name",children:S.numeral}),u.jsxs("div",{className:"chord-notes",children:[S.root,S.type," (",S.chord.join(", "),")"]}),u.jsx("div",{className:"chord-function",children:S.function})]},C))})]}),l&&u.jsxs("div",{className:"chord-box relative",children:[u.jsxs("h3",{children:[l.root," ",l.type.charAt(0).toUpperCase()+l.type.slice(1)," Chords"]}),u.jsx("div",{className:"chord-list",children:p.map((S,C)=>u.jsxs("div",{className:"chord-item",onClick:()=>T(S),children:[u.jsx("div",{className:"chord-name",children:S.numeral}),u.jsxs("div",{className:"chord-notes",children:[S.root,S.type," (",S.chord.join(", "),")"]}),u.jsx("div",{className:"chord-function",children:S.function})]},C))})]})]}),g==="theory"&&u.jsxs("div",{className:"theory-view",children:[u.jsx("h3",{children:"Understanding Relative Keys"}),u.jsxs("div",{className:"theory-content",children:[u.jsxs("p",{children:[u.jsx("strong",{children:"Relative keys"})," are musical keys that share the same key signature (the same set of sharps or flats). Every major key has a relative minor key, and every minor key has a relative major key."]}),u.jsx("h4",{children:"Key Relationships:"}),u.jsxs("ul",{children:[u.jsxs("li",{children:[u.jsx("strong",{children:"To find the relative minor"})," of a major key: Go down 3 semitones (or up 9 semitones) from the major key's tonic. For example, the relative minor of C major is A minor."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"To find the relative major"})," of a minor key: Go up 3 semitones (or down 9 semitones) from the minor key's tonic. For example, the relative major of A minor is C major."]})]}),u.jsx("h4",{children:"What Makes Them Special:"}),u.jsxs("ul",{children:[u.jsxs("li",{children:[u.jsx("strong",{children:"Same notes, different starting point:"})," Both relative keys use exactly the same notes, but they start from different positions in the scale."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Different character:"})," Despite sharing the same notes, they sound very different because of the different tonal center and chord relationships."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Different chord functions:"})," The chords play different functional roles in each key, creating distinct harmonies and resolutions."]})]}),l&&u.jsxs("div",{className:"example-box",children:[u.jsx("h4",{children:"Current Example:"}),u.jsxs("p",{children:[t," ",n," and ",l.root," ",l.type," are relative keys."]}),u.jsx("p",{children:"Both keys share exactly the same notes, starting from different positions. However, the emotional character is quite different:"}),u.jsxs("ul",{children:[u.jsxs("li",{children:[t," ",n," typically sounds ",n==="major"?"bright and happy":"dark and melancholic","."]}),u.jsxs("li",{children:[l.root," ",l.type," typically sounds ",l.type==="major"?"bright and happy":"dark and melancholic","."]})]})]})]})]})]})]})},YT=()=>u.jsxs("div",{className:"page-container",children:[u.jsx(En,{}),u.jsx("div",{className:"content-container",children:u.jsx(QT,{})})]}),$g=j.createContext(),XT=()=>j.useContext($g),KT=({children:t})=>{const{progress:e,updateConceptMastery:n}=nl(),[s,r]=j.useState(null),[i,o]=j.useState("interval"),[a,l]=j.useState("beginner"),[c,h]=j.useState("practice"),[d,p]=j.useState({correct:0,incorrect:0,streak:0,maxStreak:0,startTime:null,totalTime:0}),[v,g]=j.useState({interval:{beginner:{intervals:[2,3,4,5,7],octaveRange:1},intermediate:{intervals:[1,2,3,4,5,6,7,8,9],octaveRange:2},advanced:{intervals:[1,2,3,4,5,6,7,8,9,10,11],octaveRange:3}},chord:{beginner:{chordTypes:["maj","min"],inversions:!1},intermediate:{chordTypes:["maj","min","dim","aug","7"],inversions:!0},advanced:{chordTypes:["maj","min","dim","aug","7","maj7","min7","m7b5"],inversions:!0}},scale:{beginner:{scaleTypes:["major","minor"],keyRange:["C","D","E","F","G","A","B"]},intermediate:{scaleTypes:["major","minor","dorian","mixolydian"],keyRange:Ve.slice(0,8)},advanced:{scaleTypes:Object.keys(ta),keyRange:Ve}}}),_=()=>{const N=v.interval[a],I=N.intervals,O=I[Math.floor(Math.random()*I.length)],P=Ve[Math.floor(Math.random()*Ve.length)],D=3+Math.floor(Math.random()*N.octaveRange),L=D+Math.floor(O/12),V=`${P}${D}`,M=(Ve.indexOf(P)+O)%12,F=`${Ve[M]}${L}`;return{type:"interval",rootNote:V,targetNote:F,interval:O,correctAnswer:jc[O],options:w(O),playSequentially:!0,playTogether:!1}},w=N=>{const O=v.interval[a].intervals,P=[N];for(;P.length<4;){const D=O[Math.floor(Math.random()*O.length)];P.includes(D)||P.push(D)}return P.sort(()=>Math.random()-.5).map(D=>({value:D,label:jc[D]}))},f=()=>{const I=v.chord[a].chordTypes,O=I[Math.floor(Math.random()*I.length)],P=Ve[Math.floor(Math.random()*Ve.length)],D=4,L=Oc(P,O,D);return{type:"chord",rootNote:`${P}${D}`,chordType:O,chordNotes:L,correctAnswer:O,options:m(O),playArpeggio:!1,playTogether:!0}},m=N=>{const O=v.chord[a].chordTypes,P=[N];for(;P.length<4;){const D=O[Math.floor(Math.random()*O.length)];P.includes(D)||P.push(D)}return P.sort(()=>Math.random()-.5).map(D=>({value:D,label:y(D)}))},y=N=>({maj:"Major",min:"Minor",dim:"Diminished",aug:"Augmented",7:"Dominant 7th",maj7:"Major 7th",min7:"Minor 7th",m7b5:"Half Diminished"})[N]||N,T=()=>{const N=v.scale[a],I=N.scaleTypes,O=I[Math.floor(Math.random()*I.length)],P=N.keyRange,D=P[Math.floor(Math.random()*P.length)],V=Es(D,O).map(M=>`${M}4`);return{type:"scale",rootNote:`${D}4`,scaleType:O,scaleNotes:V,correctAnswer:O,options:x(O),playAscending:!0,playDescending:!1}},x=N=>{const O=v.scale[a].scaleTypes,P=[N];for(;P.length<4;){const D=O[Math.floor(Math.random()*O.length)];P.includes(D)||P.push(D)}return P.sort(()=>Math.random()-.5).map(D=>({value:D,label:D.charAt(0).toUpperCase()+D.slice(1)}))},A={currentExercise:s,exerciseType:i,difficulty:a,mode:c,sessionStats:d,exerciseSettings:v,setExerciseType:o,setDifficulty:l,setMode:h,generateExercise:(N=i)=>{let I;switch(N){case"interval":I=_();break;case"chord":I=f();break;case"scale":I=T();break;default:I=_()}return r(I),I},submitAnswer:N=>{if(!s)return;const I=N===s.correctAnswer;p(L=>{const V=I?L.streak+1:0;return{...L,correct:L.correct+(I?1:0),incorrect:L.incorrect+(I?0:1),streak:V,maxStreak:Math.max(L.maxStreak,V)}});const O=`eartraining-${i}-${a}`,P=I?"correct":"incorrect",D=`${i}-${a}-${s.correctAnswer}`;return n&&(n(O,P),n(D,P)),I},startSession:()=>{p({correct:0,incorrect:0,streak:0,maxStreak:0,startTime:Date.now(),totalTime:0})},endSession:()=>{p(N=>({...N,totalTime:N.startTime?Date.now()-N.startTime:0}))},setCurrentExercise:r};return u.jsx($g.Provider,{value:A,children:t})},ZT=({exercise:t,onAnswer:e,showHints:n=!1,autoAdvance:s=!1,onNext:r})=>{var S,C,k;const[i,o]=j.useState(null),[a,l]=j.useState(!1),[c,h]=j.useState(!1),[d,p]=j.useState(!1),{playNote:v,playChord:g,playSequence:_}=qi();j.useEffect(()=>{o(null),l(!1),h(!1)},[t]);const w=async()=>{if(!(!t||d)){p(!0);try{switch(t.type){case"interval":await Re.playIntervalForTraining(t.rootNote,t.targetNote,{sequential:t.playSequentially,gap:.8,duration:"2n"});break;case"chord":await Re.playChordForTraining(t.chordNotes,{arpeggiate:t.playArpeggio,arpeggiateSpeed:120,duration:"2n"});break;case"scale":await Re.playScaleForTraining(t.scaleNotes,{ascending:t.playAscending,descending:t.playDescending,tempo:120});break;default:console.warn("Unknown exercise type:",t.type)}}catch(E){console.error("Error playing exercise:",E)}finally{setTimeout(()=>p(!1),2e3)}}},f=E=>{a||o(E)},m=()=>{if(!i||a)return;const E=e(i);h(E),l(!0),s&&E&&setTimeout(()=>{r==null||r()},1500)},y=()=>{r==null||r()},T=()=>{switch(t==null?void 0:t.type){case"interval":return"Identify the Interval";case"chord":return"Identify the Chord Quality";case"scale":return"Identify the Scale";default:return"Exercise"}},x=()=>{switch(t==null?void 0:t.type){case"interval":return"Listen to the two notes and identify the interval between them.";case"chord":return"Listen to the chord and identify its quality.";case"scale":return"Listen to the scale and identify its type.";default:return"Listen and identify the musical element."}};return t?u.jsxs("div",{className:"exercise-base",children:[u.jsxs("div",{className:"exercise-header",children:[u.jsx("h3",{children:T()}),u.jsx("p",{className:"exercise-instructions",children:x()})]}),u.jsxs("div",{className:"exercise-player",children:[u.jsx("button",{className:`play-button ${d?"playing":""}`,onClick:w,disabled:d,children:d?"♪ Playing...":"▶ Play Exercise"}),!d&&u.jsx("button",{className:"replay-button",onClick:w,title:"Replay Exercise",children:"🔄 Replay"})]}),u.jsx("div",{className:"exercise-options",children:(S=t.options)==null?void 0:S.map((E,A)=>u.jsx("button",{className:`option-button ${i===E.value?"selected":""} ${a&&E.value===t.correctAnswer?"correct":""} ${a&&i===E.value&&!c?"incorrect":""}`,onClick:()=>f(E.value),disabled:a,children:E.label},A))}),n&&i&&!a&&u.jsxs("div",{className:"exercise-hint",children:[t.type==="interval"&&u.jsx("p",{children:"💡 Hint: Try singing or humming from the first note to the second. Large intervals jump more than small ones."}),t.type==="chord"&&u.jsx("p",{children:"💡 Hint: Major chords sound bright and happy, minor chords sound darker, diminished chords sound tense."}),t.type==="scale"&&u.jsx("p",{children:"💡 Hint: Major scales sound bright and complete, minor scales sound darker, modes have unique characteristics."})]}),n&&!i&&!a&&u.jsx("div",{className:"exercise-hint",children:u.jsx("p",{children:"💡 Select an answer to see a helpful hint!"})}),u.jsxs("div",{className:"exercise-controls",children:[u.jsx("button",{className:"submit-button",onClick:m,disabled:!i||a,children:"Submit Answer"}),a&&u.jsx("button",{className:"next-button",onClick:y,children:"Next Exercise"})]}),a&&u.jsxs("div",{className:`exercise-result ${c?"correct":"incorrect"}`,children:[u.jsx("div",{className:"result-icon",children:c?"✅":"❌"}),u.jsx("div",{className:"result-message",children:c?"Correct! Well done!":`Incorrect. The answer was: ${(k=(C=t.options)==null?void 0:C.find(E=>E.value===t.correctAnswer))==null?void 0:k.label}`})]})]}):u.jsx("div",{className:"exercise-base",children:u.jsx("div",{className:"no-exercise",children:u.jsx("p",{children:"No exercise available. Generate a new exercise to begin."})})})},JT=()=>{const{progress:t}=nl(),n=(()=>{const i=Object.entries(t.conceptMastery||{}).filter(([a])=>a.startsWith("eartraining-")||a.includes("interval-")||a.includes("chord-")||a.includes("scale-")),o={totalExercises:0,correctAnswers:0,byType:{interval:{total:0,correct:0},chord:{total:0,correct:0},scale:{total:0,correct:0}},byDifficulty:{beginner:{total:0,correct:0},intermediate:{total:0,correct:0},advanced:{total:0,correct:0}}};return i.forEach(([a,l])=>{if(l.level==="correct"||l.level==="incorrect"){o.totalExercises++,l.level==="correct"&&o.correctAnswers++;const c=a.split("-");if(c.length>=2){const h=c[0]==="eartraining"?c[1]:c[0],d=c[0]==="eartraining"?c[2]:c[1];o.byType[h]&&(o.byType[h].total++,l.level==="correct"&&o.byType[h].correct++),o.byDifficulty[d]&&(o.byDifficulty[d].total++,l.level==="correct"&&o.byDifficulty[d].correct++)}}}),o})(),s=n.totalExercises>0?Math.round(n.correctAnswers/n.totalExercises*100):0,r=(i,o)=>o>0?Math.round(i/o*100):0;return n.totalExercises===0?u.jsxs("div",{className:"ear-training-stats",children:[u.jsx("h3",{children:"Your Progress"}),u.jsx("p",{className:"no-stats",children:"Complete some exercises to see your progress statistics here!"})]}):u.jsxs("div",{className:"ear-training-stats",children:[u.jsx("h3",{children:"Your Progress"}),u.jsxs("div",{className:"overall-stats",children:[u.jsxs("div",{className:"stat-card",children:[u.jsx("div",{className:"stat-number",children:n.totalExercises}),u.jsx("div",{className:"stat-label",children:"Total Exercises"})]}),u.jsxs("div",{className:"stat-card",children:[u.jsx("div",{className:"stat-number",children:n.correctAnswers}),u.jsx("div",{className:"stat-label",children:"Correct Answers"})]}),u.jsxs("div",{className:"stat-card accuracy",children:[u.jsxs("div",{className:"stat-number",children:[s,"%"]}),u.jsx("div",{className:"stat-label",children:"Overall Accuracy"})]})]}),u.jsxs("div",{className:"detailed-stats",children:[u.jsxs("div",{className:"stats-section",children:[u.jsx("h4",{children:"By Exercise Type"}),u.jsx("div",{className:"stats-grid",children:Object.entries(n.byType).map(([i,o])=>o.total>0&&u.jsxs("div",{className:"stat-item",children:[u.jsx("span",{className:"stat-type",children:i.charAt(0).toUpperCase()+i.slice(1)}),u.jsxs("span",{className:"stat-accuracy",children:[r(o.correct,o.total),"%"]}),u.jsxs("span",{className:"stat-count",children:["(",o.correct,"/",o.total,")"]})]},i))})]}),u.jsxs("div",{className:"stats-section",children:[u.jsx("h4",{children:"By Difficulty"}),u.jsx("div",{className:"stats-grid",children:Object.entries(n.byDifficulty).map(([i,o])=>o.total>0&&u.jsxs("div",{className:"stat-item",children:[u.jsx("span",{className:"stat-type",children:i.charAt(0).toUpperCase()+i.slice(1)}),u.jsxs("span",{className:"stat-accuracy",children:[r(o.correct,o.total),"%"]}),u.jsxs("span",{className:"stat-count",children:["(",o.correct,"/",o.total,")"]})]},i))})]})]})]})},eC=()=>{const{currentExercise:t,exerciseType:e,difficulty:n,mode:s,sessionStats:r,setExerciseType:i,setDifficulty:o,setMode:a,generateExercise:l,submitAnswer:c,startSession:h,endSession:d}=XT(),[p,v]=j.useState(!1),[g,_]=j.useState(0),[w,f]=j.useState(null);j.useEffect(()=>{if(s==="challenge"&&p&&g>0){const N=setInterval(()=>{_(I=>I<=1?(y(),0):I-1)},1e3);return f(N),()=>clearInterval(N)}else w&&(clearInterval(w),f(null))},[s,p,g]);const m=()=>{h(),v(!0),s==="challenge"&&_(300),l()},y=()=>{d(),v(!1),_(0),w&&(clearInterval(w),f(null))},T=N=>c(N),x=()=>{l()},S=N=>{i(N),p&&l(N)},C=N=>{o(N),p&&l()},k=N=>{a(N),p&&y()},E=N=>{const I=Math.floor(N/60),O=N%60;return`${I}:${O.toString().padStart(2,"0")}`},A=()=>{const N=r.correct+r.incorrect;return N>0?Math.round(r.correct/N*100):0};return u.jsxs("div",{className:"ear-training",children:[u.jsxs("div",{className:"ear-training-header",children:[u.jsx("h2",{children:"Advanced Ear Training"}),u.jsx("p",{children:"Develop your listening skills with interactive exercises"})]}),u.jsxs("div",{className:"exercise-controls",children:[u.jsxs("div",{className:"control-group",children:[u.jsx("label",{children:"Exercise Type:"}),u.jsxs("select",{value:e,onChange:N=>S(N.target.value),disabled:p,children:[u.jsx("option",{value:"interval",children:"Interval Recognition"}),u.jsx("option",{value:"chord",children:"Chord Quality"}),u.jsx("option",{value:"scale",children:"Scale Identification"})]})]}),u.jsxs("div",{className:"control-group",children:[u.jsx("label",{children:"Difficulty:"}),u.jsxs("select",{value:n,onChange:N=>C(N.target.value),children:[u.jsx("option",{value:"beginner",children:"Beginner"}),u.jsx("option",{value:"intermediate",children:"Intermediate"}),u.jsx("option",{value:"advanced",children:"Advanced"})]})]}),u.jsxs("div",{className:"control-group",children:[u.jsx("label",{children:"Mode:"}),u.jsxs("select",{value:s,onChange:N=>k(N.target.value),disabled:p,children:[u.jsx("option",{value:"practice",children:"Practice"}),u.jsx("option",{value:"challenge",children:"Challenge (5 min)"})]})]})]}),p&&u.jsxs("div",{className:"session-stats",children:[u.jsxs("div",{className:"stat-item",children:[u.jsx("span",{className:"stat-label",children:"Correct:"}),u.jsx("span",{className:"stat-value correct",children:r.correct})]}),u.jsxs("div",{className:"stat-item",children:[u.jsx("span",{className:"stat-label",children:"Incorrect:"}),u.jsx("span",{className:"stat-value incorrect",children:r.incorrect})]}),u.jsxs("div",{className:"stat-item",children:[u.jsx("span",{className:"stat-label",children:"Accuracy:"}),u.jsxs("span",{className:"stat-value",children:[A(),"%"]})]}),u.jsxs("div",{className:"stat-item",children:[u.jsx("span",{className:"stat-label",children:"Streak:"}),u.jsx("span",{className:"stat-value streak",children:r.streak})]}),s==="challenge"&&u.jsxs("div",{className:"stat-item",children:[u.jsx("span",{className:"stat-label",children:"Time:"}),u.jsx("span",{className:`stat-value ${g<60?"warning":""}`,children:E(g)})]})]}),u.jsx("div",{className:"exercise-area",children:p?u.jsx(ZT,{exercise:t,onAnswer:T,onNext:x,showHints:s==="practice",autoAdvance:s==="challenge"}):u.jsxs("div",{className:"session-start",children:[u.jsx("h3",{children:"Ready to start training?"}),u.jsx("p",{children:s==="practice"?"Practice mode lets you work at your own pace with hints available.":"Challenge mode gives you 5 minutes to answer as many questions as possible!"}),u.jsxs("button",{className:"start-session-button",onClick:m,children:["Start ",s==="challenge"?"Challenge":"Practice"]})]})}),p&&u.jsx("div",{className:"session-controls",children:u.jsx("button",{className:"end-session-button",onClick:y,children:"End Session"})}),u.jsxs("div",{className:"exercise-info",children:[u.jsxs("h3",{children:["About ",e.charAt(0).toUpperCase()+e.slice(1)," Recognition"]}),u.jsxs("div",{className:"info-content",children:[e==="interval"&&u.jsx("p",{children:"Interval recognition helps you identify the distance between two notes. This is fundamental for understanding melody, harmony, and chord progressions."}),e==="chord"&&u.jsx("p",{children:"Chord quality recognition teaches you to distinguish between different types of chords. This skill is essential for harmonic analysis and composition."}),e==="scale"&&u.jsx("p",{children:"Scale identification helps you recognize different scale types and their unique sounds. This knowledge is crucial for understanding musical modes and styles."})]})]}),u.jsx(JT,{})]})},tC=()=>u.jsx(KT,{children:u.jsxs("div",{className:"page-container",children:[u.jsx(En,{}),u.jsx("div",{className:"content-container",children:u.jsx(eC,{})})]})}),nC=()=>u.jsx(A0,{children:u.jsx(Wg,{children:u.jsx(Ug,{children:u.jsx(D0,{children:u.jsx(NT,{children:u.jsx("div",{className:"app",children:u.jsxs(f0,{children:[u.jsx(bt,{path:"/",element:u.jsx(ET,{})}),u.jsx(bt,{path:"/dashboard",element:u.jsx(AT,{})}),u.jsx(bt,{path:"/notes",element:u.jsx(DT,{})}),u.jsx(bt,{path:"/intervals",element:u.jsx(qT,{})}),u.jsx(bt,{path:"/scales",element:u.jsx(GT,{})}),u.jsx(bt,{path:"/relative",element:u.jsx(YT,{})}),u.jsx(bt,{path:"/circle-of-fifths",element:u.jsx(VT,{})}),u.jsx(bt,{path:"/chord-visualizer",element:u.jsx(WT,{})}),u.jsx(bt,{path:"/mode-transformer",element:u.jsx(UT,{})}),u.jsx(bt,{path:"/ear-training",element:u.jsx(tC,{})})]})})})})})})}),sC=j.createContext(),rC=({children:t})=>{const{progress:e,updatePreferences:n}=nl(),s=e.preferences||{notationPreference:"piano",audioEnabled:!0,showTips:!0},l={preferences:s,setNotationPreference:c=>{["piano","guitar","standard"].includes(c)&&n({notationPreference:c})},toggleAudio:()=>{n({audioEnabled:!s.audioEnabled})},toggleTips:()=>{n({showTips:!s.showTips})},setMultiplePreferences:c=>{n(c)}};return u.jsx(sC.Provider,{value:l,children:t})};Ml.createRoot(document.getElementById("root")).render(u.jsx(mf.StrictMode,{children:u.jsx(w0,{children:u.jsx(Wg,{children:u.jsx(Ug,{children:u.jsx(rC,{children:u.jsx(nC,{})})})})})}));
//# sourceMappingURL=main-DmnD_dGp.js.map
